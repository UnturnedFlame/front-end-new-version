import{_ as m,r as p,l as v,V as h,o as x,n as f,W as y}from"./index-BeHN7UMk.js";const _={__name:"healthEvaluationSummary",props:{data:{type:Array,required:!0,validator:i=>i.every(r=>r.length===4)}},setup(i){const r=i,n=p(null);let e=null;const s=["正常","轻微退化","严重退化","失效"],d=["#4CAF50","#FFC107","#FF9800","#F44336"],u=()=>{if(!n.value)return;e=y(n.value);const l={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:a=>{const o=a.reduce((t,c)=>t+c.value,0);return a.map(t=>`
        ${t.marker} ${t.seriesName}: ${t.value.toFixed(2)} (${(t.value/o*100).toFixed(1)}%)
        `).join("<br>")+`<br>总和: ${o.toFixed(2)}`}},title:{text:"样本退化状态分析",left:"center",textStyle:{fontSize:18,fontWeight:"bold",color:"#333"}},legend:{data:s,top:40},grid:{left:"10%",right:"10%",bottom:"18%",containLabel:!0},xAxis:{type:"category",data:r.data.map((a,o)=>`样本 ${o+1}`),axisLabel:{rotate:45,interval:0}},yAxis:{type:"value",name:"状态隶属概率",nameLocation:"middle",nameGap:30,nameTextStyle:{fontWeight:"",fontSize:14,padding:[0,0,20,0]},axisLabel:{formatter:a=>a*100+"%"},max:1},series:s.map((a,o)=>({name:a,type:"bar",stack:"total",emphasis:{focus:"series"},itemStyle:{color:d[o]},data:r.data.map(t=>t[o]),label:{show:!0,position:"inside",formatter:t=>t.value>.1?(t.value*100).toFixed(0)+"%":""}})),dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],start:0,end:100,height:20,bottom:60,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%"}]};e.setOption(l)};return v(()=>{u(),window.addEventListener("resize",()=>e==null?void 0:e.resize())}),h(()=>{window.removeEventListener("resize",()=>e==null?void 0:e.resize()),e==null||e.dispose()}),(l,a)=>(x(),f("div",{ref_key:"chartContainer",ref:n,class:"chart-container"},null,512))}},b=m(_,[["__scopeId","data-v-5a7e6067"]]);export{b as h};
