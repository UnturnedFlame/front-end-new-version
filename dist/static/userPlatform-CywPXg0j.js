import{c,I as la,d as je,r as v,u as _l,a as Et,l as $t,j as Pe,E as q,m as Ke,b as te,o as V,n as L,w as g,i as le,g as T,q as L2,s as ae,f as i,e as ke,t as Fe,v as B2,x as gt,p as Un,k as Jn,_ as Ot,F as Ye,y as qe,C as F2,z as Y2,A as lt,B as ct,D as $2,G as Hn,H as Cs,J as at,K as ot,L as Le,M as Vn,N as We,O as mt,P as vt,T as od,Q as Fn,R as nc,S as lc,U as T2,V as oa,W as Bn,X as X2,Y as O2,Z as H2,$ as ad,a0 as P2,a1 as sd,a2 as id,a3 as Fo,a4 as Ft,a5 as K2,a6 as rd,a7 as nt,a8 as U2,a9 as no,aa as J2,ab as j2,ac as Wr,ad as Q2,ae as tt,af as q2,ag as ul,ah as ef,ai as tf,aj as ls,ak as nf,al as lf,am as No,an as Ll,ao as of,ap as os,aq as sn,h as Vo,ar as af,as,at as il}from"./index-BeHN7UMk.js";import{_ as sf}from"./system-logo-CgO6XnvJ.js";import{l as Yo,a as rf,p as uf,c as cf}from"./constant-CsPomWco.js";import{h as df}from"./healthEvaluationSummary-8xBJf7Er.js";const Is="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736257520480'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8708'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M439.296%20153.6h145.408a25.6%2025.6%200%200%201%2025.344%2029.3376l-60.672%20409.6a25.6%2025.6%200%200%201-25.344%2021.8624h-24.064a25.6%2025.6%200%200%201-25.344-21.8624l-60.672-409.6A25.6%2025.6%200%200%201%20439.296%20153.6zM512%20870.4a102.4%20102.4%200%201%201%200-204.8%20102.4%20102.4%200%200%201%200%20204.8zM102.4%2051.2h819.2a51.2%2051.2%200%200%201%2051.2%2051.2v819.2a51.2%2051.2%200%200%201-51.2%2051.2H102.4a51.2%2051.2%200%200%201-51.2-51.2V102.4a51.2%2051.2%200%200%201%2051.2-51.2z%20m0%2051.2v819.2h819.2V102.4H102.4z'%20fill='%236574DC'%20p-id='8709'%3e%3c/path%3e%3c/svg%3e",xs=""+new URL("algorithm-introduction-dA5slHc0.png",import.meta.url).href,As="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1726920247288'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17284'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M422.4%2064H108.8C84.1%2064%2064%2084.1%2064%20108.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V108.8c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H108.8V108.8h313.6v313.6zM422.4%20556.8H108.8c-24.7%200-44.8%2020.1-44.8%2044.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V601.6c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H108.8V601.6h313.6v313.6zM915.2%2064H601.6c-24.7%200-44.8%2020.1-44.8%2044.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V108.8c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H601.6V108.8h313.6v313.6zM601.6%20736c-12.4%200-22.4%2010-22.4%2022.4v179.2c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V758.4c0-12.4-10-22.4-22.4-22.4zM713.6%20736c-12.4%200-22.4%2010-22.4%2022.4v179.2c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V758.4c0-12.4-10-22.4-22.4-22.4zM825.6%20646.4c-12.4%200-22.4%2010-22.4%2022.4v268.8c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V668.8c0-12.4-10-22.4-22.4-22.4zM937.6%20601.6c-12.4%200-22.4%2010-22.4%2022.4v313.6c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V624c0-12.4-10-22.4-22.4-22.4z'%20fill='%23333333'%20p-id='17285'%3e%3c/path%3e%3c/svg%3e",ks=""+new URL("algorithms-unfold-Co0658TG.png",import.meta.url).href,Ss="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736168100009'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4411'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M959.296%2090.88c12.032%200%2021.824%209.6%2021.824%2021.312v238.336l0.192%20540.352v64H256.32v-64l660.992-0.064V389.504H128v256H64V112.256c0-11.776%209.792-21.312%2021.824-21.312H959.36z%20m-273.728%20464.128l4.48%203.648%20118.464%20115.52-44.672%2045.824-95.872-93.504-149.248%20148.992a32%2032%200%200%201-39.68%204.416l-5.12-3.968-117.632-112.64-260.032%20262.784-45.504-44.992%20282.24-285.184a32%2032%200%200%201%2040.448-4.16l4.48%203.584%20117.696%20112.768%20149.44-149.184a32%2032%200%200%201%2040.512-3.84zM832%20218.88H341.312v42.688H832V218.88z%20m-576-0.064H192v42.688h64v-42.688z'%20fill='%23242831'%20p-id='4412'%3e%3c/path%3e%3c/svg%3e",Ns="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1745400463914'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18552'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M544.371613%20793.434839H254.348387c-13.212903%200-23.783226-10.570323-23.783226-23.783226V245.099355c0-13.212903%2010.570323-23.783226%2023.783226-23.783226h524.552258c13.212903%200%2023.783226%2010.570323%2023.783226%2023.783226v287.380645h47.566452V245.099355c0-39.63871-31.710968-71.349677-71.349678-71.349678H254.348387c-39.63871%200-71.349677%2031.710968-71.349677%2071.349678v524.552258c0%2039.63871%2031.710968%2071.349677%2071.349677%2071.349677h290.023226v-47.566451z'%20p-id='18553'%3e%3c/path%3e%3cpath%20d='M348.820645%20452.541935L443.953548%20548.335484c7.927742%207.927742%2021.140645%209.249032%2030.389678%202.642581l206.781935-143.36c10.570323-7.267097%2013.873548-22.461935%205.945807-33.032259-7.267097-10.570323-22.461935-13.873548-33.032258-5.945806L463.772903%20500.108387%20382.513548%20418.849032c-9.249032-9.249032-24.443871-9.249032-33.692903%200-9.249032%209.249032-9.249032%2024.443871%200%2033.692903z'%20p-id='18554'%3e%3c/path%3e%3cpath%20d='M693.016774%20610.436129l6.606452%2023.783226c31.050323%200%2055.494194%2025.104516%2055.494193%2055.494193%200%2031.050323-25.104516%2055.494194-55.494193%2055.494194-30.389677%200-55.494194-25.104516-55.494194-55.494194%200-31.050323%2025.104516-55.494194%2055.494194-55.494193l6.606451-23.783226-6.606451-23.783226c-56.815484%200-103.060645%2046.245161-103.060645%20103.060645s46.245161%20103.060645%20103.060645%20103.060646%20103.060645-46.245161%20103.060645-103.060646-46.245161-103.060645-103.060645-103.060645v23.783226h-6.606452z'%20p-id='18555'%3e%3c/path%3e%3cpath%20d='M761.063226%20769.651613l110.988387%20126.843871%2036.335484-31.050323-118.255484-134.110967'%20p-id='18556'%3e%3c/path%3e%3c/svg%3e",Vs=""+new URL("browser-saved-models-1-9gu2N5Qa.png",import.meta.url).href,Ds=""+new URL("browser-saved-models-2-9rfBrd8z.png",import.meta.url).href,Es=""+new URL("check-model-tip-Sxes52ou.png",import.meta.url).href,Gs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1730019658807'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6879'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M196.608%20634.368l-68.096%20226.304c-4.608%2014.848%209.216%2028.672%2024.064%2024.064l230.912-64.512%2027.136-27.648-186.368-186.368-27.648%2028.16zM255.70304%20575.872l364.2112-364.20608%20186.4448%20186.4448-364.20608%20364.2112zM890.368%20313.856c43.008-43.008%2043.008-68.608%200-111.616l-74.752-74.752c-43.008-43.008-68.608-43.008-111.104%200l-53.248%2053.248%20186.368%20186.368%2052.736-53.248zM245.76%20454.656l21.504-21.504c2.56-2.56%202.56-6.656%200-9.728-2.56-2.56-2.56-6.656%200-9.728l72.704-72.704c8.704-8.704%208.704-22.528%200-31.232-8.704-8.704-22.528-8.704-31.232%200L236.032%20382.976c-2.56%202.56-6.656%202.56-9.728%200L204.8%20361.472c-2.56-2.56-2.56-6.656%200-9.728l41.984-41.984c8.704-8.704%208.704-22.528%200-31.232-8.704-8.704-22.528-8.704-31.232%200L174.08%20321.024c-2.56%202.56-6.656%202.56-9.728%200l-36.864-36.864c-2.56-2.56-2.56-6.656%200-9.728L268.8%20133.12c43.008-43.008%2068.608-43.008%20111.616%200l77.824%2077.824c8.704%208.704%2022.528%208.704%2031.232%200%208.704-8.704%208.704-22.528%200-31.232l-87.04-87.04c-43.008-43.008-112.64-43.008-155.136%200L84.992%20254.464c-13.312%2013.312-13.312%2035.328%200%2048.64l6.656%206.656%20144.384%20144.384c2.56%203.072%207.168%203.072%209.728%200.512zM930.304%20620.544l-91.648-91.648c-8.704-8.704-22.528-8.704-31.232%200-8.704%208.704-8.704%2022.528%200%2031.232l82.432%2082.432c43.008%2043.008%2043.008%2068.608%200%20111.616l-145.92%20146.432-46.592-46.592%2061.952-61.952c8.704-8.704%208.704-22.528%200-31.232-8.704-8.704-22.528-8.704-31.232%200L665.6%20822.784l-30.72-30.72%2077.824-77.824c8.704-8.704%208.704-22.528%200-31.232-8.704-8.704-22.528-8.704-31.232%200L604.16%20760.32c-7.68-7.68-20.48-7.68-28.16%200l-3.072%203.072c-7.68%207.68-7.68%2020.48%200%2028.16l150.016%20150.016c11.264%2011.264%2029.696%2011.264%2040.96%200l10.24-10.24%20155.136-155.136c43.52-43.008%2043.52-112.64%201.024-155.648z'%20p-id='6880'%3e%3c/path%3e%3c/svg%3e",Ms=""+new URL("customize-model-1-CGO38_hd.png",import.meta.url).href,Zs=""+new URL("customize-model-2-C4hpftIj.png",import.meta.url).href,zs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1726920203427'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14393'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M891.2%20461l-76.5-36.5-53.8%2025.7%20107.6%2051.3c12.1%205.8%2012.1%2015.2%200%2021L534%20682.1c-6%202.9-14%204.3-22%204.3s-15.9-1.4-22-4.3L155.6%20522.5c-12.1-5.8-12.1-15.2%200-21l107.6-51.3-53.8-25.7-76.6%2036.5C110.4%20471.7%2097%20490.8%2097%20512s13.4%2040.3%2035.8%2051l334.5%20159.6c16.3%207.8%2033.3%209.4%2044.7%209.4%2011.4%200%2028.4-1.6%2044.7-9.4L891.2%20563c22.4-10.7%2035.8-29.8%2035.8-51s-13.4-40.3-35.8-51z'%20p-id='14394'%3e%3c/path%3e%3cpath%20d='M512%20142.6c8%200%2015.9%201.4%2022%204.3l334.5%20159.6c12.1%205.8%2012.1%2015.2%200%2021L534%20487.1c-6%202.9-14%204.3-22%204.3s-15.9-1.4-22-4.3L155.6%20327.5c-12.1-5.8-12.1-15.2%200-21L490%20146.9c6.1-2.8%2014-4.3%2022-4.3m0-45.6c-11.4%200-28.4%201.6-44.7%209.4L132.8%20266C110.4%20276.7%2097%20295.8%2097%20317s13.4%2040.3%2035.8%2051l334.5%20159.6c16.3%207.8%2033.3%209.4%2044.7%209.4%2011.4%200%2028.4-1.6%2044.7-9.4L891.2%20368c22.4-10.7%2035.8-29.8%2035.8-51s-13.4-40.3-35.8-51L556.7%20106.4C540.4%2098.6%20523.4%2097%20512%2097zM891.2%20656l-76.5-36.5-53.8%2025.7%20107.6%2051.3c12.1%205.8%2012.1%2015.2%200%2021L534%20877.1c-6%202.9-14%204.3-22%204.3s-15.9-1.4-22-4.3L155.6%20717.5c-12.1-5.8-12.1-15.2%200-21l107.6-51.3-53.8-25.7-76.6%2036.5C110.4%20666.7%2097%20685.8%2097%20707s13.4%2040.3%2035.8%2051l334.5%20159.6c16.3%207.8%2033.3%209.4%2044.7%209.4%2011.4%200%2028.4-1.6%2044.7-9.4L891.2%20758c22.4-10.7%2035.8-29.8%2035.8-51s-13.4-40.3-35.8-51z'%20p-id='14395'%3e%3c/path%3e%3c/svg%3e",Rs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729825716905'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='32884'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M977.6128%20566.272c-30.583467%2054.0672-128.6144%2090.112-245.077333%20102.1952v108.1344c0%2018.0224-6.075733%2036.0448-18.295467%2054.0672C867.362133%20818.653867%20989.9008%20734.549333%20989.9008%20656.384v-90.112c0-6.007467-6.144-12.014933-12.288%200zM665.2928%2043.4176c-177.698133%200-324.744533%2054.135467-324.744533%20120.2176v6.007467h67.3792c177.698133%200%20324.744533%2054.0672%20324.744533%20120.149333v54.135467C879.650133%20331.912533%20989.9008%20283.8528%20989.9008%20223.778133v-60.142933c0-66.082133-147.0464-120.149333-324.676267-120.149333zM977.6128%20337.92c-30.72%2048.059733-128.682667%2078.097067-245.077333%2090.112V584.362667C879.650133%20572.279467%20989.9008%20512.2048%20989.9008%20446.0544V337.92c0-6.007467-6.144-12.014933-12.288%200zM358.843733%20217.770667C181.213867%20217.770667%2034.167467%20271.7696%2034.167467%20337.92v54.0672c0%2066.082133%20147.0464%20126.225067%20324.676266%20126.225067%20177.698133%200%20324.744533-54.135467%20324.744534-126.225067V337.92c0-66.082133-140.9024-120.149333-324.744534-120.149333z%20m312.456534%20294.434133C634.5728%20566.272%20505.890133%20608.256%20358.843733%20608.256%20211.8656%20608.324267%2083.182933%20566.272%2046.455467%20512.2048%2040.311467%20500.189867%2034.167467%20506.197333%2034.167467%20512.2048v108.1344C34.167467%20698.504533%20181.213867%20764.586667%20358.843733%20764.586667c177.698133%200%20324.744533-66.082133%20324.744534-144.247467V512.2048c0-6.007467%200-12.014933-12.288%200z%20m0%20228.352c-36.727467%2060.074667-165.410133%20108.1344-312.456534%20108.1344-146.978133%200-275.6608-42.052267-312.456533-108.1344-6.144-12.014933-12.219733-6.007467-12.219733%200v90.112c0%2084.1728%20147.0464%20174.2848%20324.676266%20174.2848%20177.698133%200%20324.744533-90.112%20324.744534-174.2848v-90.112c0-6.007467%200-12.014933-12.288%200z'%20fill='%23A5D985'%20p-id='32885'%3e%3c/path%3e%3c/svg%3e",Ws="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736169535017'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='39043'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M85.333333%20238.933333c-51.2%200-85.333333-42.666667-85.333333-85.333333%200-51.2%2042.666667-85.333333%2085.333333-85.333333%2051.2%200%2085.333333%2042.666667%2085.333334%2085.333333%208.533333%2042.666667-34.133333%2085.333333-85.333334%2085.333333zM955.733333%20213.333333H290.133333c-34.133333%200-59.733333-25.6-59.733333-59.733333s25.6-59.733333%2059.733333-59.733333h665.6c34.133333%200%2059.733333%2025.6%2059.733334%2059.733333s-25.6%2059.733333-59.733334%2059.733333zM85.333333%20597.333333c-42.666667%200-85.333333-34.133333-85.333333-85.333333s42.666667-85.333333%2085.333333-85.333333c51.2%200%2085.333333%2042.666667%2085.333334%2085.333333%208.533333%2051.2-34.133333%2085.333333-85.333334%2085.333333zM955.733333%20571.733333H290.133333c-25.6%200-59.733333-25.6-59.733333-59.733333s25.6-59.733333%2059.733333-59.733333h665.6c34.133333%200%2059.733333%2025.6%2059.733334%2059.733333s-25.6%2059.733333-59.733334%2059.733333zM85.333333%20964.266667c-51.2%200-85.333333-42.666667-85.333333-85.333334%200-51.2%2042.666667-85.333333%2085.333333-85.333333%2051.2%200%2085.333333%2042.666667%2085.333334%2085.333333%208.533333%2042.666667-34.133333%2085.333333-85.333334%2085.333334zM955.733333%20930.133333H290.133333c-34.133333%200-59.733333-25.6-59.733333-59.733333s25.6-59.733333%2059.733333-59.733333h665.6c34.133333%200%2059.733333%2025.6%2059.733334%2059.733333s-25.6%2059.733333-59.733334%2059.733333z'%20fill='%234D4D4D'%20p-id='39044'%3e%3c/path%3e%3c/svg%3e",Ls="data:application/octet-stream;base64,aW1wb3J0IHBpY2tsZQppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IGFyZ3BhcnNlCmltcG9ydCB0b3JjaC5ubiBhcyBubgppbXBvcnQgdG9yY2gKCiMgTFNUTee9kee7nApjbGFzcyBMU1RNKG5uLk1vZHVsZSk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgaW5wdXRfc2l6ZSwgaGlkZGVuX3NpemUsIG51bV9sYXllcnMsIG91dHB1dF9zaXplKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmlucHV0X3NpemUgPSBpbnB1dF9zaXplCiAgICAgICAgc2VsZi5oaWRkZW5fc2l6ZSA9IGhpZGRlbl9zaXplCiAgICAgICAgc2VsZi5udW1fbGF5ZXJzID0gbnVtX2xheWVycwogICAgICAgIHNlbGYub3V0cHV0X3NpemUgPSBvdXRwdXRfc2l6ZQogICAgICAgIHNlbGYubnVtX2RpcmVjdGlvbnMgPSAxICAjIOWNleWQkUxTVE0KICAgICAgICBzZWxmLmxzdG0gPSBubi5MU1RNKHNlbGYuaW5wdXRfc2l6ZSwgc2VsZi5oaWRkZW5fc2l6ZSwgc2VsZi5udW1fbGF5ZXJzLCBiYXRjaF9maXJzdD1UcnVlKQogICAgICAgIHNlbGYubGluZWFyID0gbm4uTGluZWFyKHNlbGYuaGlkZGVuX3NpemUsIHNlbGYub3V0cHV0X3NpemUpCgogICAgZGVmIGZvcndhcmQoc2VsZiwgaW5wdXRfc2VxKToKICAgICAgICBiYXRjaF9zaXplLCBzZXFfbGVuID0gaW5wdXRfc2VxLnNoYXBlWzBdLCBpbnB1dF9zZXEuc2hhcGVbMV0KICAgICAgICAjIGhfMCA9IHRvcmNoLnJhbmRuKHNlbGYubnVtX2RpcmVjdGlvbnMgKiBzZWxmLm51bV9sYXllcnMsIHNlbGYuYmF0Y2hfc2l6ZSwgc2VsZi5oaWRkZW5fc2l6ZSkudG8oZGV2aWNlKQogICAgICAgICMgY18wID0gdG9yY2gucmFuZG4oc2VsZi5udW1fZGlyZWN0aW9ucyAqIHNlbGYubnVtX2xheWVycywgc2VsZi5iYXRjaF9zaXplLCBzZWxmLmhpZGRlbl9zaXplKS50byhkZXZpY2UpCiAgICAgICAgIyBvdXRwdXQoYmF0Y2hfc2l6ZSwgc2VxX2xlbiwgbnVtX2RpcmVjdGlvbnMgKiBoaWRkZW5fc2l6ZSkKICAgICAgICBvdXRwdXQsIF8gPSBzZWxmLmxzdG0oaW5wdXRfc2VxKSAgIyBvdXRwdXQoNDAsIDIwNDgsIDEwMCkKICAgICAgICBwcmVkID0gc2VsZi5saW5lYXIob3V0cHV0KSAgIyAoNDAsIDIwNDgsIDEpCiAgICAgICAgcHJlZCA9IHByZWRbOiwgLTEsIDpdICAjICg0MCwgMSkKICAgICAgICByZXR1cm4gcHJlZC5zcXVlZXplKDEpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIAogICAgZGV2aWNlID0gdG9yY2guZGV2aWNlKCJjdWRhOjAiIGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCkgZWxzZSAiY3B1IikKICAgIAogICAgIyDmt7vliqDlkb3ku6TooYzlj4LmlbAKICAgIHBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKGRlc2NyaXB0aW9uPSdtYW51YWwgdG8gdGhpcyBzY3JpcHQnKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1tb2RlbC1maWxlcGF0aCcsIHR5cGU9c3RyLCBkZWZhdWx0ID0gTm9uZSkgICMg5qih5Z6L5Y+C5pWwCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCctLWlucHV0LWZpbGVwYXRoJywgdHlwZT1zdHIsIGRlZmF1bHQgPSBOb25lKSAgIyDovpPlhaXmlbDmja4KCiAgICAjIOino+aekOWRveS7pOihjOWPguaVsAogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKICAgIG1vZGVsX2ZpbGVwYXRoID0gYXJncy5tb2RlbF9maWxlcGF0aAogICAgaW5wdXRfZmlsZXBhdGggPSBhcmdzLmlucHV0X2ZpbGVwYXRoCiAgICAKICAgICMg5Yqg6L29bHN0beaooeWeiwogICAgbHN0bV9tb2RlbCA9IExTVE0oaW5wdXRfc2l6ZT03LCBoaWRkZW5fc2l6ZT02NCwgbnVtX2xheWVycz00LCBvdXRwdXRfc2l6ZT0xKS50byhkZXZpY2UpCiAgICBsc3RtX21vZGVsLmxvYWRfc3RhdGVfZGljdCh0b3JjaC5sb2FkKG1vZGVsX2ZpbGVwYXRoKSkKICAgIGxzdG1fbW9kZWwuZXZhbCgpCiAgICAKICAgICMg5qih5Z6L5o6o55CGCiAgICBleGFtcGxlID0gbnAubG9hZChpbnB1dF9maWxlcGF0aCkKICAgIGlucHV0cyA9IHRvcmNoLmZyb21fbnVtcHkoZXhhbXBsZSkudHlwZSh0b3JjaC5GbG9hdFRlbnNvcikucmVzaGFwZSgoLTEsIDIwNDgsIDcpKS50byhkZXZpY2UpCiAgICBwcmVkaWN0ZWQgPSBsc3RtX21vZGVsLmZvcndhcmQoaW5wdXRzKQogICAgCiAgICAjIOagueaNrumYiOWAvOWIpOaWreacieaXoOaVhemanAogICAgaWYgcHJlZGljdGVkLnJlc2hhcGUoLTEpLml0ZW0oKSA8IDA6CiAgICAgICAgcHJlZGljdGlvbiA9IDAKICAgIGVsc2U6CiAgICAgICAgcHJlZGljdGlvbiA9IDEKICAgICAgICAKICAgICMg5Lul5omT5Y2w6L6T5Ye655qE5b2i5byP6L+U5Zue5pWF6Zqc6K+K5pat57uT5p6cCiAgICBwcmludChwcmVkaWN0aW9uKQogICAgCg==",Bs="data:application/octet-stream;base64,aW1wb3J0IHBpY2tsZQ0KaW1wb3J0IGpvYmxpYg0KaW1wb3J0IGFyZ3BhcnNlDQoNCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6DQogICAgDQogICAgIyDmt7vliqDlkb3ku6TooYzlj4LmlbANCiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0nbWFudWFsIHRvIHRoaXMgc2NyaXB0JykNCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCctLW1vZGVsLWZpbGVwYXRoJywgdHlwZT1zdHIsIGRlZmF1bHQgPSBOb25lKSAgIyDmqKHlnovlj4LmlbANCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCctLWlucHV0LWZpbGVwYXRoJywgdHlwZT1zdHIsIGRlZmF1bHQgPSBOb25lKSAgIyDovpPlhaXmlbDmja4NCg0KICAgICMg6Kej5p6Q5ZG95Luk6KGM5Y+C5pWwDQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkNCiAgICBtb2RlbF9maWxlcGF0aCA9IGFyZ3MubW9kZWxfZmlsZXBhdGgNCiAgICBpbnB1dF9maWxlcGF0aCA9IGFyZ3MuaW5wdXRfZmlsZXBhdGgNCiAgICANCiAgICAjIOWKoOi9veaooeWeiw0KICAgIG1vZGVsID0gam9ibGliLmxvYWQobW9kZWxfZmlsZXBhdGgpDQogICAgDQogICAgIyDmqKHlnovmjqjnkIYNCiAgICBleGFtcGxlID0gcGlja2xlLmxvYWQob3BlbihpbnB1dF9maWxlcGF0aCwgJ3JiJykpICAjIOivu+WPlui+k+WFpeaVsOaNrg0KICAgICMg5o+Q5Y+W5omA6ZyA54m55b6B6L+b6KGM5qih5Z6L6aKE5rWLDQogICAgY2hvb3NlX2ZlYXR1cmVzX2VuZyA9IFsnc3RkJywgJ3JtcycsICd2YXInLCAncmVjdGlmaWVkX21lYW4nLCAncm9vdF9hbXBsaXR1ZGUnLCAncGVha190b19wZWFrJywgJ2N1bXVsYW50XzZ0aCcsICdtZWFuJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3VtdWxhbnRfNHRoJywgJ21pbiddDQogICAgcHJlZGljdGlvbiA9IG1vZGVsLnByZWRpY3QoZXhhbXBsZVtjaG9vc2VfZmVhdHVyZXNfZW5nXVswOjFdKQ0KICAgIA0KICAgICMg5Lul5omT5Y2w6L6T5Ye655qE5b2i5byP6L+U5Zue5pWF6Zqc6aKE5rWL57uT5p6c77yI5Y+v6IO95Ye6546w5pWF6Zqc55qE5pe26Ze077yJDQogICAgcHJpbnQoZid7cHJlZGljdGlvbi5pdGVtKCl9IycsIGVuZD0nJykgICMg5omT5Y2w6aKE5rWL57uT5p6c5pe277yM6ZyA6KaB5re75YqgI+WPt++8jOWQpuWImeaXoOazleivhuWIqw==",Fs="data:application/octet-stream;base64,gASVEgwAAAAAAAB9lCiMDWZ1bmN0aW9uX2RpY3SUfZQojAVtZWFuc5SMEXBhbmRhcy5jb3JlLmZyYW1llIwJRGF0YUZyYW1llJOUKYGUfZQojARfbWdylIwecGFuZGFzLmNvcmUuaW50ZXJuYWxzLm1hbmFnZXJzlIwMQmxvY2tNYW5hZ2VylJOUjBZwYW5kYXMuX2xpYnMuaW50ZXJuYWxzlIwPX3VucGlja2xlX2Jsb2NrlJOUjBZudW1weS5fY29yZS5tdWx0aWFycmF5lIwMX3JlY29uc3RydWN0lJOUjAVudW1weZSMB25kYXJyYXmUk5RLAIWUQwFilIeUUpQoSwFLCEsEhpRoE4wFZHR5cGWUk5SMAmY4lImIh5RSlChLA4wBPJROTk5K/////0r/////SwB0lGKJQgABAAAX2c4/m0HXPyGwcpw6Jto/5/upgUlp3D8/NV40QwfgPz0K15vu2fw/tvP9PGpY/j/TTWLwD//+P6jGS6f02v4/tvP9oKaDBkAMAisZ3+UBQLTIdsKGRQFAke18lcQFAEDuPL5ym4naPxkEzXHg3LK/XA+klsZ2mb9vErP/xoqGv++A1uuA+nVADnWPqPardEAMgu+yu759QKrNM2dxHX1A9p5qsZk/EUHJFaucAvsPQQsQa9M0GhJBHVecEkT1DkFbHfsbLISAQLxKfvKj3n9ALnAV8w8CgUBQrrWW9nd/QKmUMq3FmnhAjK5a6icaeEC///JZBClwQJwcQD1O1mdAlHSUYowIYnVpbHRpbnOUjAVzbGljZZSTlEsASwhLAYeUUpRLAoeUUpSFlF2UKIwYcGFuZGFzLmNvcmUuaW5kZXhlcy5iYXNllIwKX25ld19JbmRleJSTlIwZcGFuZGFzLmNvcmUuaW5kZXhlcy5yYW5nZZSMClJhbmdlSW5kZXiUk5R9lCiMBG5hbWWUTowFc3RhcnSUSwCMBHN0b3CUSwiMBHN0ZXCUSwF1hpRSlGgvaC2MBUluZGV4lJOUfZQojARkYXRhlGgSaBVLAIWUaBeHlFKUKEsBSwSFlGgfiUMgAAAAAAAAAAAAAAAAAADwPwAAAAAAAABAAAAAAAAACECUdJRiaDRLCHWGlFKUZYaUUpSMBF90eXCUjAlkYXRhZnJhbWWUjAlfbWV0YWRhdGGUXZSMBWF0dHJzlH2UjAZfZmxhZ3OUfZSMF2FsbG93c19kdXBsaWNhdGVfbGFiZWxzlIhzdWKMBHN0ZHOUaAYpgZR9lChoCWgMaA9oEmgVSwCFlGgXh5RSlChLAUsISwSGlGgfiUIAAQAArrIFaD7VUj+zUHykFnNDP6dta6cWxTw/Y8JlWH8qRT99uFXUKlmFP36BQQd7oHU/bBFPY1EKXz+6nhJzAr1aP9qezHfTTcA/EGuT4RPLoj9iqPHd1E6YPyE41xnYy1g/uHU5pP8ssD82fjwoTLqGPyMh77sqbHw/rXuF9h9OVT+HdbG4sNebQB//IUNNlqlAKqvponyEikAiNP0QQK1CQIqR2QCBXupBvnVMizn53UH0bGahBxy7QUcoedWo+ZdBomSNltB+qUDSiOtk+MueQI19WEOrSndAA/TxeamkWEDFKOoULf+gQC2xLZm4x4JAidALB8yhokBwiJEXxtZoQJR0lGJoJksASwhLAYeUUpRLAoeUUpSFlF2UKGgvaDJ9lChoNE5oNUsAaDZLCGg3SwF1hpRSlGhFZYaUUpRoSGhJaEpoS2hMfZRoTn2UaFCIc3VidYwIV2VpZ2h0XzGUaBJoFUsAhZRoF4eUUpQoSwFLAoWUaB+JQxAAAAAAAADoPwAAAAAAANA/lHSUYowIV2VpZ2h0XzKUXZQoaBJoFUsAhZRoF4eUUpQoSwFLBIWUaB+JQyCiczUvnvvZP19FdZIWRMI/xopA1pYm1z+mez3F/u62P5R0lGJoEmgVSwCFlGgXh5RSlChLAUsEhZRoH4lDICmqbX2NyN8/w27y1eNgwD+Mmehk6JTSP6wTwspgyLU/lHSUYmWMEG51bV9zZWNvbmRfbGV2ZWyUSwiMC3N0YXR1c19udW1zlEsEjA10aW1lX2tleV9saXN0lF2UKIwJ5Z2H5pa55qC5lIwJ5bOw5bOw5YC8lIwG5bOw5bqmlIwG5YGP5bqmlGWMDGZyZV9rZXlfbGlzdJRdlCiMDOmHjeW/g+mikeeOh5SMDOWdh+aWuemikeeOh5SMD+Wdh+aWueaguemikeeOh5SMD+mikeeOh+agh+WHhuW3rpRljAxzdGF0dXNfbmFtZXOUXZQojAbmraPluLiUjAzovbvlvq7pgIDljJaUjAzkuKXph43pgIDljJaUjAblpLHmlYiUZYwPc3VnZ2VzdGlvbl9kaWN0lH2UKGiMWAIBAADorr7lpIflvZPliY3lpITkuo7mraPluLjlt6XkvZznirbmgIHvvIzkvYbkuLrkuobkv53mjIHlhbbplb/mnJ/nqLPlrprov5DooYzvvIzlu7rorq7lrprmnJ/ov5vooYzlhajpnaLmo4Dmn6XlkozmuIXmtIHkv53lhbvvvIzlsKTlhbbms6jmhI/lhbPplK7pg6jkvY3nmoTmtqbmu5Hnu7TmiqTjgILlkIzml7bvvIzmk43kvZzkurrlkZjov5vooYzln7norq3vvIznoa7kv53lhbbkuobop6PmraPnoa7nmoTmk43kvZzmtYHnqIvlkozlupTmgKXmjqrmlr3jgIKUaI1YEQEAAOiuvuWkh+W3sue7j+ihqOeOsOWHuui9u+W+rueahOmAgOWMlui/ueixoe+8jOW7uuiurueri+WNs+i/m+ihjOivpue7huajgOafpe+8jOehruWumumAgOWMlueahOWFt+S9k+mDqOS9jeWSjOWOn+WboOOAgumSiOWvueWPkeeOsOeahOmXrumimOi/m+ihjOWxgOmDqOe7tOS/ruaIluabtOaNouejqOaNn+mbtumDqOS7tu+8jOWQjOaXtuWKoOWvhuajgOafpemikeeOh++8jOS7pemYsuatoui/m+S4gOatpemAgOWMluW5tuaBouWkjeiuvuWkh+eahOato+W4uOi/kOihjOeKtuaAgeOAgpRojlg+AQAA6K6+5aSH5Ye6546w5Lil6YeN6YCA5YyW77yM5bu66K6u56uL5Y2z5YGc5py66L+b6KGM5YWo6Z2i5qOA5p+l5ZKM6K+E5Lyw44CC5Yi25a6a6K+m57uG55qE57u05L+u6K6h5YiS77yM5YyF5ous5pu05o2i5o2f5Z2P5oiW6ICB5YyW55qE5YWz6ZSu6Zu26YOo5Lu277yM5bm25qOA5p+l6K6+5aSH55qE5omA5pyJ6L+e5o6l5ZKM57O757uf44CC57u05L+u5ZCO6L+b6KGM5YWo6Z2i5rWL6K+V77yM56Gu5L+d6K6+5aSH5oGi5aSN5Yiw5q2j5bi45bel5L2c54q25oCB77yM5ZCM5pe26ICD6JmR5Yqg5by65pyq5p2l55qE6aKE6Ziy5oCn57u05oqk5o6q5pa944CClGiPWHEBAADorr7lpIflt7LlrozlhajlpLHmlYjvvIzlu7rorq7nq4vljbPlgZzmnLrlubbov5vooYzlhajpnaLor4rmlq3vvIznoa7lrprlpLHmlYjljp/lm6DlkozojIPlm7TjgILkuI7orr7lpIfliLbpgKDllYbmiJbkuJPkuJrnu7Tkv67lm6LpmJ/lkIjkvZzvvIzliLblrprlkozlrp7mlr3or6bnu4bnmoTkv67lpI3orqHliJLvvIzljIXmi6zmm7TmjaLmjZ/lnY/nmoTmoLjlv4Ppg6jku7blkozns7vnu5/jgILkv67lpI3lkI7ov5vooYzkuKXmoLznmoTmtYvor5XlkozpqozmlLbvvIznoa7kv53orr7lpIflrozlhajmgaLlpI3lip/og73vvIzlubbliLblrprmlLnov5vnmoTnu7TmiqTorqHliJLku6XpmLLmraLnsbvkvLzpl67popjlho3mrKHlj5HnlJ/jgIKUdYwQcHJpbWFyeV9rZXlfbGlzdJRdlCiMDOaXtuWfn+aMh+agh5SMDOmikeWfn+aMh+agh5RldS4=",Ys=""+new URL("My-HE-Algorithm-1-BKxV_9aJ.py",import.meta.url).href,$s="data:application/octet-stream;base64,aW1wb3J0IG51bXB5IGFzIG5wCmZyb20gc2NpcHkuaW50ZXJwb2xhdGUgaW1wb3J0IGludGVycDFkCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgcmFuZG9tCgpkZWYgbGluZWFyX2ludGVycG9sYXRpb25fZm9yX3NpZ25hbChkYXRhOiBucC5uZGFycmF5KToKICAgICIiIgogICAg5a+55LqO5LiA57u05L+h5Y+355qE57q/5oCn5o+S5YC8CiAgICA6cGFyYW0gZGF0YTog6ZyA6KaB6L+b6KGM5o+S5YC855qE5Y6f5aeL5pWw5o2uCiAgICA6cmV0dXJuOiBhcnJheV9maWxsZWQsIOaPkuWAvOWQjueahOaVsOaNrgogICAgIiIiCiAgICBpbnRlcnBvbGF0ZWRfZGF0YSA9IGRhdGEuY29weSgpCiAgICAjIOWvueS6juavj+S4gOS4quaVsOaNruWQkemHj++8jOi/m+ihjOaPkuWAvOWkhOeQhgogICAgIyBmb3Iga2V5IGluIGludGVycG9sYXRlZF9kYXRhOgogICAgIyAgICAgaWYgbm90IGtleS5zdGFydHN3aXRoKCdfXycpOgogICAgYXJyYXkgPSBpbnRlcnBvbGF0ZWRfZGF0YS5mbGF0dGVuKCkgICMg5bCG5pWw5o2u5bGV5byA5oiQ5LiA57u05pWw57uECgogICAgIyDojrflj5blvZPliY3ooYznmoTmlbDmja4KICAgIHkgPSBhcnJheQogICAgeCA9IG5wLmFyYW5nZShsZW4oeSkpCgogICAgIyDmib7liLDpnZ5OYU7lgLzlkoxOYU7lgLznmoTntKLlvJUKICAgIG5hbl9pZHggPSBucC5pc25hbih5KQogICAgbm90X25hbl9pZHggPSB+bmFuX2lkeAoKICAgICMg5aaC5p6c6KGM5Lit5pyJTmFO5YC85LiU6Z2eTmFO5YC85pWw6YeP5aSn5LqO562J5LqOMu+8jOaJjei/m+ihjOaPkuWAvAogICAgaWYgbmFuX2lkeC5hbnkoKSBhbmQgbnAuc3VtKG5vdF9uYW5faWR4KSA+PSAyOgogICAgICAgICMg5L2/55So6Z2eTmFO5YC86L+b6KGM57q/5oCn5o+S5YC8CiAgICAgICAgaW50ZXJwX2Z1bmMgPSBpbnRlcnAxZCh4W25vdF9uYW5faWR4XSwgeVtub3RfbmFuX2lkeF0sIGtpbmQ9J2xpbmVhcicsIGZpbGxfdmFsdWU9ImV4dHJhcG9sYXRlIikKCiAgICAgICAgIyDnlKjmj5LlgLznu5Pmnpzmm7/mjaJOYU7lgLwKICAgICAgICB5W25hbl9pZHhdID0gaW50ZXJwX2Z1bmMoeFtuYW5faWR4XSkKICAgICAgICBhcnJheSA9IHkKCiAgICAjIOabtOaWsOaVsOaNrgogICAgaW50ZXJwb2xhdGVkX2RhdGEgPSBhcnJheS5yZXNoYXBlKDEsIC0xKSAgIyDnoa7kv53mlbDmja7ku43nhLbmmK/kuIDooYwKICAgIAogICAgcmV0dXJuIGludGVycG9sYXRlZF9kYXRhCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgCiAgICAjIDEu6Kej5p6Q5ZG95Luk6KGM5Y+C5pWwCiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0nbWFudWFsIHRvIHRoaXMgc2NyaXB0JykKICAgICMgMi7mt7vliqDlj4LmlbAKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoJy0tcmF3LWRhdGEtZmlsZXBhdGgnLCB0eXBlPXN0ciwgZGVmYXVsdCA9IE5vbmUpICAjIOWOn+Wni+aVsOaNrueahOWtmOaUvui3r+W+hAogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1pbnRlcnBvbGF0ZWQtZGF0YS1maWxlcGF0aCcsIHR5cGU9c3RyLCBkZWZhdWx0ID0gTm9uZSkgICMg5o+S5YC85ZCO55qE5pWw5o2u55qE5a2Y5pS+6Lev5b6ECiAgICAjIDMu6I635Y+W5Y+C5pWwCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQogICAgcmF3X2RhdGFfZmlsZXBhdGggPSBhcmdzLnJhd19kYXRhX2ZpbGVwYXRoICAjIOWOn+Wni+aVsOaNrueahOWtmOaUvui3r+W+hAogICAgaW50ZXJwb2xhdGVkX2RhdGFfZmlsZXBhdGggPSBhcmdzLmludGVycG9sYXRlZF9kYXRhX2ZpbGVwYXRoICAgIyDmj5LlgLzlkI7nmoTmlbDmja7nmoTlrZjmlL7ot6/lvoQKICAgIAogICAgIyDliqDovb3ljp/lp4vmlbDmja7lubbov5vooYzmj5LlgLwKICAgIHJhd19kYXRhID0gbnAubG9hZChyYXdfZGF0YV9maWxlcGF0aCkKICAgIGludGVycG9sYXRlZF9kYXRhID0gbGluZWFyX2ludGVycG9sYXRpb25fZm9yX3NpZ25hbChyYXdfZGF0YSkKICAgIAogICAgIyDkv53lrZjmj5LlgLznu5PmnpwsIOW5tuaJk+WNsOWHuuS/neWtmOeahOaWh+S7tui3r+W+hAogICAgcmVzdWx0c19maWxlcGF0aCA9IG5wLnNhdmUoaW50ZXJwb2xhdGVkX2RhdGFfZmlsZXBhdGgsIGludGVycG9sYXRlZF9kYXRhKQogICAgCiAgICBwcmludChmJ3tyYW5kb20uY2hvaWNlKHJhbmdlKDEwMCkpfSMnLCBlbmQ9JycpCiAgICA=",Ts="data:application/octet-stream;base64,aW1wb3J0IHBpY2tsZQ0KaW1wb3J0IG51bXB5IGFzIG5wDQppbXBvcnQgYXJncGFyc2UNCmZyb20gc2tsZWFybi5wcmVwcm9jZXNzaW5nIGltcG9ydCBNaW5NYXhTY2FsZXINCmltcG9ydCBqb2JsaWINCmltcG9ydCBwYW5kYXMgYXMgcGQNCg0KDQoNCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6DQogICAgICAgIA0KICAgICMg5re75Yqg5ZG95Luk6KGM5Y+C5pWwDQogICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249J21hbnVhbCB0byB0aGlzIHNjcmlwdCcpDQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1tb2RlbC1maWxlcGF0aCcsIHR5cGU9c3RyLCBkZWZhdWx0ID0gTm9uZSkgICMg5qih5Z6L5Y+C5pWwDQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1pbnB1dC1maWxlcGF0aCcsIHR5cGU9c3RyLCBkZWZhdWx0ID0gTm9uZSkgICMg6L6T5YWl5pWw5o2uDQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1vdXRwdXQtZmlsZXBhdGgnLCB0eXBlPXN0ciwgZGVmYXVsdCA9IE5vbmUpICAjIOi+k+WHuue7k+aenA0KDQogICAgIyDop6PmnpDlkb3ku6TooYzlj4LmlbANCiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQ0KICAgIG1vZGVsX2ZpbGVwYXRoID0gYXJncy5tb2RlbF9maWxlcGF0aA0KICAgIGlucHV0X2ZpbGVwYXRoID0gYXJncy5pbnB1dF9maWxlcGF0aA0KICAgIG91dHB1dF9maWxlcGF0aCA9IGFyZ3Mub3V0cHV0X2ZpbGVwYXRoDQogICAgDQogICAgIyDliqDovb3mlbDmja4NCiAgICBmaWxldHlwZSA9IGlucHV0X2ZpbGVwYXRoLnNwbGl0KCcuJylbLTFdDQogICAgaWYgZmlsZXR5cGUgPT0gJ3BrbCc6DQogICAgICAgICMg5aSE55CG5pWw5o2u5Li65o+Q5Y+W55qE54m55b6BDQogICAgICAgICMg5Yqg6L295L+d5a2Y5Li6LnBrbOexu+Wei+eahOaVsOaNrg0KICAgICAgICByYXdfZGF0YSA9IHBpY2tsZS5sb2FkKG9wZW4oaW5wdXRfZmlsZXBhdGgsICdyYicpKQ0KICAgIGVsc2U6DQogICAgICAgICMg5aSE55CG5pWw5o2u5Li65L+h5Y+35bqP5YiXDQogICAgICAgICMg5Yqg6L295L+d5a2Y5Li6Lm5weeexu+Wei+eahOaVsOaNrg0KICAgICAgICByYXdfZGF0YSA9IG5wLmxvYWQoaW5wdXRfZmlsZXBhdGgpDQogICAgICAgIA0KICAgICMg5a+56L6T5YWl5pWw5o2u6L+b6KGM5peg6YeP57qy5YyW77yM5bm25bCG5peg6YeP57qy5YyW5ZCO55qE5pWw5o2u5L+d5a2Y5Li65paH5Lu2DQogICAgaWYgbW9kZWxfZmlsZXBhdGggaXMgbm90IE5vbmU6DQogICAgICAgICMgKDEp5L2/55So5L+d5a2Y55qE6K6t57uD5pWw5o2u55qE5Y+C5pWw6L+b6KGM5peg6YeP57qy5YyW77yM5Lulc2Npa2l0LWxlYXJu55qETWluTWF4U2NhbGVy5Li65L6LDQogICAgICAgIGNob29zZV9mZWF0dXJlcyA9IFsn5qCH5YeG5beuJywgJ+Wdh+aWueaguScsICfmlrnlt64nLCAn5pW05rWB5bmz5Z2H5YC8JywgJ+aWueagueW5heWAvCcsIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgJ+WzsOWzsOWAvCcsICflha3pmLbntK/np6/ph48nLCAn5Z2H5YC8JywgJ+Wbm+mYtue0r+enr+mHjycsICfmnIDlsI/lgLwnXSAgIyDpgInmi6norq3nu4Pml7bnmoTmqKHlnovkvb/nlKjnmoTnibnlvoENCiAgICAgICAgc2NhbGVyID0gam9ibGliLmxvYWQobW9kZWxfZmlsZXBhdGgpICAjIOWKoOi9veS/neWtmOeahOiuree7g+aVsOaNrueahOaXoOmHj+e6suWMluWPguaVsA0KICAgICAgICBkYXRhX3NjYWxlZDogcGQuRGF0YUZyYW1lID0gcmF3X2RhdGEuY29weSgpDQogICAgICAgIGRhdGFfc2NhbGVkW2Nob29zZV9mZWF0dXJlc10gPSBzY2FsZXIudHJhbnNmb3JtKHJhd19kYXRhW2Nob29zZV9mZWF0dXJlc10pIA0KICAgICAgICBkYXRhX3NjYWxlZC50b19waWNrbGUob3V0cHV0X2ZpbGVwYXRoKSANCiAgICAgDQogICAgZWxzZToNCiAgICAgICAgIyAoMinlr7nkv6Hlj7fluo/liJfov5vooYzml6Dph4/nurLljJbvvIzku6VzY2lraXQtbGVhcm7nmoRNaW5NYXhTY2FsZXLkuLrkvosNCiAgICAgICAgc2NhbGVyID0gTWluTWF4U2NhbGVyKCkNCiAgICAgICAgcmF3X2RhdGEgPSByYXdfZGF0YS5yZXNoYXBlKC0xLCAxKQ0KICAgICAgICBkYXRhX3NjYWxlZDogbnAubmRhcnJheSA9IHNjYWxlci5maXRfdHJhbnNmb3JtKHJhd19kYXRhKQ0KICAgICAgICBucC5zYXZlKG91dHB1dF9maWxlcGF0aCwgZGF0YV9zY2FsZWQpDQogICANCiAgICANCg==",Xs="data:application/octet-stream;base64,aW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBhcmdwYXJzZQppbXBvcnQgcHl3dAoKIyDkuJPmnInlsI/ms6Llj5jmjaLlpITnkIbnrpfms5UKZGVmIHdhdmVsZXRfZGVub2lzZShkYXRhLCB3YXZlbGV0PSdkYjEnLCBsZXZlbD0xKToKICAgICIiIgogICAg5bCP5rOi5Y+Y5o2i6ZmN5ZmqCiAgICA6cGFyYW0gZGF0YTog5Y6f5aeL5pWw5o2uCiAgICA6cGFyYW0gd2F2ZWxldDog5L2/55So55qE5bCP5rOi5Z+6CiAgICA6cGFyYW0gbGV2ZWw6IOWwj+azouWIhuino+WxguaVsAogICAgOnJldHVybjog6ZmN5Zmq5ZCO55qE5pWw5o2uCiAgICAiIiIKICAgIGNvZWZmcyA9IHB5d3Qud2F2ZWRlYyhkYXRhLCB3YXZlbGV0LCBsZXZlbD1sZXZlbCkKICAgIHNpZ21hID0gbnAubWVkaWFuKG5wLmFicyhjb2VmZnNbLTFdKSkgLyAwLjY3NDUKCiAgICB1dGhyZXNoID0gc2lnbWEgKiBucC5zcXJ0KDIgKiBucC5sb2cobGVuKGRhdGEpKSkKCiAgICBkZW5vaXNlZF9jb2VmZnMgPSBbcHl3dC50aHJlc2hvbGQoYywgdmFsdWU9dXRocmVzaCwgbW9kZT0nc29mdCcpIGZvciBjIGluIGNvZWZmc10KCiAgICBkZW5vaXNlZF9kYXRhID0gcHl3dC53YXZlcmVjKGRlbm9pc2VkX2NvZWZmcywgd2F2ZWxldCkKCiAgICByZXR1cm4gZGVub2lzZWRfZGF0YQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICAKICAgICMg5re75Yqg5ZG95Luk6KGM5Y+C5pWwCiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcigpCiAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KCctLWlucHV0LWZpbGVwYXRoJywgdHlwZT1zdHIsIGRlZmF1bHQ9Jy4vaW5wdXRfZGF0YS5ucHknKSAgIyDovpPlhaXmlbDmja4KICAgIHBhcnNlci5hZGRfYXJndW1lbnQoJy0tb3V0cHV0LWZpbGVwYXRoJywgdHlwZT1zdHIsIGRlZmF1bHQ9Jy4vb3V0cHV0X2RhdGEubnB5JykgICMg6L6T5Ye657uT5p6cCgogICAgIyDop6PmnpDlkb3ku6TooYzlj4LmlbAKICAgIGFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCiAgICBpbnB1dF9maWxlcGF0aCA9IGFyZ3MuaW5wdXRfZmlsZXBhdGgKICAgIG91dHB1dF9maWxlcGF0aCA9IGFyZ3Mub3V0cHV0X2ZpbGVwYXRoCiAgICAKICAgICMg5bCP5rOi5Y+Y5o2i5aSE55CG5pWw5o2uCiAgICBpbnB1dF9kYXRhID0gbnAubG9hZChpbnB1dF9maWxlcGF0aCkgICMg5Y6f5aeL5L+h5Y+35bqP5YiXCiAgICByYXdfZGF0YSA9IGlucHV0X2RhdGEuZmxhdHRlbigpCiAgICBvdXRwdXRfZGF0YSA9IHdhdmVsZXRfZGVub2lzZShyYXdfZGF0YSkgCiAgICAjIOS/neWtmOWkhOeQhue7k+aenAogICAgbnAuc2F2ZShvdXRwdXRfZmlsZXBhdGgsIG91dHB1dF9kYXRhKQ==",Os="data:application/octet-stream;base64,aW1wb3J0IHBhbmRhcyBhcyBwZA0KZnJvbSBza2xlYXJuLmVuc2VtYmxlIGltcG9ydCBSYW5kb21Gb3Jlc3RDbGFzc2lmaWVyDQppbXBvcnQgam9ibGliDQpmcm9tIHNrbGVhcm4ubW9kZWxfc2VsZWN0aW9uIGltcG9ydCB0cmFpbl90ZXN0X3NwbGl0DQpmcm9tIHNrbGVhcm4ubWV0cmljcyBpbXBvcnQgYWNjdXJhY3lfc2NvcmUNCmltcG9ydCBudW1weSBhcyBucA0KDQp0cmFpbl9kYXRhID0gcGQucmVhZF9jc3YoJy4veW91ci9wYXRoL3ZpYnJhdGlvbl9mZWF0dXJlc193aXRoX2xhYmVscy5jc3YnKQ0KDQojIOaVsOaNrumbhuS4reWMheWQq+eahOeJueW+gQ0KZmVhdHVyZXMgPSBbICfmnIDlpKflgLwnLCfmnIDlsI/lgLwnLCfls7Dls7DlgLwnLCflha3pmLbntK/np6/ph48nLCAn5Zub6Zi257Sv56ev6YePJywgJ+agh+WHhuW3ricsICfmlrnlt64nLCAn5Z2H5pa55qC5JywgJ+aVtOa1geW5s+Wdh+WAvCcsICfmlrnmoLnluYXlgLwnLCAn5Lit5L2N5pWwJywgJ+mikeeOh+aWueW3ricsICfpopHnjofmoIflh4blt64nLCAn5Z2H5pa56aKR546HJywgJ+Wdh+aWueaguemikeeOhycsICfoo5Xluqblm6DlrZAnXQ0KDQojIOiuree7g+maj+acuuajruael+aooeWeiw0KZGVmIHRyYWluX1JmX21vZGVsKCk6DQogICAgWCA9IHRyYWluX2RhdGFbZmVhdHVyZXNdDQogICAgeSA9IHRyYWluX2RhdGFbJ2xhYmVsJ10NCg0KICAgIFhfdHJhaW4sIFhfdmFsLCB5X3RyYWluLCB5X3ZhbCA9IHRyYWluX3Rlc3Rfc3BsaXQoWCwgeSwgdGVzdF9zaXplPTAuMiwgcmFuZG9tX3N0YXRlPTQyKQ0KICAgIHJhbmRvbUZvcmVzdF9tb2RlbCA9IFJhbmRvbUZvcmVzdENsYXNzaWZpZXIobl9lc3RpbWF0b3JzPTQwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2RlcHRoPTQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2FtcGxlc19zcGxpdD0xMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zYW1wbGVzX2xlYWY9MywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlvbj0nZW50cm9weScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb21fc3RhdGU9NDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuX2pvYnM9LTENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkNCg0KICAgIHJhbmRvbUZvcmVzdF9tb2RlbC5maXQoWF90cmFpbiwgeV90cmFpbikNCiAgICAjIOa1i+ivlemihOa1iw0KICAgIHJmX3ByZWRpY3Rpb25zID0gcmFuZG9tRm9yZXN0X21vZGVsLnByZWRpY3QoWF92YWwpDQogICAgeV9oYXQgPSB5X3ZhbC52YWx1ZXMNCiAgICBudW0gPSBucC5zdW0oKHlfaGF0ID09IDEpICYgKHlfaGF0ID09IHJmX3ByZWRpY3Rpb25zKSkNCiAgICBwcmludChmJ2ZhdWx0IGVycm9yIHtudW0gLyBucC5zdW0oeV9oYXQgPT0gMSl9JykNCiAgICBhY2N1cmFjeSA9IGFjY3VyYWN5X3Njb3JlKHlfdmFsLCByZl9wcmVkaWN0aW9ucykNCiAgICBwcmludCgiUmFuZG9tIEZvcmVzdCBBY2N1cmFjeToiLCBhY2N1cmFjeSkNCiAgICBqb2JsaWIuZHVtcChyYW5kb21Gb3Jlc3RfbW9kZWwsIGYnLi95b3VyL3BhdGgvbW9kZWxzL3JhbmRvbV9mb3Jlc3Qvcm5kb21mb3Jlc3Rfe2FjY3VyYWN5fS5wa2wnKQ0KDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIyDorq3nu4MNCiAgICB0cmFpbl9SZl9tb2RlbCgpDQo=",Hs="data:application/octet-stream;base64,aW1wb3J0IHBhbmRhcyBhcyBwZA0KDQpmcm9tIHNrbGVhcm4ucHJlcHJvY2Vzc2luZyBpbXBvcnQgTGFiZWxFbmNvZGVyLCBTdGFuZGFyZFNjYWxlcg0KZnJvbSBza2xlYXJuLmVuc2VtYmxlIGltcG9ydCBSYW5kb21Gb3Jlc3RDbGFzc2lmaWVyDQpmcm9tIHNrbGVhcm4uc3ZtIGltcG9ydCBTVkMNCmltcG9ydCBqb2JsaWINCg0KZnJvbSBza2xlYXJuLm1vZGVsX3NlbGVjdGlvbiBpbXBvcnQgdHJhaW5fdGVzdF9zcGxpdA0KZnJvbSBza2xlYXJuLm1ldHJpY3MgaW1wb3J0IGFjY3VyYWN5X3Njb3JlDQppbXBvcnQgbnVtcHkgYXMgbnANCg0KIiIiDQrmlK/mjIHlkJHph4/mnLooU1ZNKeaooeWei+iuree7gw0KIiIiDQoNCnRyYWluX2RhdGEgPSBwZC5yZWFkX2NzdignLi92aWJyYXRpb25fZmVhdHVyZXNfd2l0aF9sYWJlbHMuY3N2JykNCmNob29zZV9mZWF0dXJlcyA9IFsgJ+acgOWkp+WAvCcsJ+acgOWwj+WAvCcsJ+WzsOWzsOWAvCcsJ+WFremYtue0r+enr+mHjycsICflm5vpmLbntK/np6/ph48nLCAn5qCH5YeG5beuJywgJ+aWueW3ricsICflnYfmlrnmoLknLCAn5pW05rWB5bmz5Z2H5YC8JywgJ+aWueagueW5heWAvCcsICfkuK3kvY3mlbAnLCAn6aKR546H5pa55beuJywgJ+mikeeOh+agh+WHhuW3ricsICflnYfmlrnpopHnjocnLCAn5Z2H5pa55qC56aKR546HJywgJ+ijleW6puWboOWtkCddDQoNCmRlZiB0cmFpbl9TVkMoKToNCiAgICBzY2FsZXIgPSBTdGFuZGFyZFNjYWxlcigpDQogICAgdHJhaW5fZGF0YVtjaG9vc2VfZmVhdHVyZXNdID0gc2NhbGVyLmZpdF90cmFuc2Zvcm0odHJhaW5fZGF0YVtjaG9vc2VfZmVhdHVyZXNdKQ0KICAgIA0KICAgICMg5Yqg6L295qCH5YeG5YyW5ZmoDQogICAgam9ibGliLmR1bXAoc2NhbGVyLCAnLi95b3VyL3BhdGgvc2NhbGVyXzIucGtsJykNCg0KICAgIFggPSB0cmFpbl9kYXRhW2Nob29zZV9mZWF0dXJlc10NCiAgICB5ID0gdHJhaW5fZGF0YVsnbGFiZWwnXQ0KICAgIFhfdHJhaW4sIFhfdmFsLCB5X3RyYWluLCB5X3ZhbCA9IHRyYWluX3Rlc3Rfc3BsaXQoWCwgeSwgdGVzdF9zaXplPTAuMiwgcmFuZG9tX3N0YXRlPTQyKQ0KDQogICAgU1ZDX21vZGVsID0gU1ZDKGtlcm5lbD0ncmJmJywgICMg5L2/55So5b6E5ZCR5Z+65Ye95pWw5qC477yIcmJm77yJ5Lul5bqU5a+56Z2e57q/5oCn6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgIEM9MSwgICMg5q2j5YiZ5YyW5Y+C5pWw77yM5YC86LaK5aSn6LaK5a655piT6L+H5ouf5ZCIDQogICAgICAgICAgICAgICAgICAgIGdhbW1hPSdzY2FsZScsICAjIOaguOWHveaVsOeahOezu+aVsA0KICAgICAgICAgICAgICAgICAgICByYW5kb21fc3RhdGU9NDINCiAgICAgICAgICAgICAgICAgICAgKQ0KDQogICAgU1ZDX21vZGVsLmZpdChYX3RyYWluLCB5X3RyYWluKQ0KDQogICAgc3ZjX3ByZWRpY3Rpb25zID0gU1ZDX21vZGVsLnByZWRpY3QoWF92YWwpDQogICAgeV9oYXQgPSB5X3ZhbC52YWx1ZXMNCiAgICBudW0gPSBucC5zdW0oKHlfaGF0ID09IDEpICYgKHlfaGF0ID09IHN2Y19wcmVkaWN0aW9ucykpDQogICAgcHJpbnQoZidmYXVsdCBlcnJvciB7bnVtIC8gbnAuc3VtKHlfaGF0ID09IDEpfScpDQogICAgYWNjdXJhY3kgPSBhY2N1cmFjeV9zY29yZSh5X3ZhbCwgc3ZjX3ByZWRpY3Rpb25zKQ0KICAgIHByaW50KCJTVkMgQWNjdXJhY3k6IiwgYWNjdXJhY3kpDQoNCiAgICBqb2JsaWIuZHVtcChTVkNfbW9kZWwsIGYnLi95b3VyL3BhdGgvbW9kZWxzL3N2bS9zdm1fe2FjY3VyYWN5fS5wa2wnKQ0KDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIyDorq3nu4MNCiAgICB0cmFpbl9TVkMoKQ==",Ps=""+new URL("train_fdmssw-BBBwpg5h.py",import.meta.url).href,Ks="data:application/octet-stream;base64,aW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIHRvcmNoLnV0aWxzLmRhdGEgaW1wb3J0IERhdGFMb2FkZXIsIFRlbnNvckRhdGFzZXQKaW1wb3J0IG51bXB5IGFzIG5wCgoiIiIK5L2/55SocHl0b3JjaOahhuaetuaQreW7umdydee9kee7nOi/m+ihjOiuree7g++8jArmqKHlnovnu5PmnoTkuLrvvJoKICAgIEdSVU1vZGVsKGlucHV0X3NpemU9NywgaGlkZGVuX3NpemU9NjQsIG51bV9sYXllcnM9NCwgb3V0cHV0X3NpemU9MSkK5o2f5aSx5Ye95pWw5Li6QkNFV2l0aExvZ2l0c0xvc3MK5LyY5YyW5Zmo5Li6QWRhbe+8mwoK5rOo5oSP77ya6ZyA6KaB5bCG5pWw5o2u6ZuG5ZKM5qCH562+55qE6K+75Y+W6Lev5b6E6K6+572u5Li65pys5Zyw55qE5q2j56Gu6Lev5b6EICAgIAoiIiIKCmRldmljZSA9IHRvcmNoLmRldmljZSgnY3VkYScgaWYgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKSBlbHNlICdjcHUnKQojIOivu+WPluaVsOaNrumbhgpkYXRhc2V0ID0gdG9yY2guZnJvbV9udW1weShucC5sb2FkKCd5b3VyL3BhdGgvb2YvZGF0YXNldC5ucHknKSkudHlwZSh0b3JjaC5GbG9hdFRlbnNvcikudG8oZGV2aWNlKQpsYWJlbHMgPSB0b3JjaC5mcm9tX251bXB5KG5wLmxvYWQoJ3lvdXIvcGF0aC9vZi9sYWJlbHMubnB5JykpLnRvKGRldmljZSkKCgojIOWumuS5iUdSVeaooeWeiyAgCmNsYXNzIEdSVU1vZGVsKG5uLk1vZHVsZSk6ICAKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpbnB1dF9zaXplLCBoaWRkZW5fc2l6ZSwgbnVtX2xheWVycywgb3V0cHV0X3NpemUpOiAgCiAgICAgICAgc3VwZXIoR1JVTW9kZWwsIHNlbGYpLl9faW5pdF9fKCkgIAogICAgICAgIHNlbGYuaGlkZGVuX3NpemUgPSBoaWRkZW5fc2l6ZSAgCiAgICAgICAgc2VsZi5udW1fbGF5ZXJzID0gbnVtX2xheWVycyAgCiAgICAgICAgc2VsZi5ncnUgPSBubi5HUlUoaW5wdXRfc2l6ZSwgaGlkZGVuX3NpemUsIG51bV9sYXllcnMsIGJhdGNoX2ZpcnN0PVRydWUpICAKICAgICAgICBzZWxmLmZjID0gbm4uTGluZWFyKGhpZGRlbl9zaXplLCBvdXRwdXRfc2l6ZSkgICMg6L6T5Ye65bGCCiAgCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4KTogIAoKICAgICAgICBoMCA9IHRvcmNoLnplcm9zKHNlbGYubnVtX2xheWVycywgeC5zaXplKDApLCBzZWxmLmhpZGRlbl9zaXplKS50byh4LmRldmljZSkgIAogICAgICAgIG91dCwgXyA9IHNlbGYuZ3J1KHgsIGgwKSAgCiAgICAgICAgb3V0ID0gb3V0WzosIC0xLCA6XSAgIAogICAgICAgIG91dCA9IHNlbGYuZmMob3V0KSAgCiAgCiAgICAgICAgcmV0dXJuIG91dC5zcXVlZXplKDEpCiAgICAKIyDor4TkvLDlh4bnoa7njocKZGVmIGdldF9hY2N1cmFjeShwcmVkaWN0aW9uLCB0cnV0aCk6CiAgICB0cnVlX251bSA9IDAKICAgIGZvciBwcmUsIHRydSBpbiB6aXAocHJlZGljdGlvbiwgdHJ1dGgpOgogICAgICAgIGlmIHRvcmNoLmFicyhwcmUgLSB0cnUpLml0ZW0oKSA8PSAwLjU6CiAgICAgICAgICAgIHRydWVfbnVtICs9IDEKCiAgICByZXR1cm4gdHJ1ZV9udW0KCgojIOaehOmAoOaVsOaNrumbhgp0cmFpbl9kYXRhc2V0ID0gVGVuc29yRGF0YXNldChkYXRhc2V0LCBsYWJlbHMpCnRyYWluX2RhdGFsb2FkZXIgPSBEYXRhTG9hZGVyKGRhdGFzZXQ9dHJhaW5fZGF0YXNldCwgYmF0Y2hfc2l6ZT00MCwgc2h1ZmZsZT1UcnVlKQoKCiMg5qih5Z6L5a6a5LmJ5Lul5Y+K6LaF5Y+C5pWw6K6+572uCiMg5Zyo5a6a5LmJR1JV5qih5Z6L5pe277yM5oyH5a6aaW5wdXRfc2l6ZeS4uuS8oOaEn+WZqOeahOaVsOmHjwpncnVfbW9kZWwgPSBHUlVNb2RlbChpbnB1dF9zaXplPTcsIGhpZGRlbl9zaXplPTY0LCBudW1fbGF5ZXJzPTQsIG91dHB1dF9zaXplPTEpLnRvKGRldmljZSkKbG9zcyA9IG5uLkJDRVdpdGhMb2dpdHNMb3NzKCkKb3B0aW1pemVyID0gdG9yY2gub3B0aW0uQWRhbShncnVfbW9kZWwucGFyYW1ldGVycygpKQplcG9jaHMgPSAyMAoKIyDorq3nu4PmqKHlnosKZm9yIGVwb2NoIGluIHJhbmdlKGVwb2Nocyk6CiAgICBncnVfbW9kZWwudHJhaW4oKQogICAgZm9yIFgsIHkgaW4gdHJhaW5fZGF0YWxvYWRlcjoKICAgICAgICAjIFggPSBYLnRvKGRldmljZSkKICAgICAgICAjIHkgPSB5LnRvKGRldmljZSkKICAgICAgICBwcmUgPSBncnVfbW9kZWwoWCkKICAgICAgICBsID0gbG9zcyhwcmUsIHkpCiAgICAgICAgCiAgICAgICAgbC5iYWNrd2FyZCgpCiAgICAgICAgb3B0aW1pemVyLnN0ZXAoKQogICAgICAgIG9wdGltaXplci56ZXJvX2dyYWQoKQogICAgICAgIAogICAgZ3J1X21vZGVsLmV2YWwoKQogICAgd2l0aCB0b3JjaC5ub19ncmFkKCk6CiAgICAgICAgbG9zc19wZXJfZXBvY2ggPSBzdW0obG9zcyhncnVfbW9kZWwoeGIudG8oZGV2aWNlKSksIHliLnRvKGRldmljZSkpIGZvciB4YiwgeWIgaW4gdHJhaW5fZGF0YWxvYWRlcikuaXRlbSgpCiAgICAgICAgYWNjdXJhY3lfcGVyX2Vwb2NoID0gc3VtKGdldF9hY2N1cmFjeShncnVfbW9kZWwoeGIudG8oZGV2aWNlKSksIHliKSBmb3IgeGIsIHliIGluIHRyYWluX2RhdGFsb2FkZXIpIC8gZGF0YXNldC5zaGFwZVswXQogICAgICAgIAogICAgcHJpbnQoZidlcG9jaDp7ZXBvY2ggKyAxfSwgbG9zczp7bG9zc19wZXJfZXBvY2h9LCBhY2N1cmFjeTp7YWNjdXJhY3lfcGVyX2Vwb2NofScp",Us="data:application/octet-stream;base64,aW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5ubiBhcyBubgpmcm9tIHRvcmNoLnV0aWxzLmRhdGEgaW1wb3J0IERhdGFMb2FkZXIsIFRlbnNvckRhdGFzZXQKaW1wb3J0IG51bXB5IGFzIG5wCgoiIiIK5L2/55SocHl0b3JjaOahhuaetuaQreW7umxzdG3nvZHnu5zov5vooYzorq3nu4PvvIwK5qih5Z6L57uT5p6E5Li677yaCiAgICBMU1RNKGlucHV0X3NpemU9NywgaGlkZGVuX3NpemU9NjQsIG51bV9sYXllcnM9NCwgb3V0cHV0X3NpemU9MSkK5o2f5aSx5Ye95pWw5Li6QkNFV2l0aExvZ2l0c0xvc3MK5LyY5YyW5Zmo5Li6QWRhbe+8mwoK5rOo5oSP77ya6ZyA6KaB5bCG5pWw5o2u6ZuG5ZKM5qCH562+55qE6K+75Y+W6Lev5b6E6K6+572u5Li65pys5Zyw55qE5q2j56Gu6Lev5b6EICAgIAoiIiIKCmRldmljZSA9IHRvcmNoLmRldmljZSgnY3VkYScgaWYgdG9yY2guY3VkYS5pc19hdmFpbGFibGUoKSBlbHNlICdjcHUnKQojIOivu+WPluaVsOaNrumbhgpkYXRhc2V0ID0gdG9yY2guZnJvbV9udW1weShucC5sb2FkKCd5b3VyL3BhdGgvb2YvZGF0YXNldC5ucHknKSkudHlwZSh0b3JjaC5GbG9hdFRlbnNvcikudG8oZGV2aWNlKQpsYWJlbHMgPSB0b3JjaC5mcm9tX251bXB5KG5wLmxvYWQoJ3lvdXIvcGF0aC9vZi9sYWJlbHMubnB5JykpLnRvKGRldmljZSkKCgojIGxzdG3nvZHnu5zmnrbmnoQKY2xhc3MgTFNUTShubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGlucHV0X3NpemUsIGhpZGRlbl9zaXplLCBudW1fbGF5ZXJzLCBvdXRwdXRfc2l6ZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5pbnB1dF9zaXplID0gaW5wdXRfc2l6ZQogICAgICAgIHNlbGYuaGlkZGVuX3NpemUgPSBoaWRkZW5fc2l6ZQogICAgICAgIHNlbGYubnVtX2xheWVycyA9IG51bV9sYXllcnMKICAgICAgICBzZWxmLm91dHB1dF9zaXplID0gb3V0cHV0X3NpemUKICAgICAgICBzZWxmLm51bV9kaXJlY3Rpb25zID0gMSAgIyDljZXlkJFMU1RNCiAgICAgICAgc2VsZi5sc3RtID0gbm4uTFNUTShzZWxmLmlucHV0X3NpemUsIHNlbGYuaGlkZGVuX3NpemUsIHNlbGYubnVtX2xheWVycywgYmF0Y2hfZmlyc3Q9VHJ1ZSkKICAgICAgICBzZWxmLmxpbmVhciA9IG5uLkxpbmVhcihzZWxmLmhpZGRlbl9zaXplLCBzZWxmLm91dHB1dF9zaXplKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYsIGlucHV0X3NlcSk6CiAgICAgICAgIyBiYXRjaF9zaXplLCBzZXFfbGVuID0gaW5wdXRfc2VxLnNoYXBlWzBdLCBpbnB1dF9zZXEuc2hhcGVbMV0KICAgICAgICAjIGhfMCA9IHRvcmNoLnJhbmRuKHNlbGYubnVtX2RpcmVjdGlvbnMgKiBzZWxmLm51bV9sYXllcnMsIHNlbGYuYmF0Y2hfc2l6ZSwgc2VsZi5oaWRkZW5fc2l6ZSkudG8oZGV2aWNlKQogICAgICAgICMgY18wID0gdG9yY2gucmFuZG4oc2VsZi5udW1fZGlyZWN0aW9ucyAqIHNlbGYubnVtX2xheWVycywgc2VsZi5iYXRjaF9zaXplLCBzZWxmLmhpZGRlbl9zaXplKS50byhkZXZpY2UpCiAgICAgICAgIyBvdXRwdXQoYmF0Y2hfc2l6ZSwgc2VxX2xlbiwgbnVtX2RpcmVjdGlvbnMgKiBoaWRkZW5fc2l6ZSkKICAgICAgICBvdXRwdXQsIF8gPSBzZWxmLmxzdG0oaW5wdXRfc2VxKSAgIyBvdXRwdXQoNDAsIDIwNDgsIDEwMCkKICAgICAgICBwcmVkID0gc2VsZi5saW5lYXIob3V0cHV0KSAgIyAoNDAsIDIwNDgsIDEpCiAgICAgICAgcHJlZCA9IHByZWRbOiwgLTEsIDpdICAjICg0MCwgMSkKICAgICAgICByZXR1cm4gcHJlZC5zcXVlZXplKDEpCiAgICAKIyDor4TkvLDlh4bnoa7njocKZGVmIGdldF9hY2N1cmFjeShwcmVkaWN0aW9uLCB0cnV0aCk6CiAgICB0cnVlX251bSA9IDAKICAgIGZvciBwcmUsIHRydSBpbiB6aXAocHJlZGljdGlvbiwgdHJ1dGgpOgogICAgICAgIGlmIHRvcmNoLmFicyhwcmUgLSB0cnUpLml0ZW0oKSA8PSAwLjU6CiAgICAgICAgICAgIHRydWVfbnVtICs9IDEKCiAgICByZXR1cm4gdHJ1ZV9udW0KCgojIOaehOmAoOaVsOaNrumbhgp0cmFpbl9kYXRhc2V0ID0gVGVuc29yRGF0YXNldChkYXRhc2V0LCBsYWJlbHMpCnRyYWluX2RhdGFsb2FkZXIgPSBEYXRhTG9hZGVyKGRhdGFzZXQ9dHJhaW5fZGF0YXNldCwgYmF0Y2hfc2l6ZT00MCwgc2h1ZmZsZT1UcnVlKQoKCiMg5qih5Z6L5a6a5LmJ5Lul5Y+K6LaF5Y+C5pWw6K6+572uCiMg5Zyo5a6a5LmJbHN0beaooeWei+aXtu+8jOaMh+WummlucHV0X3NpemXkuLrkvKDmhJ/lmajnmoTmlbDph48KbHN0bV9tb2RlbCA9IExTVE0oaW5wdXRfc2l6ZT03LCBoaWRkZW5fc2l6ZT02NCwgbnVtX2xheWVycz00LCBvdXRwdXRfc2l6ZT0xKS50byhkZXZpY2UpCgpsb3NzID0gbm4uQkNFV2l0aExvZ2l0c0xvc3MoKQojIGxvc3MgPSBubi5NU0VMb3NzKCkKCm9wdGltaXplciA9IHRvcmNoLm9wdGltLkFkYW0obHN0bV9tb2RlbC5wYXJhbWV0ZXJzKCkpCiMgb3B0aW1pemVyID0gdG9yY2gub3B0aW0uQVNHRChsc3RtX21vZGVsLnBhcmFtZXRlcnMoKSkKCmVwb2NocyA9IDIwCgojIOiuree7g+aooeWeiwpmb3IgZXBvY2ggaW4gcmFuZ2UoZXBvY2hzKToKICAgIGxzdG1fbW9kZWwudHJhaW4oKQogICAgZm9yIFgsIHkgaW4gdHJhaW5fZGF0YWxvYWRlcjoKICAgICAgICBwcmUgPSBsc3RtX21vZGVsKFgpCiAgICAgICAgbCA9IGxvc3MocHJlLCB5KQogICAgICAgIAogICAgICAgIGwuYmFja3dhcmQoKQogICAgICAgIG9wdGltaXplci5zdGVwKCkKICAgICAgICBvcHRpbWl6ZXIuemVyb19ncmFkKCkKICAgICAgICAKICAgIGxzdG1fbW9kZWwuZXZhbCgpCiAgICB3aXRoIHRvcmNoLm5vX2dyYWQoKToKICAgICAgICBsb3NzX3Blcl9lcG9jaCA9IHN1bShsb3NzKGxzdG1fbW9kZWwoeGIudG8oZGV2aWNlKSksIHliLnRvKGRldmljZSkpIGZvciB4YiwgeWIgaW4gdHJhaW5fZGF0YWxvYWRlcikuaXRlbSgpCiAgICAgICAgYWNjdXJhY3lfcGVyX2Vwb2NoID0gc3VtKGdldF9hY2N1cmFjeShsc3RtX21vZGVsKHhiLnRvKGRldmljZSkpLCB5YikgZm9yIHhiLCB5YiBpbiB0cmFpbl9kYXRhbG9hZGVyKSAvIGRhdGFzZXQuc2hhcGVbMF0KICAgICAgICAKICAgIHByaW50KGYnZXBvY2g6e2Vwb2NoICsgMX0sIGxvc3M6e2xvc3NfcGVyX2Vwb2NofSwgYWNjdXJhY3k6e2FjY3VyYWN5X3Blcl9lcG9jaH0nKQ==",Js="data:application/octet-stream;base64,aW1wb3J0IHRvcmNoCmltcG9ydCB0b3JjaC5ubiBhcyBubgppbXBvcnQgdG9yY2hhdWRpbwpmcm9tIHRvcmNoLnV0aWxzLmRhdGEgaW1wb3J0IERhdGFMb2FkZXIsIFRlbnNvckRhdGFzZXQKaW1wb3J0IG51bXB5IGFzIG5wCgoKIiIiClNJTSBNb2RlbOaVhemanOiviuaWreaooeWei+iuree7gwoiIiIKCmNsYXNzIFNFQm90dGxlbmVjayhubi5Nb2R1bGUpOgogICAgZXhwYW5zaW9uID0gMQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpbnBsYW5lcywgcGxhbmVzLCBrZXJuZWw9MyxwYWRkaW5nPTEpOgogICAgICAgIHN1cGVyKFNFQm90dGxlbmVjaywgc2VsZikuX19pbml0X18oKQogICAgICAgIHNlbGYuY29udjEgPSBubi5Db252MmQoaW5wbGFuZXMsIHBsYW5lcywga2VybmVsX3NpemU9MSwgYmlhcz1GYWxzZSkKICAgICAgICBzZWxmLmJuMSA9IG5uLkJhdGNoTm9ybTJkKHBsYW5lcykKICAgICAgICBzZWxmLmNvbnYyID0gbm4uQ29udjJkKHBsYW5lcywgcGxhbmVzLCBrZXJuZWxfc2l6ZT1rZXJuZWwsIHN0cmlkZT0xLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZz1wYWRkaW5nLCBiaWFzPUZhbHNlKQogICAgICAgIHNlbGYuYm4yID0gbm4uQmF0Y2hOb3JtMmQocGxhbmVzKQogICAgICAgIHNlbGYuY29udjMgPSBubi5Db252MmQocGxhbmVzLCBwbGFuZXMgKiAxLCBrZXJuZWxfc2l6ZT0xLCBiaWFzPUZhbHNlKQogICAgICAgIHNlbGYuYm4zID0gbm4uQmF0Y2hOb3JtMmQocGxhbmVzICogMSkKICAgICAgICBzZWxmLnJlbHUgPSBubi5SZUxVKGlucGxhY2U9VHJ1ZSkKCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4KToKCiAgICAgICAgb3V0ID0gc2VsZi5jb252MSh4KQogICAgICAgIG91dCA9IHNlbGYuYm4xKG91dCkKICAgICAgICBvdXQgPSBzZWxmLnJlbHUob3V0KQoKICAgICAgICBvdXQgPSBzZWxmLmNvbnYyKG91dCkKICAgICAgICBvdXQgPSBzZWxmLmJuMihvdXQpCiAgICAgICAgb3V0ID0gc2VsZi5yZWx1KG91dCkKCiAgICAgICAgb3V0ID0gc2VsZi5jb252MyhvdXQpCiAgICAgICAgb3V0ID0gc2VsZi5ibjMob3V0KQogICAgICAgIG91dCA9IHNlbGYucmVsdShvdXQpCgogICAgICAgIHJldHVybiBvdXQKCgpjbGFzcyBTaW1Nb2RlbFNpbmdsZShubi5Nb2R1bGUpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG51bV9mZWF0dXJlcyk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgbl9tZWxzID0gNDAKCiAgICAgICAgc2VsZi5pbnN0YW5jZW5vcm0gPSBubi5JbnN0YW5jZU5vcm0xZChuX21lbHMpCiAgICAgICAgc2VsZi50b3JjaGZiID0gdG9yY2hhdWRpby50cmFuc2Zvcm1zLk1lbFNwZWN0cm9ncmFtKHNhbXBsZV9yYXRlPTUwMDAwLCBuX2ZmdD01MTIsIHdpbl9sZW5ndGg9NDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3BfbGVuZ3RoPTIwMCwgd2luZG93X2ZuPXRvcmNoLmhhbW1pbmdfd2luZG93LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuX21lbHM9bl9tZWxzKQoKICAgICAgICBzZWxmLmNvbnYgPSBubi5Db252MmQoaW5fY2hhbm5lbHM9bnVtX2ZlYXR1cmVzLCBvdXRfY2hhbm5lbHM9MTYsIGtlcm5lbF9zaXplPTcsIHN0cmlkZT0xLCBwYWRkaW5nPTMsIGJpYXM9RmFsc2UpCiAgICAgICAgc2VsZi5ibiA9IG5uLkJhdGNoTm9ybTJkKDE2KQogICAgICAgIHNlbGYuaGlkZGVuMSA9IFNFQm90dGxlbmVjayhpbnBsYW5lcz0xNiwgcGxhbmVzPTMyLCBrZXJuZWw9MykKICAgICAgICBzZWxmLmhpZGRlbjIgPSBTRUJvdHRsZW5lY2soaW5wbGFuZXM9MzIsIHBsYW5lcz02NCwga2VybmVsPTMpCgogICAgICAgIHNlbGYuYXZnID0gbm4uQWRhcHRpdmVBdmdQb29sMmQoKDEsMSkpCiAgICAgICAgc2VsZi5sb2dfaW5wdXQgPSBUcnVlCiAgICAgICAgc2VsZi5mYyA9IG5uLkxpbmVhcig2NCwyKQogICAgICAgIHNlbGYucmVsdSA9IG5uLlJlTFUoKQogICAgICAgIHNlbGYuc2lnID0gbm4uU2lnbW9pZCgpCiAgICBkZWYgZm9yd2FyZChzZWxmLCB4KToKCiAgICAgICAgQiwgXyA9IHguc2l6ZSgpCgogICAgICAgIHdpdGggdG9yY2gubm9fZ3JhZCgpOgogICAgICAgICAgICB3aXRoIHRvcmNoLmN1ZGEuYW1wLmF1dG9jYXN0KGVuYWJsZWQ9RmFsc2UpOgogICAgICAgICAgICAgICAgeCA9IHNlbGYudG9yY2hmYih4KSsxZS02CiAgICAgICAgICAgICAgICBpZiBzZWxmLmxvZ19pbnB1dDogeCA9IHgubG9nKCkKICAgICAgICAgICAgICAgIHggPSBzZWxmLmluc3RhbmNlbm9ybSh4KS51bnNxdWVlemUoMSkuZGV0YWNoKCkKCiAgICAgICAgeCA9IHNlbGYuY29udih4KQogICAgICAgIHggPSBzZWxmLmJuKHgpCiAgICAgICAgeCA9IHNlbGYucmVsdSh4KQogICAgICAgIHggPSBzZWxmLmhpZGRlbjEoeCkKICAgICAgICB4ID0gc2VsZi5oaWRkZW4yKHgpCgogICAgICAgIHggPSBzZWxmLmF2Zyh4KQogICAgICAgIHggPSB4LnZpZXcoQiwtMSkKICAgICAgICB4ID0gc2VsZi5mYyh4KQogICAgICAgIHggPSBzZWxmLnNpZyh4KQogICAgICAgIHJldHVybiB4CiAgICAKICAgIAojIOWKoOi9veaVsOaNrgpkZXZpY2UgPSB0b3JjaC5kZXZpY2UoJ2N1ZGEnIGlmIHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCkgZWxzZSAnY3B1JykKIyDmlofku7bot6/lvoTmlLnkuLrmnKzlnLDot6/lvoQKZGF0YXNldCA9IHRvcmNoLmZyb21fbnVtcHkobnAubG9hZCgneW91ci9wYXRoL29mL2RhdGFzZXQubnB5JykpLnR5cGUodG9yY2guRmxvYXRUZW5zb3IpLnRvKGRldmljZSkKbGFiZWxzID0gdG9yY2guZnJvbV9udW1weShucC5sb2FkKCd5b3VyL3BhdGgvb2YvbGFiZWxzLm5weScpKS50byhkZXZpY2UpCgojIOaehOmAoOaVsOaNrumbhgp0cmFpbl9kYXRhc2V0ID0gVGVuc29yRGF0YXNldChkYXRhc2V0Lm1ULCBsYWJlbHMpCnRyYWluX2RhdGFsb2FkZXIgPSBEYXRhTG9hZGVyKGRhdGFzZXQ9dHJhaW5fZGF0YXNldCwgYmF0Y2hfc2l6ZT00MCwgc2h1ZmZsZT1UcnVlKQoKIyDlrprkuYnmqKHlnovku6Xlj4rorr7nva7otoXlj4LmlbAKIyDorr7nva7mqKHlnovotoXlj4LmlbDml7bvvIxudW1fZmVhdHVyZXPkuLrkvKDmhJ/lmajnmoTmlbDph48KbW9kZWwgPSBTaW1Nb2RlbFNpbmdsZShudW1fZmVhdHVyZXM9MSkudG8oZGV2aWNlKQpsb3NzID0gbm4uQkNFTG9zcygpCm9wdGltaXplciA9IHRvcmNoLm9wdGltLkFkYW0obW9kZWwucGFyYW1ldGVycygpLCBscj0wLjAwMSkKZXBvY2hzID0gMTAwCgojIOiuree7g+aooeWeiwpmb3IgZXBvY2ggaW4gcmFuZ2UoZXBvY2hzKToKICAgIG1vZGVsLnRyYWluKCkKICAgIGZvciBYLCB5IGluIHRyYWluX2RhdGFsb2FkZXI6CiAgICAgICAgWCA9IFgudG8oZGV2aWNlKQogICAgICAgIHkgPSB5LnRvKGRldmljZSkKICAgICAgICBwcmUgPSBtb2RlbChYKQogICAgICAgIGwgPSBsb3NzKHByZSwgeSkKCiAgICAgICAgbC5iYWNrd2FyZCgpCiAgICAgICAgb3B0aW1pemVyLnN0ZXAoKQogICAgICAgIG9wdGltaXplci56ZXJvX2dyYWQoKQoKICAgIG1vZGVsLmV2YWwoKQogICAgd2l0aCB0b3JjaC5ub19ncmFkKCk6CiAgICAgICAgbG9zc19wZXJfZXBvY2ggPSBzdW0obG9zcyhtb2RlbCh4Yi50byhkZXZpY2UpKSwgeWIudG8oZGV2aWNlKSkgZm9yIHhiLCB5YiBpbiB0cmFpbl9kYXRhbG9hZGVyKS5pdGVtKCkKICAgICAgICAjIGFjY3VyYWN5X3Blcl9lcG9jaCA9IHN1bShnZXRfYWNjdXJhY3koc2ltX21vZGVsKHhiLnRvKGRldmljZSkpLCB5YikgZm9yIHhiLCB5YiBpbiB0cmFpbl9kYXRhbG9hZGVyKSAvIFwKICAgICAgICAjICAgICAgICAgICAgICAgICAgICAgIGFsbF9kYXRhLnNoYXBlWzBdCgogICAgcHJpbnQoZidlcG9jaDp7ZXBvY2ggKyAxfSwgbG9zczp7bG9zc19wZXJfZXBvY2h9JykKICAgIAogICAgIyDkv53lrZjmqKHlnovmnYPph40KICAgIHRvcmNoLnNhdmUobW9kZWwuc3RhdGVfZGljdCgpLCBmJy4vbW9kZWwvdWxjbm4vdWxjbm5fbW9kZWxfbG9zc197bG9zc19wZXJfZXBvY2h9LnB0aCcp",js=""+new URL("train_ulcnn-BMvDyD8-.py",import.meta.url).href,Qs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729823219092'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='11701'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M192%20800h736l-96%20128H96z'%20fill='%23F0F0F0'%20p-id='11702'%3e%3c/path%3e%3cpath%20d='M928%20768v32l-96%20128H96v-32h736z'%20fill='%23175EA2'%20p-id='11703'%3e%3c/path%3e%3cpath%20d='M928%20736v32l-96%20128H96v-32h736z'%20fill='%233678C1'%20p-id='11704'%3e%3c/path%3e%3cpath%20d='M928%20704v32l-96%20128H96v-32h736z'%20fill='%234F81DB'%20p-id='11705'%3e%3c/path%3e%3cpath%20d='M928%20672v32l-96%20128H96v-32h736z'%20fill='%235D8AE7'%20p-id='11706'%3e%3c/path%3e%3cpath%20d='M928%20640v32l-96%20128H96v-32h736z'%20fill='%23669AE9'%20p-id='11707'%3e%3c/path%3e%3cpath%20d='M928%20608v32l-96%20128H96v-32h736z'%20fill='%237DB4ED'%20p-id='11708'%3e%3c/path%3e%3cpath%20d='M192%20608h736l-96%20128H96z'%20fill='%2395CBF0'%20p-id='11709'%3e%3c/path%3e%3cpath%20d='M96%20224h64v64H96V224z%20m160-128h64v64H256V96z%20m352%20128h64v64h-64V224z%20m224%20160h96v96h-96v-96zM192%20448h32v32H192v-32z%20m304-122.816V480a16%2016%200%201%201-32%200v-152.032l-36.896%2035.552a16%2016%200%200%201-22.208-23.04l77.92-75.104%2072.704%2075.52a16%2016%200%201%201-23.04%2022.208l-36.48-37.92z'%20fill='%2330AD98'%20p-id='11710'%3e%3c/path%3e%3cpath%20d='M416%2064h128v128h-128V64zM288%20288h64v64H288V288z%20m0%20192h64v64H288v-64z%20m288%200h64v64h-64v-64z%20m160-32h32v32h-32v-32z'%20fill='%2327A2DF'%20p-id='11711'%3e%3c/path%3e%3c/svg%3e",qs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729826635539'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='36411'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M690.642%20542.305l-54.23%2054.23-38.281-35.09-47.85-47.85%2086.13-92.51c95.701%2041.47%20194.592%2025.52%20261.583-31.901%2066.99-57.42%2066.99-169.072%2066.99-169.072l-51.04-19.14-102.081%20102.081L665.12%20156.312%20767.202%2054.23%20744.872%200s-102.08%200-169.071%2066.99C512%20130.792%20492.86%20232.873%20537.52%20325.384l-92.512%2089.321-127.6-124.411-6.381-86.131-121.221-79.75-31.9%2035.09-35.09%2035.09-31.901%2031.9%2076.56%20121.221%2082.941%206.38L381.21%20478.505%2043.065%20807.078s-9.57%2060.61%2028.71%2098.89c31.901%2031.901%2089.322%2025.521%2089.322%2025.521L486.48%20583.776l47.85%2044.66%2035.09%2035.09-66.99%2070.181C598.13%20829.408%20693.832%20928.3%20792.723%201024c98.89-25.52%20156.311-95.7%20188.212-188.212-95.701-102.08-191.402-197.782-290.293-293.483zM170.667%20858.118c-15.95%2015.95-41.47%2015.95-57.42%200s-15.951-41.47%200-57.42%2041.47-15.95%2057.42%200c15.95%2019.14%2015.95%2044.66%200%2057.42z%20m628.436%2089.321L578.99%20727.327l31.9-31.9%20226.492%20226.492-38.28%2025.52z%20m79.75-63.8L652.362%20657.146l31.9-31.9%20220.113%20220.112-25.52%2038.28z'%20fill='%231296DB'%20p-id='36412'%3e%3c/path%3e%3c/svg%3e",ei=""+new URL("fault-diagnosis-load-model-2-Qlh0MqxR.png",import.meta.url).href,ti=""+new URL("fault-diagnosis-load-model-DFPXehzQ.png",import.meta.url).href,ni=""+new URL("fault-diagnosis-model-params-CEFC8-6c.png",import.meta.url).href,li=""+new URL("fault-diagnosis-outline-CieLSctU.png",import.meta.url).href,oi=""+new URL("fault-diagnosis-prediction-ml-B9RempEN.png",import.meta.url).href,ai=""+new URL("fault-diagnosis-prediction-ChQ0lqeu.png",import.meta.url).href,si="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729826677198'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='39285'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M627.885559%20210.47539l286.980339%20573.978034A129.544678%20129.544678%200%200%201%20799.006373%20971.932203H224.993627a129.544678%20129.544678%200%200%201-115.859525-187.478779l286.980339-573.978034a129.562034%20129.562034%200%200%201%20231.771118%200z%20m-77.233898%2037.896678a43.181559%2043.181559%200%200%200-77.303322%200l-286.893559%20574.793763a43.181559%2043.181559%200%200%200%2038.651661%2062.481355h573.856542a43.181559%2043.181559%200%200%200%2038.651661-62.481355L550.608271%20248.372068h0.04339zM512%20367.381695a43.181559%2043.181559%200%200%201%2043.181559%2043.181559v215.907797a43.181559%2043.181559%200%201%201-86.363118%200v-215.907797A43.181559%2043.181559%200%200%201%20512%20367.381695z%20m0%20345.461152a43.181559%2043.181559%200%201%201%200.008678%2086.363119A43.181559%2043.181559%200%200%201%20512%20712.842847z'%20fill='%2300D1FF'%20opacity='.7'%20p-id='39286'%3e%3c/path%3e%3c/svg%3e",ii=""+new URL("fault-prediction-outline-DSofm4OG.png",import.meta.url).href,ri=""+new URL("fault-prediction-output-B7vzuQsX.png",import.meta.url).href,ui="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729824142658'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='19180'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M189.866667%20719.872l-0.597334-478.72L1.962667%2013.909333A8.533333%208.533333%200%200%201%208.533333%200h702.805334a8.533333%208.533333%200%200%201%206.570666%2013.994667L530.602667%20241.066667l0.938666%20737.792a42.666667%2042.666667%200%200%201-42.666666%2042.666666%2042.666667%2042.666667%200%200%201-42.666667-42.666666v-213.333334l-0.938667-555.093333L548.522667%2085.333333h-377.173334l103.253334%20125.098667%200.682666%20509.44a42.666667%2042.666667%200%200%201-42.666666%2042.666667%2042.752%2042.752%200%200%201-42.666667-42.666667z'%20fill='%235883FF'%20p-id='19181'%3e%3c/path%3e%3cpath%20d='M682.666667%20256m42.666666%200l256%200q42.666667%200%2042.666667%2042.666667l0%200q0%2042.666667-42.666667%2042.666666l-256%200q-42.666667%200-42.666666-42.666666l0%200q0-42.666667%2042.666666-42.666667Z'%20fill='%235883FF'%20p-id='19182'%3e%3c/path%3e%3cpath%20d='M682.666667%20512m42.666666%200l256%200q42.666667%200%2042.666667%2042.666667l0%200q0%2042.666667-42.666667%2042.666666l-256%200q-42.666667%200-42.666666-42.666666l0%200q0-42.666667%2042.666666-42.666667Z'%20fill='%235883FF'%20p-id='19183'%3e%3c/path%3e%3cpath%20d='M682.666667%20768m42.666666%200l256%200q42.666667%200%2042.666667%2042.666667l0%200q0%2042.666667-42.666667%2042.666666l-256%200q-42.666667%200-42.666666-42.666666l0%200q0-42.666667%2042.666666-42.666667Z'%20fill='%235883FF'%20p-id='19184'%3e%3c/path%3e%3c/svg%3e",ci="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736168523929'%20class='icon'%20viewBox='0%200%201037%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='13435'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='202.5390625'%20height='200'%3e%3cpath%20d='M621.129573%20972.428925c-4.575663%200-9.162487-1.127176-13.325224-3.392687l-205.302207-111.601548a27.898155%2027.898155%200%200%201-14.575163-24.5077V419.811542L114.402746%20160.360264c-0.279004-0.267844-0.546848-0.535687-0.814691-0.803531-15.423334-15.8809-19.820435-39.317225-11.193635-59.717989s28.503035-33.569746%2050.633622-33.569745h730.912016c22.141747%200%2042.017983%2013.180143%2050.644782%2033.569745s4.229699%2043.825928-11.193635%2059.717989c-0.267844%200.279004-0.535687%200.546848-0.814691%200.803531l-273.535394%20259.451278v524.716996c0%209.843256-5.178312%2018.949943-13.637709%2023.983173a27.851282%2027.851282%200%200%201-14.262678%203.917214zM443.727753%20816.33184l149.501433%2081.268247V407.825535c0-7.655866%203.147164-14.976928%208.704921-20.24452l279.907842-265.500082H155.126151l279.919002%20265.500082c5.557757%205.267593%208.704921%2012.588655%208.704921%2020.24452v408.506305z%20m440.323906-694.250907z%20m32.598812%20359.234221c0-15.412174-12.488213-27.900387-27.900387-27.900386H754.482263c-15.412174%200-27.900387%2012.488213-27.900387%2027.900386s12.488213%2027.900387%2027.900387%2027.900387h134.267821c15.412174%200%2027.900387-12.488213%2027.900387-27.900387z%20m0%20141.443802c0-15.412174-12.488213-27.900387-27.900387-27.900387H754.482263c-15.412174%200-27.900387%2012.488213-27.900387%2027.900387s12.488213%2027.900387%2027.900387%2027.900387h134.267821c15.412174%200%2027.900387-12.488213%2027.900387-27.900387z%20m0%20141.443801c0-15.412174-12.488213-27.900387-27.900387-27.900387H754.482263c-15.412174%200-27.900387%2012.488213-27.900387%2027.900387s12.488213%2027.900387%2027.900387%2027.900387h134.267821c15.412174%200%2027.900387-12.488213%2027.900387-27.900387z'%20p-id='13436'%3e%3c/path%3e%3c/svg%3e",di="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1732431363544'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4237'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M81.16%20412.073333L0%20709.653333V138.666667a53.393333%2053.393333%200%200%201%2053.333333-53.333334h253.413334a52.986667%2052.986667%200%200%201%2037.713333%2015.62l109.253333%20109.253334a10.573333%2010.573333%200%200%200%207.54%203.126666H842.666667a53.393333%2053.393333%200%200%201%2053.333333%2053.333334v74.666666H173.773333a96.2%2096.2%200%200%200-92.613333%2070.74z%20m922-7.113333a52.933333%2052.933333%200%200%200-42.386667-20.96H173.773333a53.453333%2053.453333%200%200%200-51.453333%2039.333333L11.773333%20828.666667a53.333333%2053.333333%200%200%200%2051.453334%2067.333333h787a53.453333%2053.453333%200%200%200%2051.453333-39.333333l110.546667-405.333334a52.953333%2052.953333%200%200%200-9.073334-46.373333z'%20fill='%231296db'%20p-id='4238'%3e%3c/path%3e%3c/svg%3e",fi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729826803524'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='47172'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M840.704%20107.52h-650.24c-45.056%200-81.408%2036.352-81.408%2081.408v650.24c0%2045.056%2036.352%2081.408%2081.408%2081.408h650.24c45.056%200%2081.408-36.352%2081.408-81.408v-650.24c-0.512-45.056-36.864-81.408-81.408-81.408z%20m8.704%20700.928c0%2021.504-17.408%2039.424-39.424%2039.424H220.672c-21.504%200-39.424-17.408-39.424-39.424V219.136c0-21.504%2017.408-39.424%2039.424-39.424h589.312c21.504%200%2039.424%2017.408%2039.424%2039.424v589.312z'%20fill='%23325AB4'%20p-id='47173'%3e%3c/path%3e%3cpath%20d='M642.56%20313.344h116.736c20.992%200%2038.4-16.896%2038.4-38.4s-16.896-38.4-38.4-38.4h-116.736c-20.992%200-38.4%2016.896-38.4%2038.4s17.408%2038.4%2038.4%2038.4zM759.296%20358.912h-238.592c-20.992%200-38.4%2016.896-38.4%2038.4s16.896%2038.4%2038.4%2038.4h238.592c20.992%200%2038.4-16.896%2038.4-38.4s-17.408-38.4-38.4-38.4zM286.72%20435.2h121.856c26.624%200%2048.128-21.504%2048.128-48.128V285.696c0-26.624-21.504-48.128-48.128-48.128H286.72c-26.624%200-48.128%2021.504-48.128%2048.128v101.376c0%2026.624%2021.504%2048.128%2048.128%2048.128z%20m28.16-76.288v-45.568h66.048v45.568H314.88z'%20fill='%23325AB4'%20p-id='47174'%3e%3c/path%3e%3cpath%20d='M781.312%20657.92c-7.68-6.656-17.408-9.728-27.648-9.216h-96.256l-29.184-44.032c-7.168-10.24-18.432-16.896-31.232-16.896-12.8-0.512-24.576%205.632-31.744%2015.872L499.2%20696.32l-92.672-169.472c-4.608-8.704-12.288-14.848-21.504-17.92-9.728-3.072-19.968-2.56-29.184%202.048-9.216%204.608-15.872%2012.288-18.944%2022.016l-31.744%2095.744h-33.28c-10.24%200.512-19.456%205.632-26.112%2013.312-6.656%207.68-9.728%2017.408-9.216%2027.648%201.536%2020.992%2019.968%2036.864%2040.448%2035.328h55.296c16.384%200%2030.72-10.24%2036.352-26.112l12.8-38.4%2079.872%20145.92c6.144%2011.776%2017.92%2018.944%2031.744%2019.968h2.048c12.288%200%2023.552-6.144%2030.72-15.872l69.632-96.768%2010.24%2014.848c7.168%2010.752%2018.944%2016.896%2031.744%2016.896h121.856c20.992-1.536%2036.864-19.968%2035.328-40.96-1.024-10.24-5.632-19.968-13.312-26.624z'%20fill='%2300C8D2'%20p-id='47175'%3e%3c/path%3e%3c/svg%3e",gi=""+new URL("health-evaluation-load-model-Ov3_qiLN.png",import.meta.url).href,hi=""+new URL("health-evaluation-outline-1-C-diw96z.png",import.meta.url).href,pi=""+new URL("health-evaluation-outline-2-M3G_6qmo.png",import.meta.url).href,mi=""+new URL("health-evaluation-outline-3-Dng4aQGw.png",import.meta.url).href,vi=""+new URL("health-evaluation-output-CLgo6SYT.png",import.meta.url).href,_i=""+new URL("health-evaluation-params-1-CFDQlUgO.png",import.meta.url).href,yi=""+new URL("health-evaluation-params-2-CzNrRf5r.png",import.meta.url).href,wi=""+new URL("health-evaluation-params-B7FiAOUQ.png",import.meta.url).href,bi=""+new URL("health-evaluation-prediction-D1qb5tdv.png",import.meta.url).href,Ci="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736168329274'%20class='icon'%20viewBox='0%200%201088%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6186'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='212.5'%20height='200'%3e%3cpath%20d='M134.976%2096h163.648a38.4%2038.4%200%200%201%2038.4%2038.4v165.376a38.4%2038.4%200%200%201-38.4%2038.4H135.04a38.4%2038.4%200%200%201-38.4-38.4V134.4a38.4%2038.4%200%200%201%2038.4-38.4zM134.976%20394.24h163.648a38.4%2038.4%200%200%201%2038.4%2038.4v165.44a38.4%2038.4%200%200%201-38.4%2038.4H135.04a38.4%2038.4%200%200%201-38.4-38.4V432.64a38.4%2038.4%200%200%201%2038.4-38.4z'%20fill='%23303133'%20fill-opacity='.7'%20p-id='6187'%3e%3c/path%3e%3cpath%20d='M726.528%2096h163.648a38.4%2038.4%200%200%201%2038.4%2038.4v165.376a38.4%2038.4%200%200%201-38.4%2038.4h-163.648a38.4%2038.4%200%200%201-38.4-38.4V134.4a38.4%2038.4%200%200%201%2038.4-38.4zM429.44%20394.24h163.712a38.4%2038.4%200%200%201%2038.4%2038.4v165.44a38.4%2038.4%200%200%201-38.4%2038.4H429.44a38.4%2038.4%200%200%201-38.4-38.4V432.64a38.4%2038.4%200%200%201%2038.4-38.4zM134.976%20685.76h163.648a38.4%2038.4%200%200%201%2038.4%2038.4V889.6a38.4%2038.4%200%200%201-38.4%2038.4H135.04a38.4%2038.4%200%200%201-38.4-38.4v-165.44a38.4%2038.4%200%200%201%2038.4-38.4z'%20fill='%23303133'%20p-id='6188'%3e%3c/path%3e%3cpath%20d='M726.528%20394.24h163.648a38.4%2038.4%200%200%201%2038.4%2038.4v165.44a38.4%2038.4%200%200%201-38.4%2038.4h-163.648a38.4%2038.4%200%200%201-38.4-38.4V432.64a38.4%2038.4%200%200%201%2038.4-38.4zM429.44%20685.76h163.712a38.4%2038.4%200%200%201%2038.4%2038.4V889.6a38.4%2038.4%200%200%201-38.4%2038.4H429.44a38.4%2038.4%200%200%201-38.4-38.4v-165.44a38.4%2038.4%200%200%201%2038.4-38.4zM688.128%20685.76h202.048a38.4%2038.4%200%200%201%2038.4%2038.4V889.6a38.4%2038.4%200%200%201-38.4%2038.4h-163.648a38.4%2038.4%200%200%201-38.4-38.4v-203.84z'%20fill='%23303133'%20fill-opacity='.5'%20p-id='6189'%3e%3c/path%3e%3cpath%20d='M429.44%2096h163.712a38.4%2038.4%200%200%201%2038.4%2038.4v165.376a38.4%2038.4%200%200%201-38.4%2038.4H429.44a38.4%2038.4%200%200%201-38.4-38.4V134.4a38.4%2038.4%200%200%201%2038.4-38.4z'%20fill='%23303133'%20fill-opacity='.8'%20p-id='6190'%3e%3c/path%3e%3c/svg%3e",Ii="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736168922286'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21318'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M105.81333333%20871.53777778V89.88444445H42.09777778v844.2311111h938.66666667v-62.57777777z'%20p-id='21319'%3e%3c/path%3e%3cpath%20d='M199.28860445%20724.62677333c20.91804445%200%2037.87662222-16.95744%2037.87662222-37.87776%200-4.92202667-0.97052445-9.61080889-2.67719112-13.92298666l116.72576-182.85454222%2071.13728%20106.17059555%2023.85009778-18.52984889%200.27875556%200.34816%2057.95271111-46.85482666%2075.73845333%20160.59278222%2025.56586667-26.93688889-0.36295111-0.78051556%20113.63555556-107.12746667%2086.63153777%20120.44288a37.66499555%2037.66499555%200%200%200-3.23584%2015.28035556c0%2020.91918222%2016.95857778%2037.87662222%2037.87434667%2037.87662222%2020.91918222%200%2037.87662222-16.95744%2037.87662222-37.87662222%200-20.91804445-16.95744-37.87662222-37.87662222-37.87662222-2.50197333%200-4.94023111%200.25941333-7.30453334%200.72021333l-88.30179555-122.76280889%20132.48967111-124.90638222c3.95946667%201.40288%208.20565333%202.20728889%2012.64753778%202.20728889%2020.91918222%200%2037.87662222-16.95744%2037.87662222-37.87662222%200-20.91804445-16.95744-37.87548445-37.87662222-37.87548445-20.91576889%200-37.87434667%2016.95630222-37.87434667%2037.87548445%200%203.49752889%200.512%206.86990222%201.39946667%2010.08412444L724.07722667%20504.02417778l-68.44871112-95.16487111-0.60416-0.50631112-20.74851555-27.18947555-117.13308445%2094.70293333-65.82499555-140.34488888-1.09226667-0.65194667-18.62656-35.67047111-81.03594666%20126.81443555-80.20764445-120.18574222a37.67978667%2037.67978667%200%200%200%204.68650667-18.24199111c0-20.91804445-16.95857778-37.87548445-37.87662222-37.87548444-20.91576889%200-37.87434667%2016.95744-37.87434667%2037.87548444%200%2020.91918222%2016.95744%2037.87662222%2037.87434667%2037.87662222%201.38808889%200%202.75683555-0.08533333%204.10510222-0.23096889l88.74325333%20132.96981333-122.33386667%20191.63818667a37.76056889%2037.76056889%200%200%200-8.3911111-0.96711111c-20.91576889%200-37.87434667%2016.95744-37.87434667%2037.87548444%200.00113778%2020.92145778%2016.95857778%2037.87889778%2037.87434667%2037.87889778z%20m429.1072-293.74919111l70.01770666%2097.34257778-108.66574222%20102.44323555-57.31555556-122.19733333%2095.96359112-77.58848zM428.41884445%20369.03253333l60.72433777%20129.47114667-58.58417777%2047.36910222-58.79580445-88.09472%2056.65564445-88.74552889z'%20p-id='21320'%3e%3c/path%3e%3c/svg%3e",xi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729690312280'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6053'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M251.733333%20917.333333h-128c-12.8%200-21.333333-8.533333-21.333333-21.333333V341.333333c0-12.8%208.533333-21.333333%2021.333333-21.333333h128c12.8%200%2021.333333%208.533333%2021.333334%2021.333333v554.666667c0%2012.8-8.533333%2021.333333-21.333334%2021.333333zM891.733333%20917.333333h-128c-12.8%200-21.333333-8.533333-21.333333-21.333333V341.333333c0-12.8%208.533333-21.333333%2021.333333-21.333333h128c12.8%200%2021.333333%208.533333%2021.333334%2021.333333v554.666667c0%2012.8-8.533333%2021.333333-21.333334%2021.333333z'%20fill='%23FFC53D'%20p-id='6054'%3e%3c/path%3e%3cpath%20d='M573.866667%20597.333333h-132.266667c-10.666667%200-19.2-8.533333-19.2-19.2V125.866667c0-10.666667%208.533333-19.2%2019.2-19.2h132.266667c10.666667%200%2019.2%208.533333%2019.2%2019.2v452.266666c0%2010.666667-8.533333%2019.2-19.2%2019.2z'%20fill='%231890FF'%20p-id='6055'%3e%3c/path%3e%3cpath%20d='M524.8%20789.333333l140.8-179.2a21.333333%2021.333333%200%200%200-17.066667-34.133333H366.933333c-17.066667%200-27.733333%2021.333333-17.066666%2034.133333L490.666667%20789.333333c8.533333%2010.666667%2025.6%2010.666667%2034.133333%200z'%20fill='%231890FF'%20p-id='6056'%3e%3c/path%3e%3c/svg%3e",Ai=""+new URL("interpolation-outline-Co97vsvd.png",import.meta.url).href,ki=""+new URL("interpolation-output-CAatVvrZ.png",import.meta.url).href,Si=""+new URL("interpolation-params-D2-Y178E.png",import.meta.url).href,Ni=""+new URL("line-uYp9PNC2.gif",import.meta.url).href,Vi=""+new URL("login-background-2-BkULwZgu.jpg",import.meta.url).href,Di=""+new URL("login-background-Ojy_M2BG.jpg",import.meta.url).href,Ei=""+new URL("logo-DM6SbIzc.png",import.meta.url).href,Gi=""+new URL("modeilng-finish-BFPPLy7s.png",import.meta.url).href,Mi=""+new URL("model-check-BYCg4Y9E.png",import.meta.url).href,Zi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1725515924025'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6254'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M154.68661162%20328.42831573l-1.28709316%200.64354657v364.89095508l357.81194092%20188.23739678V506.36896719L154.68661162%20328.42831573z'%20fill='%23FFFFFF'%20p-id='6255'%3e%3c/path%3e%3cpath%20d='M868.37985459%20328.75008945L511.21145938%20140.83446552%20168.52286445%20321.02752959l-13.83625283%207.40078613%20356.52484775%20177.94065147%204.18305323-1.93064063%20353.95066143-175.04469052V329.0718623l-0.96531944-0.32177285zM515.3945126%20504.43832656l-4.18305323%201.93064063%204.18305323-1.93064063z'%20fill='%2391D5FF'%20p-id='6256'%3e%3c/path%3e%3cpath%20d='M939.8135331%20294.32034336a59.84983916%2059.84983916%200%200%200-25.42009307-26.70718623L538.56219219%2068.75723955a58.88451885%2058.88451885%200%200%200-54.70146563%200L108.35125244%20266.32606396a58.24097227%2058.24097227%200%200%200-15.44511973%2013.83625284%2064.35466612%2064.35466612%200%200%200-9.65320049%2012.54915966%2059.84983916%2059.84983916%200%200%200-6.43546581%2025.7418668v386.12799405a59.20629258%2059.20629258%200%200%200%2032.17733261%2052.1272793l375.50947413%20197.56882352a59.20629258%2059.20629258%200%200%200%2026.70718622%207.72255987h4.50482696a56.31033252%2056.31033252%200%200%200%2022.84590586-6.11369297l375.509475-197.56882441a59.20629258%2059.20629258%200%200%200%2032.17733261-52.12727842V318.45334326a56.63210625%2056.63210625%200%200%200-6.4354667-24.1329999z%20m-70.46835908%2035.07329268l-353.95066142%20175.04469052-4.18305323%202.25241348v375.50947412L153.07774472%20693.96281739V329.0718623l13.83625284-7.40078613%20344.29746182-180.83661064%20357.16839521%20187.91562392z'%20fill='%2340A9FF'%20p-id='6257'%3e%3c/path%3e%3c/svg%3e",zi=""+new URL("modeling-finish-1-Bot0IzS3.png",import.meta.url).href,Ri=""+new URL("modeling-finish-2-DE8LTPII.png",import.meta.url).href,Wi=""+new URL("modeling-processing-BWuSegg3.png",import.meta.url).href,Li=""+new URL("modeling-Dh4oUsQP.png",import.meta.url).href,Bi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1726920297022'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21156'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M832.64%20535.04l-136.96-78.4V291.04c0-8.8-4.64-16.8-12.32-21.12l-154.24-88.32c-7.52-4.32-16.64-4.32-24.16%200l-154.24%2088.32c-7.52%204.32-12.32%2012.48-12.32%2021.12v159.68l-147.04%2084.32c-7.52%204.32-12.32%2012.48-12.32%2021.12v176.8c0%208.8%204.64%2016.8%2012.32%2021.12l154.24%2088.32c3.68%202.08%208%203.2%2012.16%203.2s8.32-1.12%2012.16-3.2L512%20760.96l142.24%2081.44c3.68%202.08%208%203.2%2012.16%203.2s8.32-1.12%2012.16-3.2l154.24-88.32c7.52-4.32%2012.32-12.48%2012.32-21.12V556.16c-0.16-8.64-4.8-16.8-12.48-21.12z%20m-166.08%2081.28l-60.32-36.64c-0.32-0.16-0.8-0.48-1.12-0.64l-40.64-21.92%20104.16-59.68%20102.72%2058.88-104.8%2060zM432.32%20356.32l60.32%2036.8v120.96l-105.6-60.48v-121.76l45.28%2024.48z%20m214.72%2094.56l-105.6%2060.48V393.6l105.6-60.48v117.76z%20m-289.28%2044.96l105.28%2060.32-104.96%2060.16-60.32-36.64c-0.32-0.16-0.8-0.48-1.12-0.64l-43.2-23.36%20104.32-59.84z%20m24.32%20162.88l105.6-60.48v120.64l-105.6%2060.48v-120.64z%20m135.04-428l105.28%2060.32-104.96%2060.16-60.32-36.64c-0.32-0.16-0.8-0.48-1.12-0.64l-43.2-23.36%20104.32-59.84z%20m-289.28%20366.4l45.12%2024.48%2060.32%2036.8v120.96l-105.6-60.48v-121.76z%20m308.48%200l45.12%2024.48%2060.32%2036.8v120.96l-105.6-60.48v-121.76z%20m154.24%20182.08v-120.64l105.6-60.48v120.64l-105.6%2060.48z'%20fill='%232A2C2C'%20p-id='21157'%3e%3c/path%3e%3c/svg%3e",Fi=""+new URL("noParams-CCJkVIDf.png",import.meta.url).href,Yi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729824030151'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17148'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M49.152%208.192c20.992%200%2039.424%2015.36%2043.008%2036.352l0.512%207.168v877.568h881.664c20.992%200%2039.424%2015.36%2043.008%2036.352l0.512%207.168c0%2020.992-15.36%2039.424-36.352%2043.008H5.632V51.2c0-23.552%2019.456-43.008%2043.52-43.008z'%20fill='%23343399'%20p-id='17149'%3e%3c/path%3e%3cpath%20d='M932.864%20695.808c-1.536%200-3.072%200-4.608-0.512-133.632-19.456-205.312-146.432-262.656-248.32-16.896-30.208-32.768-58.368-48.128-79.872-9.216-13.312-24.064-21.504-39.936-23.04-16.384-1.536-31.744%203.584-43.52%2014.336-31.232%2028.672-48.128%2069.632-66.048%20113.152-36.864%2088.576-82.432%20198.656-271.872%20224.256-18.432%202.56-34.816-10.24-37.376-28.672-2.56-18.432%2010.24-34.816%2028.672-37.376%20150.528-20.48%20182.272-96.256%20218.624-183.808%2019.968-48.128%2040.448-97.792%2082.432-136.704%2025.6-23.552%2060.416-35.328%2095.744-31.744%2034.816%203.584%2066.56%2022.016%2087.04%2050.688%2017.408%2024.576%2034.304%2054.272%2051.712%2086.016%2052.736%2094.208%20112.64%20200.704%20214.016%20215.04%2018.432%202.56%2030.72%2019.456%2028.16%2037.888-2.048%2016.896-16.384%2028.672-32.256%2028.672z'%20fill='%23F59D0D'%20p-id='17150'%3e%3c/path%3e%3c/svg%3e",$i=""+new URL("normalization-input-DJPeMiHW.png",import.meta.url).href,Ti=""+new URL("normalization-outline-1-DYGaZ45j.png",import.meta.url).href,Xi=""+new URL("normalization-outline-2-C6kLwpNz.png",import.meta.url).href,Oi=""+new URL("normalization-params-CiYmTOQ3.png",import.meta.url).href,Hi=""+new URL("normalization-process-output-3WJcKqEd.png",import.meta.url).href,Pi="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736169033643'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='22365'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M928%20529.6c-9.6-11.2-24-17.6-38.4-17.6H526.4c-8%200-14.4-6.4-14.4-14.4V134.4c0-14.4-6.4-28.8-17.6-38.4-11.2-9.6-25.6-14.4-41.6-12.8-227.2%2032-390.4%20235.2-371.2%20465.6%2017.6%20206.4%20187.2%20376%20393.6%20393.6%2012.8%201.6%2024%201.6%2036.8%201.6%20214.4%200%20398.4-158.4%20428.8-372.8%201.6-16-3.2-30.4-12.8-41.6zM480%20878.4C304%20864%20160%20720%20145.6%20544%20129.6%20352%20260.8%20182.4%20448%20148.8v348.8c0%2043.2%2035.2%2078.4%2078.4%2078.4h348.8C841.6%20763.2%20672%20894.4%20480%20878.4z'%20fill='%234A576A'%20p-id='22366'%3e%3c/path%3e%3cpath%20d='M628.8%20448h246.4c16%200%2032-8%2041.6-20.8%209.6-12.8%2012.8-30.4%208-46.4-43.2-132.8-147.2-238.4-280-280-16-4.8-33.6-1.6-46.4%208-14.4%208-22.4%2024-22.4%2041.6v246.4c0%2027.2%2024%2051.2%2052.8%2051.2z%20m11.2-281.6c100.8%2036.8%20179.2%20116.8%20217.6%20217.6H640V166.4z'%20fill='%234A576A'%20p-id='22367'%3e%3c/path%3e%3c/svg%3e",Ki=""+new URL("recommend-model-1-e5aNPWjW.png",import.meta.url).href,Ui=""+new URL("rectify-model-1-BOR4pdRt.png",import.meta.url).href,Ji=""+new URL("rectify-model-2-Ui4dnPSh.png",import.meta.url).href,ji=""+new URL("rectify-model-3-Hm79SSw7.png",import.meta.url).href,Qi=""+new URL("results-CPPRzct-.png",import.meta.url).href,qi=""+new URL("save-model-1-CtJTgODQ.png",import.meta.url).href,er=""+new URL("save-model-2-yS9fx5XA.png",import.meta.url).href,tr=""+new URL("set-params-DjMDDJJo.png",import.meta.url).href,nr=""+new URL("step_1_drag-C4IgVMwg.gif",import.meta.url).href,lr=""+new URL("step_2_setting-2bl7WM6s.gif",import.meta.url).href,or=""+new URL("step_3_modeling-DNeAdwfW.gif",import.meta.url).href,ar=""+new URL("step_4_modelCheck-KZEuT_h2.gif",import.meta.url).href,sr="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736169370708'%20class='icon'%20viewBox='0%200%201026%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='30768'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200.390625'%20height='200'%3e%3cpath%20d='M469.33216%200.00256a42.66656%2042.66656%200%200%200-42.66656%2042.66656V85.33568a469.33216%20469.33216%200%201%200%20511.99872%20511.99872h45.226554a42.66656%2042.66656%200%200%200%2042.66656-42.66656A555.518611%20555.518611%200%200%200%20469.33216%200.00256zM511.99872%2085.33568a471.892154%20471.892154%200%200%201%20426.6656%20426.6656H511.99872z%20m-42.66656%20853.3312A383.145709%20383.145709%200%200%201%20426.6656%20174.935456V554.66784a42.66656%2042.66656%200%200%200%2042.66656%2042.66656H853.3312a383.145709%20383.145709%200%200%201-383.99904%20341.33248z'%20p-id='30769'%3e%3c/path%3e%3c/svg%3e",ir=""+new URL("swjtu-CZ6nokmh.jpg",import.meta.url).href,rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAA3CAYAAAB3uWocAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDN0Y5MjE3RjgzRTlFNTExQUFGQkZGRDA2QkU4RTRERiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1MkRFNjNDRUYyRjkxMUU1ODI4MkJFNTFDNDZDRjQ2RCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MkRFNjNDREYyRjkxMUU1ODI4MkJFNTFDNDZDRjQ2RCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMDdFNUU5NDg0RjFFNTExOUU3RTg5RDhEQzk4N0ZDQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDN0Y5MjE3RjgzRTlFNTExQUFGQkZGRDA2QkU4RTRERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgoYkHgAAAc4SURBVHja7F1NbuJIFK5EHMCbkaZX7WgOEFjOCnyCJicInCBwAsgJkpwAcoKQE+Be9ZY+wGjcqxlpNtwg8x55SFZRrj9XGWO9T7KiAK7fr95fPZevRET8EF9G8Ger+82f4p8rwWBocM1DwGCSMhg10SOVHAt9S5MgGsCcyGOW/8fvvyVSP/d//fvf7hLJAH1J4U9a+mgHfdkHKhvHKPEpu2eyGRtA7Ppj27x9qQ+4KDLHCVzCn0Wg9uDEvwABlh73TqR2ZNSfugSVfZMC2ndjLUlZmXQOKK0WQIwciJA3XTkRUtaO36T/d7QwbVAwSd3VlMmkSWiiTuBAmkePpt7CNS79P5KlYFW7Svgq9w3uURIH+lJUlDGy0Apjqa065ExSM54UksFF/ZdJghN7Z7JZUVVbEErGs8XEbz36XrV4c+rLPvYEMEmbBTolb3DZ2GOuhMoa7gsuohlcstpelyT4QlrguJDeXW1sJqk7cBJ+SSpyUlaFcL1qvk9b0g+5nYihRCq5r98k82ao0AJYbqGwTfHzRx/J2+MdH2e8lm1LmoyJZK8tFXZt37GeTKF6j2WguTCXnRFXkirauZSIJfcVSfu3p6kwPRIUytmW64HPr1jdnx/O0kN2smBiy2XsVU5YhZMTDCglbeqA38ykRbmpE2lgkrY3qiCry7KZkEohnLOEmzSQvft3yRFMHKIOpyGoH+JLQurraH8kdVqrMydsElAsbStUde9Q17pDPB2J6lBOqvgub9HikjmzquEkPvYk0oypwOSCJjOlawztf0DbB8i66wBJC4l4ZYGxl2zQostapVci6MSC8W3HIUYJfckunaigvtfkXQuFs4H73lmLF5dpM+JeMl90v/8M5pPaXXVk4SVE1BsgaoxA85PkxMhap0+EkhdPDNW6LKn9G9cFrWhnauirlXMlTmOncruH5bpMeQY9S5vhEomKIZBpJGltqnsUiIDC4DgNNQQTAdrZb8NkYqpeX7QnwBwS40gkPZeHbHKc2hKV2LouUrjnwyRJbTb60Tb6dSb7pQpDw2AkaMbUzSc12X6KNLS8rfaiKWiuSBnM2hDasomTzmGin2NUDuUa7RcdgIRvwj6b5tIcJ+edwNjBfEvYOKxyaDOvRdJYBA2Ely6SVOHQXNLimruaBCbNwztO7cSIh4BJ2jYUIvyOUdGVwbkCu26p8xRV25q0dbq1CVEE2hZdQzlTj/uz2A/iMeLD95Fmn9SzOpjwVDFJGQwmKYPBJGWwd884Be02lQPTQ9t7j7FBerTkybMJ30ue/E73FCrUg3b9vWeU4LjbuKN6Co+xOvoxKX10KyxTQn1JuqOrKedp3TJi3gd05uokpIykth1OL4HrWfHAWyoCxV+hHpz7F0on1P0O68TI0VjUyFH2IimlwA3qdpbCQxfxICCd+bQS7d7hSogU99Deu4hnUqFwWmHKHdQxrRgv1A4ztkmbJehWXM4WbCqaSb+cqI7Lgc9WoQjKNqk9FhamTUEm0M+A9eoyxG4lG+9E2gFZxiDpNhbtftV8PxT6Z93wkZ2lZPuaTKHj4y/fg5AUd6RALS9bTJ4mpOjMYJ/PY6S02ZyMZziRD8llJKmpnpImUS1UPPuqXzItFgZyzk22rI8kXQBRvwrPfFIdwaHctIYDYsonDYWxgaBZE+ch6YgMJLkXERPXsX9Qx1xUb0EnJQ8+1RB04BMZ6NFKM0mkOp7s0mA7xZKG+0D79rrJvzsnQSWVnUauwzZPtApzH4IeHCd6qrIQ3cMmUDm3VZPmO+gXiqTOgnZV8SrvftqxAT3YPpEnpw0S9GgvNmH2jM7Vx2uyG/MOERXJk0V6nLlVQO9d6FMV9yEWAXnsTzVNAW/0Sg7OGhwZ7NSlnWAiD1ZXTjCRyfIR2+TxPLs/j22XX0ueOHbqhlRl3haVZuE0bIicgy4S1BNTD5t57/H7eeyOnISgSE0+0xUVl7Qt2gLgfMwsF+3cIoivAjo3D5aRgpzqiS4UeFvUbtJVaPp0j0ehj8Ic45A3ngQVpLZNvslB22IWlwtBKdmESRoJVZsYCR0W2wgsCIR+xDhAPblBi+oymnLNfQ/e6h6cpY8uMyzAces6aYHvS9o1dcoH1gP16dQ+tmcTQAU/EhmrpB861wPHsZpB2376xEtZkpqJsdGo2cOeNmb9eLzSJpbaf6PYaUyp3VdlP9F9OlMDxwnHa+zSRs6CsgN6sG+a7yfiM23NhQhXvgSCepBAVfFRlH6Lul53DamNi2ikMQlGdFkfC8SS1F6aTlvUHpPdOAsk2Z2lNpF2LgKGL5mk9sRAWyoT7clzMBFo1YDaP0rtqrHKmaRnkGD0duE78RlT3J2xLV4Eakpqo0Slhw0HdL/3WPVE3Nf92TwJmV0gWTdlB0HxnnjX6EHmSyCoeyDstrHXFZLNRi2j1Na9brHQtHFXJqjPWEXd7bE564nfyMdgdc9gkjIYsfG/AAMAhH2/fjzguKAAAAAASUVORK5CYII=",ur=""+new URL("system-outline-CILsmixw.png",import.meta.url).href,cr=""+new URL("systemModels-BZtc2PB-.svg",import.meta.url).href,dr=""+new URL("upload-data-1-CXTUV-Bo.png",import.meta.url).href,fr=""+new URL("upload-data-2-BZ_EbAzn.png",import.meta.url).href,gr=""+new URL("upload-data-3-BZDw4nWk.png",import.meta.url).href,hr="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1725090072414'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8103'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M511.9250126%20961.84999971l-3.5997003-1.7998497-446.40029355-222.69393897V286.49378867L511.9250126%2062.03749678l3.59970029%201.79984971%20446.40029356%20222.65644218v450.86242237l-449.99999385%20224.49378867zM116.70795283%20703.57152675l367.80684434%20183.50970468v-358.0951535L116.70795283%20349.67602286v353.8955039z%20m395.21705977-580.4516206L148.61779297%20304.37979805l363.30721963%20177.13523672%20363.30721963-177.13523672-363.30721963-181.2598919z%20m395.21705977%20226.5561167l-367.80684435%20179.31005508v358.09515352l367.80684435-183.5097047V349.67602286z%20m-270.87742354%20219.58169853l184.82209629-90.14248651a27.74768731%2027.74768731%200%200%201%2036.67194316%2012.56145292%2027.37271865%2027.37271865%200%200%201-12.56145292%2036.55945283l-184.85959307%2090.14248652a27.56020254%2027.56020254%200%200%201-36.63444639-12.52395615%2027.37271865%2027.37271865%200%200%201%2012.56145293-36.59694961zM375.5488792%20621.11589893a27.37271865%2027.37271865%200%200%201-11.96150274-2.73727178l-184.93458663-90.1799833a27.33522187%2027.33522187%200%200%201-12.56145292-36.55945283%2027.89767442%2027.89767442%200%200%201%2036.63444639-12.56145293l184.89708985%2090.14248652a27.37271865%2027.37271865%200%200%201-12.07399395%2051.89567432z'%20p-id='8104'%3e%3c/path%3e%3c/svg%3e",pr="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1736169105129'%20class='icon'%20viewBox='0%200%201280%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='23344'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='250'%20height='200'%3e%3cpath%20d='M767.8%201024c-0.2%200-1.6%200%200%200-15.876-0.188-29.62-12.062-31.72-27.76L640%20274.6l-97.8%20721.6c-0.4%2014-13.8%2027.6-29.6%2027.8-0.156%200%200.126%200%200%200-15.688%200-29.4-11.376-31.9-26.94L385.8%20405.6l-66.12%20463c-2.28%2013.6-15.28%2027-30.88%2027.4-15.75%200.312-29.18-10.5-32.24-25.76L184.26%20508.4l-25.92%2077.8C154%20599.2%20141.78%20608%20128%20608l-96.04-1.8c-17.648%200-31.96-12.6-31.96-32%200-16%2014.344-32%2032-32l72.94%201.8%2056.72-170.12C166.22%20360.2%20178.9%20350.6%20194%20352c14.468%200.876%2026.54%2011.438%2029.38%2025.68l59.38%20296.8%2069.56-487c2.28-15.66%2013.88-27.36%2031.48-27.48%2015.844%202.25%2029.38%2011.312%2031.88%2026.94l93.72%20584.6%2098.8-743.78C610.4%2011.876%20622.2%200%20640%200s29.6%2011.876%2031.72%2027.76l98.96%20743.8%2093.72-584.6c2.6-15.64%2019-25.84%2031.8-26.96%2015.812%200.126%2029.16%2011.812%2031.4%2027.5l69.56%20487%2059.38-296.8c2.844-14.25%2014.906-24.82%2029.38-25.68%2014.938-1.376%2027.76%208.062%2032.34%2021.82L1175%20544l73-1.8c17.656%200%2032%2014.338%2032%2032.02%200%2017.624-14.312%2031.98-31.96%2031.98L1152%20608c-13.782%200-26-8.812-30.34-21.88l-25.9-77.68-72.38%20361.8C1020.4%20885.6%201006.6%20896%20991.2%20896c-15.594-0.438-28.6-12.062-30.82-27.5l-66.12-463-94.84%20591.6C796.8%201012.6%20783.4%201024%20767.8%201024z'%20p-id='23345'%3e%3c/path%3e%3c/svg%3e",mr="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1729824289309'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='24778'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M266.688%20256v512h-64V256h64zM128%20320v384H64V320h64z%20m277.312%200v384h-64V320h64zM544%20384v256h-64V384h64z%20m138.688%200v256h-64V384h64z%20m138.624%200v256h-64V384h64zM960%20384v256h-64V384h64z'%20fill='%2352BED0'%20p-id='24779'%3e%3c/path%3e%3c/svg%3e",vr=""+new URL("wavelet-transform-outline-BQk8G42K.png",import.meta.url).href,_r=""+new URL("wavelet-transform-output-DKfC0iIu.png",import.meta.url).href,yr=""+new URL("wavelet-transform-params-e9v2Hqiw.png",import.meta.url).href,ff=""+new URL("step_1_drag-C4IgVMwg.gif",import.meta.url).href,gf=""+new URL("step_2_setting-2bl7WM6s.gif",import.meta.url).href,hf=""+new URL("step_3_modeling-DNeAdwfW.gif",import.meta.url).href,pf=""+new URL("step_4_modelCheck-KZEuT_h2.gif",import.meta.url).href,mf=""+new URL("system-outline-CILsmixw.png",import.meta.url).href,vf=""+new URL("algorithms-unfold-Co0658TG.png",import.meta.url).href,_f=""+new URL("algorithm-introduction-dA5slHc0.png",import.meta.url).href,yf=""+new URL("set-params-DjMDDJJo.png",import.meta.url).href,wf=""+new URL("line-uYp9PNC2.gif",import.meta.url).href,bf=""+new URL("modeling-finish-1-Bot0IzS3.png",import.meta.url).href,Cf=""+new URL("modeling-finish-2-DE8LTPII.png",import.meta.url).href,If=""+new URL("check-model-tip-Sxes52ou.png",import.meta.url).href,xf=""+new URL("rectify-model-1-BOR4pdRt.png",import.meta.url).href,Af=""+new URL("rectify-model-2-Ui4dnPSh.png",import.meta.url).href,kf=""+new URL("rectify-model-3-Hm79SSw7.png",import.meta.url).href,Sf=""+new URL("save-model-1-CtJTgODQ.png",import.meta.url).href,Nf=""+new URL("save-model-2-yS9fx5XA.png",import.meta.url).href,Vf=""+new URL("modeling-processing-BWuSegg3.png",import.meta.url).href,Df=""+new URL("browser-saved-models-1-9gu2N5Qa.png",import.meta.url).href,Ef=""+new URL("browser-saved-models-2-9rfBrd8z.png",import.meta.url).href,Gf=""+new URL("upload-data-1-CXTUV-Bo.png",import.meta.url).href,Mf=""+new URL("upload-data-3-BZDw4nWk.png",import.meta.url).href,Zf=""+new URL("upload-data-2-BZ_EbAzn.png",import.meta.url).href,zf="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1726920247288'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17284'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M422.4%2064H108.8C84.1%2064%2064%2084.1%2064%20108.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V108.8c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H108.8V108.8h313.6v313.6zM422.4%20556.8H108.8c-24.7%200-44.8%2020.1-44.8%2044.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V601.6c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H108.8V601.6h313.6v313.6zM915.2%2064H601.6c-24.7%200-44.8%2020.1-44.8%2044.8v313.6c0%2024.7%2020.1%2044.8%2044.8%2044.8h313.6c24.7%200%2044.8-20.1%2044.8-44.8V108.8c0-24.7-20.1-44.8-44.8-44.8z%20m0%20358.4H601.6V108.8h313.6v313.6zM601.6%20736c-12.4%200-22.4%2010-22.4%2022.4v179.2c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V758.4c0-12.4-10-22.4-22.4-22.4zM713.6%20736c-12.4%200-22.4%2010-22.4%2022.4v179.2c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V758.4c0-12.4-10-22.4-22.4-22.4zM825.6%20646.4c-12.4%200-22.4%2010-22.4%2022.4v268.8c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V668.8c0-12.4-10-22.4-22.4-22.4zM937.6%20601.6c-12.4%200-22.4%2010-22.4%2022.4v313.6c0%2012.4%2010%2022.4%2022.4%2022.4%2012.4%200%2022.4-10%2022.4-22.4V624c0-12.4-10-22.4-22.4-22.4z'%20fill='%23333333'%20p-id='17285'%3e%3c/path%3e%3c/svg%3e",Rf=""+new URL("customize-model-1-CGO38_hd.png",import.meta.url).href,Wf=""+new URL("customize-model-2-C4hpftIj.png",import.meta.url).href;var Lf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),l.forEach(function(o){Bf(e,o,n[o])})}return e}function Bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lr=function(t,n){var l=oc({},t,n.attrs);return c(la,oc({},l,{icon:Lf}),null)};Lr.displayName="MinusCircleOutlined";Lr.inheritAttrs=!1;var Ff={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),l.forEach(function(o){Yf(e,o,n[o])})}return e}function Yf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br=function(t,n){var l=ac({},t,n.attrs);return c(la,ac({},l,{icon:Ff}),null)};Br.displayName="PlusCircleOutlined";Br.inheritAttrs=!1;var $f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]},name:"question",theme:"outlined"};function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),l.forEach(function(o){Tf(e,o,n[o])})}return e}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=function(t,n){var l=sc({},t,n.attrs);return c(la,sc({},l,{icon:$f}),null)};Fr.displayName="QuestionOutlined";Fr.inheritAttrs=!1;var Xf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),l.forEach(function(o){Of(e,o,n[o])})}return e}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hl=function(t,n){var l=ic({},t,n.attrs);return c(la,ic({},l,{icon:Xf}),null)};Hl.displayName="UploadOutlined";Hl.inheritAttrs=!1;const Hf="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1725515924025'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6254'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M154.68661162%20328.42831573l-1.28709316%200.64354657v364.89095508l357.81194092%20188.23739678V506.36896719L154.68661162%20328.42831573z'%20fill='%23FFFFFF'%20p-id='6255'%3e%3c/path%3e%3cpath%20d='M868.37985459%20328.75008945L511.21145938%20140.83446552%20168.52286445%20321.02752959l-13.83625283%207.40078613%20356.52484775%20177.94065147%204.18305323-1.93064063%20353.95066143-175.04469052V329.0718623l-0.96531944-0.32177285zM515.3945126%20504.43832656l-4.18305323%201.93064063%204.18305323-1.93064063z'%20fill='%2391D5FF'%20p-id='6256'%3e%3c/path%3e%3cpath%20d='M939.8135331%20294.32034336a59.84983916%2059.84983916%200%200%200-25.42009307-26.70718623L538.56219219%2068.75723955a58.88451885%2058.88451885%200%200%200-54.70146563%200L108.35125244%20266.32606396a58.24097227%2058.24097227%200%200%200-15.44511973%2013.83625284%2064.35466612%2064.35466612%200%200%200-9.65320049%2012.54915966%2059.84983916%2059.84983916%200%200%200-6.43546581%2025.7418668v386.12799405a59.20629258%2059.20629258%200%200%200%2032.17733261%2052.1272793l375.50947413%20197.56882352a59.20629258%2059.20629258%200%200%200%2026.70718622%207.72255987h4.50482696a56.31033252%2056.31033252%200%200%200%2022.84590586-6.11369297l375.509475-197.56882441a59.20629258%2059.20629258%200%200%200%2032.17733261-52.12727842V318.45334326a56.63210625%2056.63210625%200%200%200-6.4354667-24.1329999z%20m-70.46835908%2035.07329268l-353.95066142%20175.04469052-4.18305323%202.25241348v375.50947412L153.07774472%20693.96281739V329.0718623l13.83625284-7.40078613%20344.29746182-180.83661064%20357.16839521%20187.91562392z'%20fill='%2340A9FF'%20p-id='6257'%3e%3c/path%3e%3c/svg%3e",aa=e=>(Un("data-v-9e8eda26"),e=e(),Jn(),e),Pf={key:0,style:{width:"100%","margin-bottom":"15px"}},Kf={style:{width:"100%","overflow-x":"auto","font-size":"20px"}},Uf={class:"custom-tree-node",style:{}},Jf=aa(()=>i("img",{src:Hf,style:{width:"20px",height:"20px"},alt:"model"},null,-1)),jf={class:"node-label"},Qf={key:1,class:"node-actions"},qf={key:2},eg=aa(()=>i("span",{style:{"margin-right":"20px"}},"新的节点名称：",-1)),tg=aa(()=>i("div",{style:{"font-size":"15px",color:"gray"}},"只能包含中英文、数字和下划线",-1)),ng=aa(()=>i("span",null,"是否标记节点为最终类型：",-1)),lg={class:"dialog-footer"},og=je({__name:"ComponentTree",props:{userRole:String},emits:["resetModel","loadModel"],setup(e,{expose:t,emit:n}){const l=n,o=v([]);v(!1);const a=v({modelId:null,modelName:"",modelInfo:{}}),s=_l();v("无");const r=B=>{console.log("当前点击的节点信息",B),console.log("获取的模型信息",o),a.value.modelId=B.modelId,a.value.modelName=B.label,a.value.modelInfo=o.value.filter(R=>R.id===a.value.modelId),l("loadModel",a)},u=Et({nameOfNewTree:""}),f=Et({nameOfNewTree:[{required:!0,message:"请输入新增结构树名称",trigger:"blur"},{pattern:/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,message:"组件名称只能包含中英文、下划线和数字",trigger:"blur"}]}),d=v(),p=()=>{d.value.validate(B=>{if(B)ne();else return console.log("校验失败"),!1})},_=()=>{Pe.get(I.userRole=="superuser"?"user/fetch_models/":"user/fetch_models_published/").then(B=>{if(B.data.code===200){let R=B.data.models;o.value=[];for(let ie of R)if(I.userRole=="user")if(console.log("进入用户角色获取树结构",ie),ie.isPublish=="已发布")console.log("进入已发布判断",ie),o.value.push(ie);else continue;else o.value.push(ie);console.log("huoqudeshujiegou",o.value)}B.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{s.push("/")}})}).catch(B=>{q({message:"获取历史模型失败,"+B,type:"error"})})},w=(B,R)=>{Pe.get("/user/delete_model/?row_id="+R.modelId).then(ie=>{if(ie.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{s.push("/")}}),ie.data.code==200){l("resetModel",R.label),console.log("删除成功");const j=B.parent,fe=j.data.children||j.data,se=fe.findIndex(Se=>Se.value===R.value);fe.splice(se,1),Object.assign(H,[...H])}else ie.data.code==404?q({message:"没有权限删除该模型",type:"error"}):q({message:"删除模型失败，请稍后重试",type:"error"})}).catch(ie=>{console.error(ie),q({message:"删除模型失败,"+ie,type:"error"})})},C=v();let m=v(!1);const A=v(""),G=v(!1),M=v(null),x=v(""),I=e,H=Et([]);$t(()=>{ee(),_()});function P(B){return B.map(R=>{if(R.children&&R.children.length>0){const ie=P(R.children);return ie.length>0?{...R,children:ie}:null}return R.isModel&&R.isPublished==="未发布"?null:R}).filter(R=>R!==null)}const ee=()=>{Pe.get("user/get_component_trees").then(B=>{if(B.data.code===200)if(H.length=0,I.userRole=="user"){let R;B.data.trees.map(ie=>H.push(ie)),R=P(H),H.length=0,R.map(ie=>H.push(ie)),console.log("获取到树形结构: ",H)}else B.data.trees.map(R=>H.push(R));else q.error("获取树形结构失败，"+B.data.message)})};t({getComponentTrees:ee,fetchModelInfoFromDatabase:_});const ne=()=>{let B=new FormData;B.append("treeName",u.nameOfNewTree),Pe.post("user/create_component_tree",B).then(R=>{R.data.code===200?(q.success("添加成功"),ee(),u.nameOfNewTree=""):q.error("新建树失败，"+R.data.message)}).catch(R=>{console.log(R),q.error("新建树失败，"+R)})},ue=v(H),$=B=>{if(console.log("添加节点方法执行..."),console.log("data: ",B),B.disabled){let R=B.value,ie=B.value.split(".")[0],j=new FormData;j.append("treeName",ie),j.append("parentNodeValue",R),Pe.post("user/add_node_to_tree/",j).then(fe=>{if(fe.data.code===200){q.success("添加节点成功");const se=fe.data.node;console.log("appendNodeToTree newChild: ",se),B.children||(B.children=[]),B.children.push(se)}else q.error("添加节点失败, "+fe.data.message)}).catch(fe=>{q.error(fe+", 添加节点失败, 请重试")})}else q.warning("该节点不可添加子节点")},J=(B,R)=>{console.log("删除节点方法执行...");let ie=new FormData;ie.append("treeName",R.value.split(".")[0]),ie.append("nodeValue",String(R.value)),Pe.post("user/delete_node/",ie).then(j=>{if(j.data.code==200){q.success("节点删除成功");const fe=B.parent,se=fe.data.children||fe.data;console.log("removeNodeOfTree children: ",se);const Se=se.findIndex(Ie=>Ie.value===R.value);console.log("removeNodeOfTree index: ",Se),se.splice(Se,1)}else q.error("节点删除失败, "+j.data.message)}).catch(j=>{q.error("节点删除失败, "+j)})},z=B=>B.isModel?B.isPublished=="已发布"?B.label+" (已发布)":B.label+" (未发布)":B.label;let me;const D=(B,R)=>{M.value=R,G.value=!0,x.value=R.label,me=B,F.value=R.disabled},F=v(!0),W=()=>{var B,R;if(!x.value||!/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(x.value)){q({message:"请输入有效的组件名称",type:"error"});return}else{let ie=new FormData;if(M.value){if(!F.value&&M.value.disabled&&((B=M.value.children)!=null&&B.length)){q.warning("无法将已经添加子节点的节点设置为最终类型节点");return}if(F.value&&!M.value.disabled&&((R=M.value.children)!=null&&R.length)){q.warning("该节点类型下已经添加了模型，无法将其设为非最终类型节点");return}ie.append("treeName",M.value.value.split(".")[0]),ie.append("newNodeName",x.value),ie.append("nodeValue",M.value.value),ie.append("nodeType",F.value?"node":"leaf")}else{console.log("editingNodeOfTree is null");return}Pe.post("user/edit_node_name/",ie).then(j=>{j.data.code===200?(q({message:"修改成功",type:"success"}),me?(me.data.label=x.value,me.data.disabled=F.value):console.log("nodeOfTreeBeingEdited is null"),G.value=!1):q({message:"修改失败，"+j.data.message})})}},oe=()=>{M.value=null,x.value=""};Ke(A,B=>{C.value.filter(B)});const re=(B,R)=>B?R.label?R.label.includes(B):!1:!0;return(B,R)=>{const ie=te("el-input"),j=te("el-form-item"),fe=te("el-button"),se=te("el-icon"),Se=te("Plus"),Ie=te("Delete"),ye=te("el-col"),he=te("el-row"),De=te("el-popconfirm"),Ce=te("Edit"),Y=te("el-radio"),K=te("el-radio-group"),pe=te("el-dialog");return V(),L("div",null,[c(ie,{modelValue:A.value,"onUpdate:modelValue":R[0]||(R[0]=S=>A.value=S),placeholder:"请输入关键字查询",style:{width:"100%","margin-bottom":"5px"}},null,8,["modelValue"]),I.userRole==="superuser"?(V(),L("div",Pf,[c(T(L2),{model:u,style:{width:"100%",display:"flex","flex-direction":"row"},rules:f,ref_key:"formRef",ref:d},{default:g(()=>[c(j,{prop:"nameOfNewTree",style:{width:"60%"}},{default:g(()=>[c(ie,{modelValue:u.nameOfNewTree,"onUpdate:modelValue":R[1]||(R[1]=S=>u.nameOfNewTree=S),placeholder:"输入结构树名称"},null,8,["modelValue"])]),_:1}),c(j,{style:{width:"40%"}},{default:g(()=>[c(fe,{style:{width:"100%"},onClick:p},{default:g(()=>[le("新增结构树")]),_:1})]),_:1})]),_:1},8,["model","rules"])])):ae("",!0),i("div",Kf,[c(T(B2),{ref_key:"treeRef",ref:C,data:ue.value,"node-key":"id","highlight-current":!0,"expand-on-click-node":!1,"default-expand-all":T(m),"filter-node-method":re,accordion:!1,"empty-text":"无数据",style:{display:"inline-block","min-width":"100%","font-size":"20px"}},{default:g(({node:S,data:k})=>[i("span",Uf,[k.isModel?(V(),ke(se,{key:0,class:"model-icon",onClick:N=>r(k)},{default:g(()=>[Jf]),_:2},1032,["onClick"])):ae("",!0),i("span",jf,Fe(z(k)),1),I.userRole==="superuser"&&!k.isModel?(V(),L("span",Qf,[k.disabled===!0?(V(),ke(se,{key:0,onClick:N=>$(k),style:{color:"#67c23a"}},{default:g(()=>[c(Se)]),_:2},1032,["onClick"])):ae("",!0),c(De,{title:"是否确定删除该节点？",onConfirm:N=>J(S,k)},{reference:g(()=>[c(se,{style:{color:"#f56c6c"}},{default:g(()=>[c(Ie)]),_:1})]),actions:g(({confirm:N,cancel:E})=>[c(he,null,{default:g(()=>[c(ye,{span:12},{default:g(()=>[c(fe,{size:"small",onClick:E},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(ye,{span:12},{default:g(()=>[c(fe,{type:"primary",size:"small",onClick:N},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"]),c(se,{onClick:N=>D(S,k),style:{color:"#409eff"}},{default:g(()=>[c(Ce)]),_:2},1032,["onClick"])])):ae("",!0),k.isModel?(V(),L("div",qf,[c(De,{title:"是否确定删除该模型？",onConfirm:N=>w(S,k)},{reference:g(()=>[I.userRole=="superuser"?(V(),ke(se,{key:0,style:{color:"#f56c6c"}},{default:g(()=>[c(Ie)]),_:1})):ae("",!0)]),actions:g(({confirm:N,cancel:E})=>[c(he,null,{default:g(()=>[c(ye,{span:12},{default:g(()=>[c(fe,{size:"small",onClick:E},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(ye,{span:12},{default:g(()=>[c(fe,{type:"primary",size:"small",onClick:N},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"])])):ae("",!0)])]),_:1},8,["data","default-expand-all"]),c(pe,{modelValue:G.value,"onUpdate:modelValue":R[5]||(R[5]=S=>G.value=S),title:"编辑节点","close-on-click-modal":!0,"before-close":oe,class:"custom-dialog",style:{width:"40%"}},{footer:g(()=>[i("div",lg,[c(fe,{onClick:R[4]||(R[4]=S=>G.value=!1),style:{width:"100px"}},{default:g(()=>[le("取消")]),_:1}),c(fe,{type:"primary",onClick:W,style:{width:"100px"}},{default:g(()=>[le("确认")]),_:1})])]),default:g(()=>[eg,c(ie,{modelValue:x.value,"onUpdate:modelValue":R[2]||(R[2]=S=>x.value=S),placeholder:"请输入新的节点名称",autofocus:!0,class:"half-width-input",style:{width:"50%"}},null,8,["modelValue"]),tg,ng,c(K,{modelValue:F.value,"onUpdate:modelValue":R[3]||(R[3]=S=>F.value=S),style:{width:"50%"}},{default:g(()=>[c(Y,{value:!0,size:"large"},{default:g(()=>[le("否")]),_:1}),c(Y,{value:!1,size:"large"},{default:g(()=>[le("是")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])])}}}),rc=Ot(og,[["__scopeId","data-v-9e8eda26"]]),Q=e=>(Un("data-v-9a928beb"),e=e(),Jn(),e),ag=Q(()=>i("i",{class:"fa-solid fa-cloud-arrow-up",style:{"margin-right":"3px"}},null,-1)),sg=Q(()=>i("span",{style:{"font-family":"'Microsoft YaHei'"}},"上传组件",-1)),ig={style:{display:"flex",padding:"10px","flex-direction":"column","justify-content":"center","font-family":"'Microsoft YaHei'"}},rg={style:{width:"100%"}},ug={style:{width:"100%","margin-bottom":"10px"}},cg=Q(()=>i("span",null,[i("span",{style:{color:"red"}},"*"),le("选择上传组件的类型：")],-1)),dg={key:0,style:{color:"#08c"}},fg={key:0,style:{"padding-top":"0","padding-bottom":"10px"}},gg=Q(()=>i("span",null,[i("span",{style:{color:"red"}},"*"),le("选择无量纲化的对象：")],-1)),hg={style:{display:"flex","flex-direction":"column","margin-top":"20px"}},pg={style:{display:"flex","flex-direction":"row"}},mg=Q(()=>i("span",null,[i("span",{style:{color:"red"}},"*"),le("选择算法源文件：")],-1)),vg=Q(()=>i("div",null,null,-1)),_g={key:0,style:{"margin-top":"20px"}},yg=Q(()=>i("span",null,[i("span",{style:{color:"red"}},"*"),le("选择所使用的模型类型：")],-1)),wg={key:1,style:{display:"flex","flex-direction":"row","margin-top":"20px"}},bg=Q(()=>i("span",null,[i("span",{style:{color:"red"}},"*"),le("选择模型权重文件：")],-1)),Cg={style:{"margin-right":"120px","margin-top":"20px",display:"flex","flex-direction":"column"}},Ig=Q(()=>i("p",{style:{color:"#999","font-size":"12px"}},"只能包含中英文、数字和下划线，长度不超过50个字符。",-1)),xg=Q(()=>i("p",{style:{color:"#999","font-size":"12px"}},"长度不超过300个字符。",-1)),Ag=Q(()=>i("div",{style:{width:"350px","margin-left":"10px","margin-bottom":"10px"}},"上传组件并进行完整性校验：",-1)),kg={key:0,style:{"font-size":"20px"}},Sg={key:0,style:{display:"flex","align-items":"center"}},Ng=Q(()=>i("span",{style:{"font-size":"12px","margin-left":"5px"}},"校验通过，上传成功",-1)),Vg={key:1,style:{display:"flex","align-items":"center"}},Dg=Q(()=>i("span",{style:{"font-size":"12px","margin-left":"5px"}},"校验失败",-1)),Eg={key:0,style:{display:"flex","flex-direction":"column","align-content":"left","padding-top":"20px",width:"100%"}},Gg={style:{display:"flex","flex-direction":"row",width:"100%"}},Mg=Q(()=>i("span",{style:{}},"所上传的组件运行结果（点击放大）",-1)),Zg={key:0,style:{width:"100%",height:"250px"}},zg={key:1,style:{width:"100%",height:"250px"}},Rg={key:2,style:{width:"100%",height:"250px"}},Wg={key:3,style:{width:"100%",height:"auto"}},Lg={key:4,style:{width:"100%",height:"auto"}},Bg=Q(()=>i("p",{style:{"font-size":"15px","font-weight":"bold"}},"上传算法模板参考",-1)),Fg={key:0},Yg=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),$g=Q(()=>i("a",{href:"src/assets/exampleCode/My-Interpolation.py",download:"example-interpolation.py"},"插值处理示例代码源文件",-1)),Tg=Q(()=>i("h1",null,"基本结构",-1)),Xg=Q(()=>i("h2",null,"1. 数据输入",-1)),Og=Q(()=>i("h3",null,"插值处理的私有算法作为脚本运行时，需要从主程序获取两个参数：",-1)),Hg=Q(()=>i("h3",null,"(1) --raw-data-filepath， 需要插值的原数据的存放路径",-1)),Pg=Q(()=>i("h3",null,"(2) --interpolated-data-filepath， 插值后的结果数据的存放路径",-1)),Kg=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),Ug=Q(()=>i("h3",null," 上图为获取输入数据的示例。在获取到原数据的存放路径后，通过numpy中的load()读取原数据，即可使用相应的插值算法对其进行插值处理。 ",-1)),Jg=Q(()=>i("h2",null,"2. 数据输出",-1)),jg=Q(()=>i("h3",null," 在完成插值处理后，使用numpy库，将对于原数据的插值结果保存到'interpolated_data_filepath'指出的存放路径 ",-1)),Qg=Q(()=>i("h2",null,"3. 私有算法代码模板示例",-1)),qg=Q(()=>i("h3",null,"插值处理的私有算法模板代码如下：",-1)),eh=Q(()=>i("h3",null,"其中'linear_interpolatin_for_signal'为用户自定义的私有插值算法",-1)),th={key:1},nh=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),lh=Q(()=>i("a",{href:"src/assets/exampleCode/My-FD-Algorithm-1.py",download:"example-fault-diagnosis.py"},"深度学习故障诊断示例代码源文件",-1)),oh=Q(()=>i("h1",null,"基本结构",-1)),ah=Q(()=>i("h2",null,"1. 数据输入",-1)),sh=Q(()=>i("h3",null,"故障诊断的私有算法作为脚本运行时，需要从主程序获取两个参数：",-1)),ih=Q(()=>i("h3",null,"(1) --model-filepath， 故障诊断算法所使用模型的模型参数的存放路径",-1)),rh=Q(()=>i("h3",null,"(2) --input-filepath， 样本数据的存放路径",-1)),uh=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),ch=Q(()=>i("h2",null,"2. 模型加载",-1)),dh=Q(()=>i("h3",null,"机器学习和深度学习的模型加载方式不同",-1)),fh=Q(()=>i("h3",null," (1)对于深度学习模型，在获得模型参数的存放路径之后，通过该路径加载模型参数以初始化模型，以pytorch框架为例，通过如下方式加载模型参数 ",-1)),gh=Q(()=>i("h3",null," (2)对于机器学习模型，在获得模型的存放路径之后，通过joblib库的'load()'方法加载已训练好的模型 ",-1)),hh=Q(()=>i("h3",null,"其中注意，如果需要使用gpu辅助计算，则需要指定gpu为gpu:0",-1)),ph=Q(()=>i("p",{style:{"font-size":"15px","font-weight":"600"}},[le(" 以pytorch为例，通过如下代码指定使用第0块gpu："),i("br"),le(' device = torch.device("cuda:0" if torch.cuda.is_available() else "cpu") ')],-1)),mh=Q(()=>i("h2",null,"3. 模型推理及输出结果",-1)),vh=Q(()=>i("h3",null," 初始化模型之后，即可使用样本数据进行模型推理，进行模型推理之后，1代表有故障，0代表无故障， ",-1)),_h=Q(()=>i("h3",null,"在此应该注意，注意深度学习和机器学习的故障诊断输入样本数据不同：",-1)),yh=Q(()=>i("h3",null," (1)对于深度学习，其输入样本为原始的振动信号，因此使用numpy库的'numpy.load()'函数读取输入数据 ",-1)),wh=Q(()=>i("h3",null," (2)对于机器学习，其输入样本为提取的手工特征，主程序中保存为pickle对象，因此使用pickle库的'pickle.load()'函数读取输入数据 ",-1)),bh=Q(()=>i("h3",null," 以使用pytorch框架训练的深度学习故障诊断模型为例，给出故障诊断示例代码如下 ",-1)),Ch=Q(()=>i("h3",null,"在得到诊断结果之后，需要以打印的形式作为输出结果传回主程序",-1)),Ih=Q(()=>i("br",null,null,-1)),xh=Q(()=>i("h3",null," 除此之外，对于机器学习的故障诊断，需要选定模型训练时的手工特征从输入数据中提取模型推理所需的特征样本，下图为机器学习的故障诊断推理示例 ",-1)),Ah=Q(()=>i("h3",null,"代码中的choose_features即为该模型所需的手工特征",-1)),kh=Q(()=>i("h2",null,"4. 私有算法代码模板示例",-1)),Sh=Q(()=>i("h3",null,"故障诊断的私有算法模板代码(模型结构的定义在该代码段之前)如下：",-1)),Nh=Q(()=>i("h3",null,"其中故障诊断的模型结构需要在该python源文件之中定义",-1)),Vh=Q(()=>i("br",null,null,-1)),Dh={key:2},Eh=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),Gh=Q(()=>i("a",{href:"src/assets/exampleCode/My-FaultPredict-Algorithm-1.py",download:"example-fault-prediction.py"},"故障预测示例代码源文件",-1)),Mh=Q(()=>i("h1",null,"基本结构",-1)),Zh=Q(()=>i("h2",null,"1. 数据输入",-1)),zh=Q(()=>i("h3",null,"故障预测的私有算法作为脚本运行时，需要从主程序获取两个参数：",-1)),Rh=Q(()=>i("h3",null,"(1) --model-filepath， 故障预测算法所使用模型的模型参数的存放路径",-1)),Wh=Q(()=>i("h3",null,"(2) --input-filepath， 样本数据的存放路径",-1)),Lh=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),Bh=Q(()=>i("h2",null,"2. 模型加载",-1)),Fh=Q(()=>i("h3",null,"机器学习和深度学习的模型加载方式不同",-1)),Yh=Q(()=>i("h3",null," (1)如果是深度学习，在获得模型参数的存放路径之后，通过该路径加载模型参数以初始化模型，以pytorch框架为例，通过如下方式加载模型参数 ",-1)),$h=Q(()=>i("h3",null," (2)如果是机器学习，在获得模型的存放路径之后，通过joblib库的'load()'方法加载已训练好的模型 ",-1)),Th=Q(()=>i("h3",null,"其中注意，如果需要使用gpu辅助计算，则需要指定gpu为gpu:0",-1)),Xh=Q(()=>i("h3",null,null,-1)),Oh=Q(()=>i("p",{style:{"font-size":"15px","font-weight":"600"}},[le(" 以pytorch为例，通过如下代码指定使用第0块gpu："),i("br"),le(' device = torch.device("cuda:0" if torch.cuda.is_available() else "cpu") ')],-1)),Hh=Q(()=>i("h2",null,"3. 模型推理及输出结果",-1)),Ph=Q(()=>i("h3",null," 初始化模型之后，即可使用样本数据进行模型推理。这里注意深度学习和机器学习的样本数据不同 ",-1)),Kh=Q(()=>i("h3",null," (1)对于深度学习，其输入样本为原始的振动信号，因此使用numpy库的'numpy.load()'函数读取输入数据 ",-1)),Uh=Q(()=>i("h3",null," (2)对于机器学习，其输入样本为提取的手工特征，因此使用pickle库的'pickle.load()'函数读取输入数据 ",-1)),Jh=Q(()=>i("h3",null," 其中，进行模型推理之后，得到预测的可能出现故障的时间，需要使用print()打印推理结果，以作为输出结果传回主程序， ",-1)),jh=Q(()=>i("h3",null," 此时，需要注意的是在打印预测结果时，应该按照如下所示在预测结果之后紧跟'#'符号，以便于主程序读取输出的结果 ",-1)),Qh=Q(()=>i("h2",null,"4. 私有算法代码模板示例",-1)),qh=Q(()=>i("h3",null,"故障预测的私有算法模板代码如下：",-1)),ep={key:3},tp=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),np=Q(()=>i("a",{href:"src/assets/exampleCode/My-Nor-Algorithm-1.py",download:"example-normalization.py"},"无量纲化示例代码源文件",-1)),lp=Q(()=>i("h1",null,"基本结构",-1)),op=Q(()=>i("h2",null,"1. 数据输入",-1)),ap=Q(()=>i("h3",null,"故障预测的私有算法作为脚本运行时，需要从主程序获取三个参数：",-1)),sp=Q(()=>i("h3",null,"(1) --model-filepath， 故障预测算法所使用模型的模型参数的存放路径",-1)),ip=Q(()=>i("h3",null,"(2) --input-filepath， 样本数据的存放路径",-1)),rp=Q(()=>i("h3",null,"(3) --output-filepath,，处理结果的存放路径",-1)),up=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),cp=Q(()=>i("h3",null," 其中，如果需要使用到保存的训练数据的参数对样本数据进行无量纲化处理，则应通过读取'model-filepath'路径指向的pickle文件获取训练数据参数的记录 ",-1)),dp=Q(()=>i("h3",null,"此外，在加载数据的时候，也需要根据处理的数据的类型分类讨论：",-1)),fp=Q(()=>i("h3",null," 如上代码示例中，如果处理的数据为提取的信号特征样本，则应该将输入样本作为.pkl类型的文件进行读取，读取到的数据类型为pandas中的DataFrame； ",-1)),gp=Q(()=>i("h3",null," 而如果处理的数据为信号序列，则应该将输入样本作为.npy类型的文件进行读取，读取到的数据类型为numpy数组 ",-1)),hp=Q(()=>i("h2",null,"2. 无量纲处理以及输出结果",-1)),pp=Q(()=>i("h3",null,"在进行无量纲处理时，根据处理的数据的类型不同，处理方式也不同：",-1)),mp=Q(()=>i("h3",null," (1)如果是对于提取的特征样本，则应该在步骤1中读取保存了训练数据的记录之后，再根据该记录的训练数据的参数对输入的样本进行无量纲化，以scikit-learn中的无量纲化方法为例， 通过已加载的参数记录对象的'transform'方法对特征样本进行标准化。同时，应该注意要提前选定训练数据使用到的特征，如上所示代码中的'choose_features'。 ",-1)),vp=Q(()=>i("h3",null," (2)如果是对于信号序列，以scikit-learn中的''无量纲化方法为例，将输入数据转换为合适的形状后即可对其进行无量纲化处理。需要注意的是，主程序输入的信号序列为(1, 2048)的numpy数组 ",-1)),_p=Q(()=>i("h2",null,"3. 专有算法代码模板示例",-1)),yp=Q(()=>i("h3",null,"无量纲化的专有算法模板代码如下：",-1)),wp={key:4},bp=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),Cp=Q(()=>i("a",{href:"src/assets/exampleCode/My-HE-Algorithm-1.py",download:"example-health-evaluation.py"},"健康评估示例代码源文件",-1)),Ip=Q(()=>i("h1",null,"基本结构",-1)),xp=Q(()=>i("h2",null,"1. 数据输入",-1)),Ap=Q(()=>i("h3",null,"健康评估的专有算法作为脚本运行时，需要从主程序获取参数：",-1)),kp=Q(()=>i("h3",null,"其中较为重要的参数为：",-1)),Sp=Q(()=>i("h3",null,"(1) --model-filepath， 健康评估算法所使用评估模型的模型参数的存放路径",-1)),Np=Q(()=>i("h3",null,"(2) --input-filepath， 样本数据的存放路径",-1)),Vp=Q(()=>i("h3",null,"(3) --save-filepath，处理结果的存放路径",-1)),Dp=Q(()=>i("h3",null," 其余参数为层级评估模型所使用的各个参数，目前不建议修改，推荐使用默认参数。 ",-1)),Ep=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),Gp=Q(()=>i("h2",null,"2. 模型加载及模型推理",-1)),Mp=Q(()=>i("h3",null," 层级评估模型的参数应该保存为.pkl的形式，并以.pkl文件的形式加载评估模型参数 ",-1)),Zp=Q(()=>i("h3",null," 通过加载的评估模型，计算出权重矩阵，之后计算出层级权重指标，将计算得出的层级权重指标保存为.npy文件。 ",-1)),zp=Q(()=>i("h2",null,"3. 输出结果",-1)),Rp=Q(()=>i("h3",null," 通过上述的模型推理得到层级权重指标矩阵之后，需要根据状态隶属度绘制出健康评估的可视化结果并给出相关建议。这里注意需要绘制层级指标权重柱状图， ",-1)),Wp=Q(()=>i("h3",null,"层级指标的树状图，并保存到'save_filepath'指出的路径下",-1)),Lp=Q(()=>i("h2",null,"4. 私有算法代码模板示例",-1)),Bp={key:5},Fp=Q(()=>i("h3",null,"附：示例代码源文件下载链接（点击下载）",-1)),Yp=Q(()=>i("a",{href:"src/assets/exampleCode/My-Wavelet-1.py",download:"example-wavelet-transform.py"},"小波变换示例代码源文件",-1)),$p=Q(()=>i("h1",null,"基本结构",-1)),Tp=Q(()=>i("h2",null,"1. 数据输入",-1)),Xp=Q(()=>i("h3",null,"小波变换的专有算法作为脚本运行时，主要需要从主程序获取两个参数：",-1)),Op=Q(()=>i("h3",null,"(1) --input-filepath， 输入的样本数据的存放路径",-1)),Hp=Q(()=>i("h3",null,"(2) --output-filepath， 处理结果数据的存放路径",-1)),Pp=Q(()=>i("h3",null,"数据输入方法：通过python中的argparse库进行命令行参数的添加和解析",-1)),Kp=Q(()=>i("h2",null,"2. 数据处理及结果返回",-1)),Up=Q(()=>i("h3",null," 在通过'input-filepath'读取输入数据后，就可以根据定义的数据处理方法处理输入数据。 然后将处理结果保存为.npy的文件以返回给主程序 ",-1)),Jp=Q(()=>i("h2",null,"3. 私有算法代码模板示例",-1)),jp=Q(()=>i("h3",null,"其中需要注意，定义的小波变换处理方法要在同一个源文件中。",-1)),Qp=je({__name:"uploadPrivateAlgorithmFiles",emits:["addExtraModule"],setup(e,{emit:t}){const n=Et({algorithmName:"",statement:""}),l=v(),o={algorithmName:[{required:!0,message:"请输入算法名称",trigger:"blur"}],statement:[{required:!0,message:"请输入算法描述",trigger:"blur"}]},a=v(!0),s=["插值处理","小波变换","无量纲化","故障诊断","故障预测","健康评估"],r=v(""),u=v(!1),f=O=>{r.value=O,u.value=!0},d=_l(),p=v([]),_=v([]),w=v(!1),C=Et({algorithmType:"",fileList:[],faultDiagnosisType:"machineLearning",validationDataType:"single",useLog:!1}),m=v([]),A=()=>{Pe.get("user/fetch_datafiles/?publicOnly=Y").then(_e=>{let Ne=_e.data;m.value=[];for(let Xe of Ne)m.value.push(Xe)})},G=v(!1),M=()=>{G.value=!0,A()},x=t;let I={modules:[],algorithms:{},parameters:{},schedule:[],multipleSensor:!1},H={modules:["插值处理"],algorithms:{插值处理:"private_interpolation"},parameters:{private_interpolation:""},schedule:["数据源","插值处理"],multipleSensor:!1},P={modules:["小波变换"],algorithms:{小波变换:"extra_wavelet_transform"},parameters:{extra_wavelet_transform:""},schedule:["数据源","小波变换"],multipleSensor:!1},ee={modules:["无量纲化"],algorithms:{无量纲化:"private_scaler"},parameters:{private_scaler:{useLog:!1,algorithm:""}},schedule:["数据源","无量纲化"],multipleSensor:!1},ne={modules:["故障诊断"],algorithms:{故障诊断:"private_fault_diagnosis_deeplearning"},parameters:{private_fault_diagnosis_deeplearning:""},schedule:["数据源","故障诊断"],mutipleSensor:!1},ue={modules:["故障诊断","特征提取","特征选择"],algorithms:{特征提取:"time_frequency_domain_features",特征选择:"correlation_coefficient_importance",故障诊断:"private_fault_diagnosis_machine_learning"},parameters:{time_frequency_domain_features:{均值:!0,方差:!0,标准差:!0,峰度:!0,偏度:!0,四阶累积量:!0,六阶累积量:!0,最大值:!0,最小值:!0,中位数:!0,峰峰值:!0,整流平均值:!0,均方根:!0,方根幅值:!0,波形因子:!0,峰值因子:!0,脉冲因子:!0,裕度因子:!0,重心频率:!0,均方频率:!0,均方根频率:!0,频率方差:!0,频率标准差:!0,谱峭度的均值:!0,谱峭度的峰度:!0},correlation_coefficient_importance:{rule:1,threshold1:.25,threshold2:.1},private_fault_diagnosis_machine_learning:""},schedule:["数据源","特征提取","特征选择","故障诊断"],mutipleSensor:!1},$={modules:["故障诊断","特征提取","特征选择"],algorithms:{特征提取:"time_frequency_domain_features",特征选择:"correlation_coefficient_importance",故障诊断:"random_forest_machine_learning",故障预测:"private_fault_prediction"},parameters:{time_frequency_domain_features:{均值:!0,方差:!0,标准差:!0,峰度:!0,偏度:!0,四阶累积量:!0,六阶累积量:!0,最大值:!0,最小值:!0,中位数:!0,峰峰值:!0,整流平均值:!0,均方根:!0,方根幅值:!0,波形因子:!0,峰值因子:!0,脉冲因子:!0,裕度因子:!0,重心频率:!0,均方频率:!0,均方根频率:!0,频率方差:!0,频率标准差:!0,谱峭度的均值:!0,谱峭度的峰度:!0},correlation_coefficient_importance:{rule:1,threshold1:.25,threshold2:.1},random_forest_machine_learning:{},private_fault_prediction:""},schedule:["数据源","特征提取","特征选择","故障诊断","故障预测"],mutipleSensor:!1},J={modules:["特征提取","健康评估"],algorithms:{特征提取:"time_frequency_domain_features",健康评估:"private_health_evaluation"},parameters:{time_frequency_domain_features:{均值:!0,方差:!0,标准差:!0,峰度:!0,偏度:!0,四阶累积量:!0,六阶累积量:!0,最大值:!0,最小值:!0,中位数:!0,峰峰值:!0,整流平均值:!0,均方根:!0,方根幅值:!0,波形因子:!0,峰值因子:!0,脉冲因子:!0,裕度因子:!0,重心频率:!0,均方频率:!0,均方根频率:!0,频率方差:!0,频率标准差:!0,谱峭度的均值:!0,谱峭度的峰度:!0},private_health_evaluation:""},schedule:["数据源","特征提取","健康评估"],multipleSensor:!1};const z=v(!1),me=v(!1);let D;const F=()=>{const O=new FormData;switch(O.append("params",JSON.stringify(I)),C.algorithmType){case"插值处理":O.append("validationExample","example_for_interpolation_validation");break;case"小波变换":O.append("validationExample","single_sensor_example");break;case"无量纲化":O.append("validationExample","single_sensor_example");break;case"健康评估":O.append("validationExample","example_for_fault_diagnosis_validation");break;case"故障预测":case"故障诊断":C.faultDiagnosisType==="machineLearning"?O.append("validationExample","example_for_fault_diagnosis_validation"):O.append("validationExample","example_for_fault_diagnosis_validation_multiple");break;default:O.append("validationExample","single_sensor_example")}return Pe.post("user/run_with_datafile_on_cloud/",O,{headers:{"Content-Type":"multipart/form-data"}}).then(Ne=>{Ne.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{d.push("/")}}),Ne.data.code===200?(ct.success("组件校验成功！"),D=Ne.data.results,z.value=!0,x("addExtraModule")):(z.value=!1,ct.error("组件校验失败，"+Ne.data.message)),w.value=!1}).catch(Ne=>{Ne.response?(console.log(Ne.response.status),console.log(Ne.response.statusText)):Ne.request?console.log(Ne.request):console.error("Error",Ne.message),w.value=!1,z.value=!1,ct.error("校验程序运行出错，请检查上传的文件是否符合模板规范")})},W=()=>{Pe.get("/user/delete_extra_algorithm/?algorithmAlias="+n.algorithmName).then(O=>{O.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{d.push("/")}}),O.data.code==200?console.log("组件已删除成功"):console.log("删除组件失败，请稍后重试")}).catch(O=>{console.error(O)})},oe=v(!1),re=v(!1),B=v(!1),R=v(!1),ie=v(!1),j=v(!1),fe=()=>{oe.value=!1,re.value=!1,B.value=!1,R.value=!1,ie.value=!1,j.value=!1},se=()=>{me.value=!1},Se=v([]),Ie=v([]),ye=v([]),he=v([]),De=v([]),Ce=v([]),Y=(O,_e)=>{if(Se.value.length=0,fe(),O=="插值处理"){oe.value=!0;for(const[Ne,Xe]of Object.entries(_e.插值处理))Se.value.push("data:image/png;base64,"+Xe)}else if(O=="无量纲化"){B.value=!0;for(const[Ne,Xe]of Object.entries(_e.无量纲化))ye.value.push("data:image/png;base64,"+Xe)}else if(O=="故障诊断"){R.value=!0;let Ne=_e.故障诊断.fd_validation_result;he.value.push("data:image/png;base64,"+Ne)}else if(O=="健康评估"){ie.value=!0;let Ne=_e.健康评估.he_validation_result;De.value.push("data:image/png;base64,"+Ne)}else if(O=="小波变换"){re.value=!0;for(const[Ne,Xe]of Object.entries(_e.小波变换))Ie.value.push("data:image/png;base64,"+Xe)}else if(O=="故障预测"){j.value=!0;for(const[Ne,Xe]of Object.entries(_e.故障预测))Ce.value.push("data:image/png;base64,"+Xe)}};v("");const K=async()=>{try{await pe(),console.log("上传成功")}catch(_e){console.error("上传失败:",_e);return}let O=n.algorithmName;if(C.algorithmType=="小波变换")P.parameters.extra_wavelet_transform=O,Object.assign(I,P);else if(C.algorithmType=="插值处理")H.parameters.private_interpolation=O,Object.assign(I,H);else if(C.algorithmType=="无量纲化")ee.parameters.private_scaler.algorithm=O,ee.parameters.private_scaler.useLog=C.useLog,Object.assign(I,ee);else if(C.algorithmType=="故障诊断")C.faultDiagnosisType=="machineLearning"&&(ue.parameters.private_fault_diagnosis_machine_learning=O,Object.assign(I,ue)),C.faultDiagnosisType=="deepLearning"&&(ne.parameters.private_fault_diagnosis_deeplearning=O,Object.assign(I,ne));else if(C.algorithmType=="健康评估")J.parameters.private_health_evaluation=O,Object.assign(I,J);else if(C.algorithmType=="故障预测")$.parameters.private_fault_prediction=O,Object.assign(I,$);else return;try{await F(),me.value=!0,z.value===!0?Y(C.algorithmType,D):W()}catch{ct.error("校验过程中发生错误")}},pe=()=>new Promise((O,_e)=>{l.value.validate().then(()=>{let Ne=new FormData;Ne.append("algorithmName",n.algorithmName),Ne.append("statement",n.statement),Ne.append("algorithm_type",C.algorithmType),Ne.append("faultDiagnosisType",C.faultDiagnosisType);for(let Xe=0;Xe<p.value.length;Xe++)Ne.append("algorithmFile",p.value[Xe]);for(let Xe=0;Xe<_.value.length;Xe++)Ne.append("modelParamsFile",_.value[Xe]);return w.value=!0,Pe.post("/user/upload_user_private_algorithm/",Ne).then(Xe=>{Xe.data.code==200?(p.value=[],_.value=[],ct.success("算法文件上传成功"),G.value=!0,O(!0)):(w.value=!1,ct.error("算法文件上传失败, "+Xe.data.message),_e(new Error("上传失败: "+Xe.data.message))),Xe.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:At=>{d.push("/")}})}).catch(Xe=>{w.value=!1,ct.error("上传失败, 请重试"),_e(Xe)})}).catch(Ne=>{console.log("error",Ne),ct.error("请填写完整的组件信息"),_e(new Error("验证失败: 请填写完整的组件信息"))})}),S=O=>{if(C.algorithmType,C.algorithmType,C.algorithmType,C.algorithmType,O.type==="application/x-python-code"||O.name.endsWith(".py"),O.name.endsWith(".pkl"),O.name.endsWith(".pth"),p.value){const _e=p.value.indexOf(O),Ne=p.value.slice();Ne.splice(_e,1),p.value=Ne}else console.log("fileList is undefined")},k=(O,_e,Ne)=>{if(console.log("value: ",O),N(),a.value=!1,O==="故障诊断"||O==="故障预测"||O==="健康评估"||O==="无量纲化"){if(O==="无量纲化"){C.useLog||(xe.value=!1);return}xe.value=!0}else xe.value=!1},N=()=>{p.value&&p.value.forEach(O=>{S(O)})},E=v([{label:"预处理组件",value:"预处理组件",selectable:!1,children:[{label:"插值处理",value:"插值处理"},{label:"小波变换",value:"小波变换"},{label:"无量纲化",value:"无量纲化"}]},{label:"故障检测组件",value:"故障检测组件",selectable:!1,children:[{label:"故障诊断",value:"故障诊断"},{label:"故障预测",value:"故障预测"}]},{label:"健康评估组件",value:"健康评估组件",selectable:!1,children:[{label:"健康评估",value:"健康评估"}]}]);v(1);const X=O=>{var Ne;const _e=O.type==="application/x-python-code"||O.name.endsWith(".py");if(_e)return((Ne=p.value)==null?void 0:Ne.length)==1?_e?(S(O),p.value=[...p.value||[],O],ct.warning("最多只能上传一个.py类型的文件"),!1):(ct.warn("上传该类型算法时，最多只能上传一个.py类型的文件"),!1):(p.value=[...p.value||[],O],!1);ct.warning("请上传包含该算法的python文件")},we=O=>{if(console.log("file: ",O),_.value){const _e=_.value.indexOf(O),Ne=_.value.slice();Ne.splice(_e,1),_.value=Ne}else console.log("fileList is undefined")},xe=v(!1),Me=O=>{var Ht;let _e=C.algorithmType==="故障诊断",Ne=C.algorithmType==="健康评估",Xe=C.algorithmType==="无量纲化",At,wt=O.name.endsWith(".pkl"),en=O.name.endsWith(".pth"),tn;if(_e)if(tn=C.faultDiagnosisType,tn==="machineLearning"){if(!wt)return ct.warning("上传基于机器学习的算法，请上传.pkl的模型文件"),!1;At="pkl"}else{if(!en)return ct.warning("上传基于深度学习的算法，请上传.pth的模型文件"),!1;At="pth"}return Ne&&!wt?(ct.warning("上传健康评估算法，请上传.pkl的模型文件"),!1):Xe&&C.useLog&&!wt?(ct.warning("上传对于所提取特征的无量纲化算法，请上传.pkl的模型文件"),!1):((Ht=_.value)==null?void 0:Ht.length)==1?At==="pkl"?wt?(we(O),_.value=[..._.value||[],O],ct.warning("最多只能上传一个.pkl类型的模型文件"),!1):(ct.warn("上传该类型算法时，最多只能上传一个.pkl类型的文件"),!1):en?(we(O),_.value=[..._.value||[],O],ct.warning("最多只能上传一个.pth类型的模型文件"),!1):(ct.warn("上传该类型算法时，最多只能上传一个.pth类型的文件"),!1):(_.value=[..._.value||[],O],!1)},Ge=v(!1),Ue=()=>{Ge.value=!1};return(O,_e)=>{const Ne=te("a-button"),Xe=te("a-tree-select"),At=te("a-radio"),wt=te("a-radio-group"),en=te("a-upload"),tn=te("a-tooltip"),Gt=te("a-input"),Ht=te("a-form-item"),Qn=te("a-space"),yl=te("a-form"),ht=te("el-image"),wl=te("a-drawer"),Rt=te("a-modal"),ge=te("a-image"),It=te("el-scrollbar");return V(),L(Ye,null,[c(Ne,{class:"private-algorithm-button",ghost:"",onClick:_e[0]||(_e[0]=st=>M())},{default:g(()=>[ag,sg]),_:1}),c(Rt,{open:G.value,"onUpdate:open":_e[7]||(_e[7]=st=>G.value=st),title:"上传增值服务组件",cancelText:"取消","ok-button-props":{style:{display:"none"}},"cancel-button-props":{style:{display:"none"}}},{default:g(()=>[i("div",ig,[i("div",rg,[i("div",ug,[cg,c(Xe,{value:C.algorithmType,"onUpdate:value":_e[1]||(_e[1]=st=>C.algorithmType=st),"show-search":"",style:{width:"40%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"请选择要上传的组件类型","tree-default-expand-all":"","tree-data":E.value,"tree-node-filter-prop":"label",onChange:k},{title:g(({value:st,label:yn})=>[st==="parent 1-1"?(V(),L("b",dg,"sss")):(V(),L(Ye,{key:1},[le(Fe(yn),1)],64))]),_:1},8,["value","tree-data"])]),C.algorithmType==="无量纲化"?(V(),L("div",fg,[gg,c(wt,{value:C.useLog,"onUpdate:value":_e[2]||(_e[2]=st=>C.useLog=st),name:"gradioGroup"},{default:g(()=>[c(At,{value:!1},{default:g(()=>[le("对原始信号无量纲化")]),_:1}),c(At,{value:!0},{default:g(()=>[le("对提取的特征无量纲化")]),_:1})]),_:1},8,["value"])])):ae("",!0),i("div",hg,[i("div",pg,[i("div",null,[mg,c(en,{"file-list":p.value,"before-upload":X,onRemove:S,maxCount:1},{default:g(()=>[c(Ne,{class:"upload-button",disabled:a.value},{default:g(()=>[c(T(Hl)),le(" 从本地选择 ")]),_:1},8,["disabled"])]),_:1},8,["file-list"])]),i("span",null,[c(tn,{title:"算法模板参考"},{default:g(()=>[c(Ne,{type:"default",style:{color:"blue","margin-left":"10px"},onClick:_e[3]||(_e[3]=st=>Ge.value=!0),shape:"circle",icon:qe(T(Fr))},null,8,["icon"])]),_:1})])]),vg,C.algorithmType==="故障诊断"?(V(),L("div",_g,[yg,c(wt,{value:C.faultDiagnosisType,"onUpdate:value":_e[4]||(_e[4]=st=>C.faultDiagnosisType=st),name:"gradioGroup",onChange:we},{default:g(()=>[c(At,{value:"machineLearning"},{default:g(()=>[le("机器学习模型")]),_:1}),c(At,{value:"deepLearning"},{default:g(()=>[le("深度学习模型")]),_:1})]),_:1},8,["value"])])):ae("",!0),xe.value||C.algorithmType==="无量纲化"&&C.useLog?(V(),L("div",wg,[bg,c(en,{"file-list":_.value,"before-upload":Me,onRemove:we,maxCount:1,"auto-upload":!1},{default:g(()=>[c(Ne,{class:"upload-button"},{default:g(()=>[c(T(Hl)),le(" 从本地选择 ")]),_:1})]),_:1},8,["file-list"])])):ae("",!0)]),i("div",Cg,[c(yl,{model:n,name:"basic",ref_key:"algorithmFileFormRef",ref:l,rules:o,"label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off"},{default:g(()=>[c(Ht,{label:"增值组件名称",name:"algorithmName",rules:[{required:!0,message:"请输入增值组件算法名称!"},{min:3,max:50,message:"长度应在3到50个字符之间!",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5a-zA-Z_][\u4e00-\u9fa5a-zA-Z0-9_-]*$/,message:"只能包含中英文、数字、下划线，且不能以数字开头!",trigger:"blur"}]},{default:g(()=>[c(Gt,{value:n.algorithmName,"onUpdate:value":_e[5]||(_e[5]=st=>n.algorithmName=st),placeholder:"请输入增值组件名称"},null,8,["value"]),Ig]),_:1}),c(Ht,{label:"增值组件描述",name:"statement",rules:[{required:!0,message:"请输入增值组件描述"},{min:1,max:200,message:"长度应在1到200个字符之间!",trigger:"blur"}]},{default:g(()=>[c(Gt,{value:n.statement,"onUpdate:value":_e[6]||(_e[6]=st=>n.statement=st),placeholder:"请输入增值算法描述"},null,8,["value"]),xg]),_:1}),Ag,c(Qn,null,{default:g(()=>{var st,yn,bl;return[c(Ne,{type:"primary",disabled:xe.value&&(((st=_.value)==null?void 0:st.length)===0||((yn=p.value)==null?void 0:yn.length)===0)||!xe.value&&((bl=p.value)==null?void 0:bl.length)===0,loading:w.value,onClick:K,class:"upload-button",style:{"margin-left":"10px"}},{default:g(()=>[le(Fe(w.value?"正在进行完整性校验":"上传增值组件"),1)]),_:1},8,["disabled","loading"]),me.value?(V(),L("span",kg,[z.value===!0&&!w.value?(V(),L("span",Sg,[c(T(F2),{style:{color:"green"}}),Ng])):ae("",!0),z.value===!1&&!w.value?(V(),L("span",Vg,[c(T(Y2),{style:{color:"red"}}),Dg])):ae("",!0)])):ae("",!0)]}),_:1})]),_:1},8,["model"])])]),me.value&&z.value?(V(),L("div",Eg,[i("div",Gg,[Mg,i("span",null,[c(Ne,{type:"word",style:{"margin-left":"150px"},onClick:se},{default:g(()=>[le("关闭")]),_:1})])]),oe.value?(V(),L("div",Zg,[c(ht,{src:Se.value[0],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":Se.value,"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])):ae("",!0),B.value?(V(),L("div",zg,[c(ht,{src:ye.value[0],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":ye.value,"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])):ae("",!0),re.value?(V(),L("div",Rg,[c(ht,{src:Ie.value[0],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":Ie.value,"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])):ae("",!0),R.value?(V(),L("div",Wg,[c(ht,{style:{width:"auto",height:"100px"},src:he.value[0],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":he.value,"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])):ae("",!0),ie.value?(V(),L("div",Lg,[c(ht,{style:{width:"auto",height:"100px"},src:De.value[0],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":De.value},null,8,["src","preview-src-list"])])):ae("",!0)])):ae("",!0),c(wl,{visible:Ge.value,onClose:Ue,placement:"right",closable:!0},{default:g(()=>[i("span",null,[Bg,i("div",null,[(V(),L(Ye,null,lt(s,st=>c(Ne,{onClick:yn=>f(st),type:"default"},{default:g(()=>[le(Fe(st),1)]),_:2},1032,["onClick"])),64))])])]),_:1},8,["visible"])])]),_:1},8,["open"]),c(Rt,{open:u.value,"onUpdate:open":_e[8]||(_e[8]=st=>u.value=st),width:700,title:r.value+"参考模版","ok-button-props":{style:{display:"none"}},"cancel-button-props":{style:{display:"none"}},style:{"font-size":"20px","font-family":"'Microsoft YaHei'"}},{default:g(()=>[c(It,{height:600},{default:g(()=>[r.value==="插值处理"?(V(),L("div",Fg,[i("div",null,[Yg,$g,Tg,Xg,Og,Hg,Pg,Kg,c(ge,{width:500,src:"src/assets/interpolation-params.png"}),Ug,Jg,jg,c(ge,{width:500,src:"src/assets/interpolation-output.png"}),Qg,qg,c(ge,{width:500,src:"src/assets/interpolation-outline.png"}),eh])])):ae("",!0),r.value==="故障诊断"?(V(),L("div",th,[i("div",null,[nh,lh,oh,ah,sh,ih,rh,uh,c(ge,{width:500,src:"src/assets/fault-diagnosis-model-params.png"}),ch,dh,fh,c(ge,{width:500,src:"src/assets/fault-diagnosis-load-model.png"}),gh,c(ge,{width:500,src:"src/assets/fault-diagnosis-load-model-2.png"}),hh,ph,mh,vh,_h,yh,wh,bh,c(ge,{width:500,src:"src/assets/fault-diagnosis-prediction.png"}),Ch,Ih,xh,c(ge,{width:500,src:"src/assets/fault-diagnosis-prediction-ml.png"}),Ah,kh,Sh,c(ge,{width:500,src:"src/assets/fault-diagnosis-outline.png"}),Nh,Vh])])):ae("",!0),r.value==="故障预测"?(V(),L("div",Dh,[i("div",null,[Eh,Gh,Mh,Zh,zh,Rh,Wh,Lh,c(ge,{width:500,src:"src/assets/fault-diagnosis-model-params.png"}),Bh,Fh,Yh,c(ge,{width:500,src:"src/assets/fault-diagnosis-load-model.png"}),$h,c(ge,{width:500,src:"src/assets/fault-diagnosis-load-model-2.png"}),Th,Xh,Oh,Hh,Ph,Kh,Uh,c(ge,{width:500,src:"src/assets/fault-diagnosis-prediction.png"}),Jh,jh,c(ge,{width:500,src:"src/assets/fault-prediction-output.png"}),Qh,qh,c(ge,{width:500,src:"src/assets/fault-prediction-outline.png"})])])):ae("",!0),r.value==="无量纲化"?(V(),L("div",ep,[i("div",null,[tp,np,lp,op,ap,sp,ip,rp,up,c(ge,{width:500,src:"src/assets/normalization-params.png"}),cp,dp,c(ge,{width:500,src:"src/assets/normalization-input.png"}),fp,gp,hp,pp,c(ge,{width:550,src:"src/assets/normalization-process-output.png"}),mp,vp,_p,yp,c(ge,{width:500,src:"src/assets/normalization-outline-1.png"}),c(ge,{width:500,src:"src/assets/normalization-outline-2.png"})])])):ae("",!0),r.value==="健康评估"?(V(),L("div",wp,[i("div",null,[bp,Cp,Ip,xp,Ap,c(ge,{width:550,src:"src/assets/health-evaluation-params-1.png"}),kp,Sp,Np,Vp,Dp,Ep,c(ge,{width:500,src:"src/assets/health-evaluation-params-2.png"}),Gp,Mp,c(ge,{width:500,src:"src/assets/health-evaluation-load-model.png"}),Zp,c(ge,{width:500,src:"src/assets/health-evaluation-prediction.png"}),zp,Rp,Wp,c(ge,{width:500,src:"src/assets/health-evaluation-output.png"}),Lp,c(ge,{width:500,src:"src/assets/health-evaluation-outline-1.png"}),c(ge,{width:500,src:"src/assets/health-evaluation-outline-2.png"}),c(ge,{width:500,src:"src/assets/health-evaluation-outline-3.png"})])])):ae("",!0),r.value==="小波变换"?(V(),L("div",Bp,[i("div",null,[Fp,Yp,$p,Tp,Xp,Op,Hp,Pp,c(ge,{width:500,src:"src/assets/wavelet-transform-params.png"}),Kp,Up,c(ge,{width:500,src:"src/assets/wavelet-transform-output.png"}),Jp,c(ge,{width:500,src:"src/assets/wavelet-transform-outline.png"}),jp])])):ae("",!0)]),_:1})]),_:1},8,["open","title"])],64)}}}),qp=Ot(Qp,[["__scopeId","data-v-9a928beb"]]),ud=e=>(Un("data-v-65c4a38d"),e=e(),Jn(),e),e1=ud(()=>i("i",{class:"fa-solid fa-screwdriver-wrench",style:{"margin-right":"3px"}},null,-1)),t1=ud(()=>i("span",{style:{"font-family":"'Microsoft YaHei'"}},"管理组件",-1)),n1={style:{display:"flex","flex-direction":"row","font-family":"'Microsoft YaHei'"}},l1=je({__name:"managePrivateAlgorithm",emits:["deleteExtraModule"],setup(e,{emit:t}){const n=v(""),l=v(!1),o=_l(),a=v([]),s=()=>{l.value=!0,r()},r=()=>{Pe.get("/user/user_fetch_extra_algorithm/").then(p=>{p.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{o.push("/")}}),p.data.code==200&&(a.value=p.data.data)})},u=p=>{Pe.get("/user/user_fetch_extra_algorithm/?keyword="+p).then(_=>{_.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{o.push("/")}}),_.data.code==200&&(a.value=_.data.data)})},f=t,d=(p,_)=>{Pe.get("/user/delete_extra_algorithm/?algorithmAlias="+_.alias).then(w=>{w.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{o.push("/")}}),w.data.code==200?(f("deleteExtraModule",p),p!==-1&&(a.value.splice(p,1),q({message:"删除组件成功",type:"success"}))):w.data.code==404?q({message:"没有权限删除该组件",type:"error"}):q({message:"删除组件失败，请稍后重试",type:"error"})}).catch(w=>{console.error(w),q({message:"删除组件失败,"+w,type:"error"})})};return(p,_)=>{const w=te("a-button"),C=te("el-input"),m=te("el-button"),A=te("el-table-column"),G=te("el-col"),M=te("el-row"),x=te("el-popconfirm"),I=te("el-table"),H=te("a-modal");return V(),L(Ye,null,[c(w,{class:"private-algorithm-button",ghost:"",onClick:s},{default:g(()=>[e1,t1]),_:1}),c(H,{open:l.value,"onUpdate:open":_[2]||(_[2]=P=>l.value=P),"ok-button-props":{style:{display:"none"}},"cancel-button-props":{style:{display:"none"}},title:"管理增值服务组件",width:"800px"},{default:g(()=>[i("div",n1,[c(C,{modelValue:n.value,"onUpdate:modelValue":_[0]||(_[0]=P=>n.value=P),placeholder:"输入组件名称",style:{width:"200px","margin-right":"15px"}},null,8,["modelValue"]),c(m,{type:"primary",icon:T($2),style:{width:"100px"},onClick:_[1]||(_[1]=P=>u(n.value))},{default:g(()=>[le("搜索")]),_:1},8,["icon"])]),c(I,{data:a.value,height:"500",stripe:""},{default:g(()=>[c(A,{property:"algorithmType",label:"组件类型","show-overflow-tooltip":""}),c(A,{property:"alias",label:"组件名称","show-overflow-tooltip":""}),c(A,{width:"200",property:"statement",label:"组件描述","show-overflow-tooltip":""}),c(A,{property:"algorithmName",label:"组件源文件","show-overflow-tooltip":""}),c(A,{width:100,label:"操作"},{default:g(P=>[c(x,{title:"你确定要删除该增值服务组件吗",onConfirm:ee=>d(P.$index,P.row)},{reference:g(()=>[c(m,{size:"small",type:"danger",style:{width:"50px"}},{default:g(()=>[le(" 删除组件 ")]),_:1})]),actions:g(({confirm:ee,cancel:ne})=>[c(M,null,{default:g(()=>[c(G,{span:12},{default:g(()=>[c(m,{size:"small",onClick:ne},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(G,{span:12},{default:g(()=>[c(m,{type:"primary",size:"small",onClick:ee},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1},8,["open"])],64)}}}),o1=Ot(l1,[["__scopeId","data-v-65c4a38d"]]),a1=je({name:"MyCollapse",props:{modelValue:{type:Array,default:()=>[]},accordion:{type:Boolean,default:!1},theme:{type:String,default:"light"},background:{type:String,default:"#ebeef4"}},emits:["update:modelValue","item-click"],setup(e,{emit:t}){const n=Et({activeItems:e.modelValue}),l=o=>{const a=o.name;let s=[...n.activeItems];if(e.accordion)s=s[0]===a?[]:[a];else{const r=s.indexOf(a);r>-1?s.splice(r,1):s.push(a)}n.activeItems=s,t("update:modelValue",s),t("item-click",o)};return Hn("collapseState",{activeItems:Cs(n).activeItems,toggle:l}),{...Cs(n)}}});function s1(e,t,n,l,o,a){return V(),L("div",{class:ot(["my-collapse",e.theme]),style:Le({backgroundColor:e.background})},[at(e.$slots,"default",{},void 0,!0)],6)}const Do=Ot(a1,[["render",s1],["__scopeId","data-v-f6d9f81f"]]),i1=je({name:"MyCollapseItem",props:{data:{type:Object,required:!0,validator:e=>"name"in e},disabled:{type:Boolean,default:!1},arrowColor:{type:String,default:"#000"},itemBackground:{type:String,default:"#ffffff"}},setup(e,{emit:t}){const n=Vn("collapseState"),l=We(()=>n.activeItems.value.includes(e.data.name)),o=We(()=>({color:e.arrowColor}));return{isActive:l,arrowStyle:o,handleClick:()=>{e.disabled||n.toggle(e.data),t("click")}}}}),r1={class:"my-collapse-content"};function u1(e,t,n,l,o,a){return V(),L("div",{class:ot(["my-collapse-item",{disabled:e.disabled}]),style:Le({backgroundColor:e.itemBackground})},[i("div",{class:"my-collapse-header",onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s)),style:Le({cursor:e.disabled?"not-allowed":"pointer"})},[at(e.$slots,"title",{},void 0,!0),i("span",{class:ot(["arrow",{rotated:e.isActive}]),style:Le(e.arrowStyle)},[at(e.$slots,"arrow",{isActive:e.isActive},void 0,!0)],6)],4),c(od,{name:"collapse-transition"},{default:g(()=>[mt(i("div",r1,[at(e.$slots,"default",{},void 0,!0)],512),[[vt,e.isActive]])]),_:3})],6)}const Nt=Ot(i1,[["render",u1],["__scopeId","data-v-4dfd996c"]]),c1={class:"item-text"},d1={__name:"DragModelItem",props:{icon:{type:Object,default:null},text:{type:String,default:""},tooltip_text:{type:String,default:""},bgColor:{type:String,default:"#fefefe"},customStyles:{type:Object,default:()=>({})},contentStyle:{type:Object,default:()=>({})}},emits:["click","dragend"],setup(e,{emit:t}){const n=e,l=t,o=v(!1),a=()=>{console.log("SquareItem handleClick 方法执行了......"),l("click")},s=We(()=>({backgroundColor:n.bgColor,...n.customStyles})),r=We(()=>({...n.contentStyle}));return(u,f)=>{const d=te("el-tooltip");return V(),ke(d,{content:e.tooltip_text,placement:"right","hide-after":100,effect:"light"},{default:g(()=>[i("div",{class:"drag-model-item",style:Le(s.value),onMouseenter:f[0]||(f[0]=p=>o.value=!0),onMouseleave:f[1]||(f[1]=p=>o.value=!1),onClick:a,draggable:!0},[i("div",{class:ot(["content",{hovered:o.value}]),style:Le(r.value)},[at(u.$slots,"icon",{},()=>[e.icon?(V(),ke(Fn(e.icon),{key:0,class:"item-icon"})):ae("",!0)],!0),at(u.$slots,"text",{},()=>[i("span",c1,Fe(e.text),1)],!0)],6)],36)]),_:3},8,["content"])}}},ss=Ot(d1,[["__scopeId","data-v-f2e4b6be"]]),jn=e=>(Un("data-v-7d20ae0b"),e=e(),Jn(),e),f1=jn(()=>i("i",{class:"fa-solid fa-screwdriver-wrench",style:{"margin-right":"3px"}},null,-1)),g1=jn(()=>i("span",{style:{"font-family":"'Microsoft YaHei'"}},"模型管理",-1)),h1=jn(()=>i("div",{style:{padding:"5px",display:"flex","justify-content":"left","align-items":"center"}},[i("p",{style:{"font-size":"26px","font-weight":"bold"}},"模型管理")],-1)),p1=jn(()=>i("div",{style:{height:"1px","background-color":"#d3d3d3",margin:"10px 0"}},null,-1)),m1={style:{display:"flex","flex-direction":"column","align-items":"left"}},v1={class:"button-container"},_1={key:0,style:{"font-size":"20px"}},y1=jn(()=>i("i",{class:"fa-solid fa-file-pdf",style:{color:"#ff0000","margin-right":"5px"}},null,-1)),w1={key:1,style:{"font-size":"20px","margin-bottom":"10px"}},b1=jn(()=>i("span",{style:{color:"#ff0000"}},"未上传测试报告",-1)),C1=[b1],I1={style:{display:"flex","flex-direction":"column"}},x1=jn(()=>i("h2",{style:{"margin-bottom":"25px",color:"#253b45"}},"系统模型库",-1)),A1={style:{"font-size":"15px",color:"#a1a2b1"}},k1=je({__name:"PublishModel",props:{userRole:String},emits:["resetModel","loadModel"],setup(e,{emit:t}){const n=v(!1),l=v([]),o=()=>{n.value=!0,m()},a=v(!1),s=_l(),r=t,u=v(""),f=v([]),d=v([]),p=$=>{let J=JSON.parse($.model_info);console.log("showModelInfo objects: ",J);let z=J.nodeList.nodes;console.log("------",z);let me=J.modelConfig.modules;u.value=$.model_name,f.value=me,d.value.length=0,z.forEach(D=>{let F={模块名:"",算法:""};F.模块名=D.nodeInfo.label,F.算法=Yo[D.nodeInfo.use_algorithm],d.value.push(F)})},_=($,J)=>{Pe.get("/user/delete_model/?row_id="+J.id).then(z=>{z.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{s.push("/")}}),z.data.code==200?(r("resetModel",J.model_name),$!==-1&&(l.value.splice($,1),a.value=!1,q({message:"删除模型成功",type:"success"}))):z.data.code==404?q({message:"没有权限删除该模型",type:"error"}):q({message:"删除模型失败，请稍后重试",type:"error"})}).catch(z=>{console.error(z),q({message:"删除模型失败,"+z,type:"error"})})},w=v("无"),C=$=>{w.value=$.model_name,r("loadModel",$)};$t(()=>{m()});const m=()=>{Pe.get("user/fetch_models/",{params:{modelName:ne.value}}).then($=>{if($.data.code===200){let J=$.data.models;l.value=[];for(let z of J)l.value.push(z)}$.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{s.push("/")}})}).catch($=>{q({message:"获取历史模型失败,"+$,type:"error"})})},A=v(!1),G=($,J)=>{let z=J.id,me=new FormData;me.append("modelId",String(z)),Pe.post("user/publish_model/",me).then(D=>{D.data.code===200?(q({message:D.data.message,type:"success"}),m()):q({message:"发布失败，"+D.data.message})}).catch(()=>{q({message:"模型发布失败，请重试",type:"error"})})},M=v(!1),x=v(null),I=v(null),H=$=>{M.value=!0,I.value=$.id,x.value=$};v(),v([]);const P=$=>{Pe.get(`fetch_model_report/?modelId=${$}`,{responseType:"blob"}).then(J=>{const z=window.URL.createObjectURL(new Blob([J.data])),me=document.createElement("a");me.href=z,me.setAttribute("download",`report_${$}.pdf`),document.body.appendChild(me),me.click()}).catch(J=>{q({message:"下载报告失败，请重试",type:"error"}),console.error(J)})},ee=$=>{Pe.get("export_model/",{params:{modelId:$},responseType:"blob"}).then(J=>{if(J.status===200){const z=window.URL.createObjectURL(new Blob([J.data])),me=document.createElement("a");me.href=z,me.setAttribute("download",`model_${$}_modules.zip`),document.body.appendChild(me),me.click(),window.URL.revokeObjectURL(z),q({message:"导出成功",type:"success"})}else q({message:"导出失败，"+J.data.message,type:"error"})}).catch(J=>{q({message:"导出失败",type:"error"}),console.error("导出模型时出错:",J)})},ne=v(""),ue=()=>{m()};return($,J)=>{const z=te("a-button"),me=te("el-input"),D=te("el-table-column"),F=te("el-button"),W=te("el-col"),oe=te("el-row"),re=te("el-popconfirm"),B=te("el-tag"),R=te("el-descriptions-item"),ie=te("el-descriptions"),j=te("el-popover"),fe=te("el-table"),se=te("el-dialog"),Se=te("el-drawer");return V(),L("div",null,[i("div",null,[c(z,{class:"private-algorithm-button",ghost:"",onClick:o},{default:g(()=>[f1,g1]),_:1})]),c(se,{modelValue:n.value,"onUpdate:modelValue":J[1]||(J[1]=Ie=>n.value=Ie),"close-on-press-escape":!1,"close-on-click-modal":!1,width:1100},{default:g(()=>[h1,p1,i("div",m1,[c(me,{modelValue:ne.value,"onUpdate:modelValue":J[0]||(J[0]=Ie=>ne.value=Ie),style:{width:"240px","margin-bottom":"10px"},placeholder:"输入模型名称",onInput:ue},{prepend:g(()=>[le(" 搜索 ")]),_:1},8,["modelValue"]),c(fe,{data:l.value,height:"500",stripe:"",border:"",style:{width:"100%"},"empty-text":"暂无模型"},{default:g(()=>[c(D,{width:100,property:"author",label:"模型作者"}),c(D,{width:200,property:"model_name",label:"模型名称","show-overflow-tooltip":""}),c(D,{property:"description",label:"模型描述","show-overflow-tooltip":""}),c(D,{property:"isPublish",label:"是否发布","show-overflow-tooltip":""}),c(D,{width:420,label:"操作"},{default:g(Ie=>[i("div",v1,[c(re,{title:"确定要删除该模型吗？",onConfirm:ye=>_(Ie.$index,Ie.row)},{reference:g(()=>[c(F,{size:"small",type:"danger",style:{width:"90px"}},{default:g(()=>[le("删除")]),_:1})]),actions:g(({confirm:ye,cancel:he})=>[c(oe,null,{default:g(()=>[c(W,{span:12},{default:g(()=>[c(F,{size:"small",onClick:he},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(W,{span:12},{default:g(()=>[c(F,{type:"primary",size:"small",onClick:ye},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"]),c(j,{placement:"bottom",width:500,trigger:"focus"},{reference:g(()=>[c(F,{size:"small",type:"info",style:{width:"90px"},onClick:ye=>p(Ie.row)},{default:g(()=>[le(" 查看模型 ")]),_:2},1032,["onClick"])]),default:g(()=>[c(ie,{title:u.value,column:3,direction:"vertical"},{default:g(()=>[c(R,{label:"使用模块",span:3},{default:g(()=>[(V(!0),L(Ye,null,lt(f.value,ye=>(V(),ke(B,{size:"small"},{default:g(()=>[le(Fe(ye),1)]),_:2},1024))),256))]),_:1}),c(R,{label:"算法参数",span:3},{default:g(()=>[(V(!0),L(Ye,null,lt(d.value,ye=>(V(),L("div",null,Fe(ye.模块名)+": "+Fe(ye.算法),1))),256))]),_:1})]),_:1},8,["title"])]),_:2},1024),c(F,{size:"small",type:"warning",style:{width:"90px"},onClick:ye=>H(Ie.row)},{default:g(()=>[le(" 测试报告 ")]),_:2},1032,["onClick"]),c(re,{title:Ie.row.isPublish=="已发布"?"是否取消发布该模型？":"是否发布该模型？",onConfirm:ye=>G(Ie.$index,Ie.row)},{reference:g(()=>[Ie.row.isPublish==="未发布"?(V(),ke(F,{key:0,size:"small",type:Ie.row.isPublish=="未发布"?"success":"warning",style:{width:"90px"}},{default:g(()=>[le(Fe(Ie.row.isPublish=="未发布"?"申请发布":"取消发布"),1)]),_:2},1032,["type"])):ae("",!0)]),actions:g(({confirm:ye,cancel:he})=>[c(oe,null,{default:g(()=>[c(W,{span:12},{default:g(()=>[c(F,{size:"small",onClick:he},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(W,{span:12},{default:g(()=>[c(F,{type:"primary",size:"small",onClick:ye},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","onConfirm"]),c(F,{type:"text",onClick:ye=>ee(Ie.row.id)},{default:g(()=>[le("导出模型")]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])])]),_:1},8,["modelValue"]),c(se,{modelValue:M.value,"onUpdate:modelValue":J[3]||(J[3]=Ie=>M.value=Ie),title:"测试报告",width:"30%"},{default:g(()=>[x.value&&x.value.report_path?(V(),L("div",_1,[le(" 已上传 "),y1,c(F,{size:"large",type:"text",onClick:J[2]||(J[2]=Ie=>P(x.value.id))},{default:g(()=>[le(" 下载测试报告 ")]),_:1})])):(V(),L("div",w1,C1))]),_:1},8,["modelValue"]),c(Se,{modelValue:A.value,"onUpdate:modelValue":J[4]||(J[4]=Ie=>A.value=Ie),direction:"ltr",size:"35%"},{default:g(()=>[i("div",I1,[c(W,null,{default:g(()=>[x1,i("span",A1,"*当前用户权限为"+Fe(e.userRole==="user"?"普通用户，可以使用系统中的模型":"系统用户，可以添加模型和删除本用户添加的模型"),1),c(fe,{data:l.value,height:"500",stripe:"",style:{width:"100%"}},{default:g(()=>[c(D,{width:100,property:"author",label:"模型作者"}),c(D,{property:"model_name",label:"模型名称","show-overflow-tooltip":""}),c(D,{property:"description",label:"模型描述","show-overflow-tooltip":""}),c(D,{label:"操作"},{default:g(Ie=>[c(F,{size:"small",type:"primary",style:{width:"50px"},onClick:ye=>C(Ie.row)},{default:g(()=>[le(" 使用 ")]),_:2},1032,["onClick"]),c(j,{placement:"bottom",width:500,trigger:"click"},{reference:g(()=>[c(F,{size:"small",type:"info",style:{width:"80px"},onClick:ye=>p(Ie.row)},{default:g(()=>[le(" 查看模型 ")]),_:2},1032,["onClick"])]),default:g(()=>[c(ie,{title:u.value,column:3,direction:"vertical"},{default:g(()=>[c(R,{label:"使用模块",span:3},{default:g(()=>[(V(!0),L(Ye,null,lt(f.value,ye=>(V(),ke(B,{size:"small"},{default:g(()=>[le(Fe(ye),1)]),_:2},1024))),256))]),_:1}),c(R,{label:"算法参数",span:3},{default:g(()=>[(V(!0),L(Ye,null,lt(d.value,ye=>(V(),L("div",null,Fe(ye.模块名)+": "+Fe(ye.算法),1))),256))]),_:1})]),_:1},8,["title"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1})])]),_:1},8,["modelValue"])])}}}),S1=Ot(k1,[["__scopeId","data-v-7d20ae0b"]]),N1={style:{display:"flex","flex-direction":"column"}},V1=i("h2",{style:{"margin-bottom":"25px",color:"#253b45","text-align":"left","font-size":"25px"}}," 数据管理 ",-1),D1={style:{display:"flex","flex-direction":"row"}},E1=i("span",null,"数据集整理",-1),G1={style:{display:"flex","flex-direction":"column",width:"100%"}},M1={key:0},Z1=i("div",{style:{padding:"5px",display:"flex","justify-content":"left","align-items":"center"}},[i("p",{style:{"font-size":"22px","font-weight":"bold"}},"数据库")],-1),z1=i("div",{style:{height:"1px","background-color":"#d3d3d3",margin:"10px 0"}},null,-1),R1={style:{display:"flex","flex-direction":"row",width:"250px","margin-bottom":"20px"}},W1={key:1,style:{"background-color":"white",display:"flex","flex-direction":"column","align-items":"flex-start"}},L1=i("div",{style:{padding:"5px",display:"flex","justify-content":"center","align-items":"center"}},[i("p",{style:{"font-size":"22px","font-weight":"bold"}},"上传数据")],-1),B1=i("div",{style:{height:"1px","background-color":"#d3d3d3",margin:"10px 0"}},null,-1),F1={style:{position:"relative",padding:"20px"}},Y1=i("div",{style:{color:"#999","font-size":"12px"}}," (只能包含中英文、数字、下划线) ",-1),$1=i("div",{style:{color:"#999","font-size":"12px"}},"(长度不超过200字符)",-1),T1=i("div",{style:{color:"#999","font-size":"12px"}},"(长度不超过500字符)",-1),X1={style:{}},O1={style:{display:"flex","flex-direction":"row"}},H1={key:0,style:{display:"flex","flex-direction":"row"}},P1={key:2},K1=i("div",{style:{padding:"5px",display:"flex","justify-content":"left","align-items":"center"}},[i("p",{style:{"font-size":"22px","font-weight":"bold"}},"数据筛选")],-1),U1=i("div",{style:{height:"1px","background-color":"#d3d3d3",margin:"10px 0"}},null,-1),J1={style:{display:"flex","flex-direction":"row",width:"50%","margin-bottom":"20px"}},j1={key:0,style:{display:"flex","flex-direction":"column",position:"relative",padding:"10px",height:"30%"}},Q1={style:{"font-size":"20px","font-weight":"bold","text-align":"left"}},q1={id:"allAttributes",style:{padding:"30px",display:"flex","flex-direction":"row","align-items":"flex-start"}},em=i("div",{style:{"font-size":"16px","min-width":"50%"}}," 选择新数据集包含的属性（至少选择一项）： ",-1),tm={id:"saveAsNewFile",style:{padding:"30px",display:"flex","flex-direction":"row","align-items":"flex-start"}},nm={tyle:"display: flex; flex-direction: row"},lm=i("span",{style:{"font-size":"16px","text-align":"left","margin-right":"20px"}},"保存为新的数据集：",-1),om=i("div",{style:{color:"#999","font-size":"12px"}}," (只能包含中英文、数字、下划线) ",-1),am=i("div",{style:{color:"#999","font-size":"12px"}}," (长度不超过200字符) ",-1),sm={key:3,style:{"min-height":"300px"}},im=i("div",{style:{padding:"5px",display:"flex","justify-content":"left","align-items":"center"}},[i("p",{style:{"font-size":"22px","font-weight":"bold"}},"数据集整合")],-1),rm=i("div",{style:{height:"1px","background-color":"#d3d3d3",margin:"10px 0"}},null,-1),um={style:{display:"flex","flex-direction":"row","justify-content":"left","align-items":"center",width:"100%","margin-bottom":"20px"}},cm={style:{display:"flex","flex-direction":"row","justify-content":"flex-start","align-items":"center",width:"62%"}},dm=i("div",{style:{display:"flex","align-items":"center","font-size":"17px","margin-right":"10px",width:"50%"}}," 选择文件进行整合 ",-1),fm={style:{display:"flex","flex-direction":"column","justify-content":"left","margin-top":"30px",width:"100%"}},gm={style:{display:"flex","flex-direction":"row","align-items":"center",width:"100%"}},hm=i("span",{style:{"font-size":"17px","margin-right":"20px",width:"15%"}},"待整合的数据集",-1),pm={style:{"flex-wrap":"wrap",display:"flex","flex-direction":"row","max-width":"80%",border:"1px solid #ddd","border-radius":"8px",padding:"15px",width:"70%","min-height":"50px"}},mm={key:0,style:{color:"#999"}},vm={style:{"margin-left":"5px","min-width":"90px"}},_m={style:{display:"flex","flex-direction":"column","margin-top":"20px"}},ym={id:"saveAsNewFile",style:{display:"flex","flex-direction":"row","align-items":"flex-start"}},wm={tyle:"display: flex; flex-direction: row"},bm=i("span",{style:{"font-size":"16px","text-align":"left","margin-right":"20px"}},"整合保存为新的数据集：",-1),Cm=i("div",{style:{color:"#999","font-size":"12px"}}," (只能包含中英文、数字、下划线) ",-1),Im=i("div",{style:{color:"#999","font-size":"12px"}}," (长度不超过200字符) ",-1),xm=je({__name:"datasetManagement",props:{userRole:{type:String,default:"superuser"}},setup(e){const t=e,n=We(()=>t.userRole),l=v(""),o=v([]),a=_l(),s=v(!1),r=v(!1),u=v("1"),f=v("1"),d=v({filename:"",description:"",multipleSensors:"single",isPublic:"private",dataPickTime:[null,null],dataPickObject:"",signalType:0,sensor:"",sampleRate:0}),p={fileName:[{required:!0,message:"请输入文件名!",trigger:"change"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,message:"请输入中英文/数字/下划线",trigger:"blur"}],description:[{required:!0,message:"请输入数据集描述!",trigger:"change"},{min:1,max:200,message:"长度应在1到200个字符之间!",trigger:"blur"}]},_=v(!1),w=v([]),C=v([]),m=v(""),A=v(!1),G=async()=>{await J()&&(A.value=!A.value)},M=v([]),x=Y=>{M.value.splice(Y,1)},I=(Y,K)=>{for(let pe=0;pe<M.value.length;pe++)if(M.value[pe].name==Y.dataset_name){q({message:"已添加该数据集，请勿重复添加",type:"warning"});return}if(Y.file_type!="csv"){q({message:"目前仅支持csv文件的整合！",type:"warning"});return}M.value.push({name:Y.dataset_name,id:Y.id})},H=v(),P=()=>{H.value.validate().then(()=>{let Y=new FormData;if(Y.append("datasetName",j.fileName),Y.append("description",j.description),M.value&&M.value.length>0){const K=M.value.map(pe=>pe.id);Y.append("datasetIds",JSON.stringify(K))}else q({message:"请选择要整合的数据集！",type:"warning"}),console.warn("fileToUnify is empty or not defined");Pe.post("/user/save_union_datafile/",Y).then(K=>{K.data.code===200?(q({message:"保存成功",type:"success"}),J()):q({message:"保存失败，"+K.data.message,type:"error"})}).catch(()=>{q({message:"保存失败，请重试",type:"error"})})})},ee=v(!1),ne=v(!1),ue=v([]),$=v([]),J=async()=>{let Y="user/fetch_datafiles/";try{const K=await Pe.get(Y);if(K.status===200){let pe=K.data;return o.value=pe.map(S=>S),!0}else return q({message:"获取数据失败，"+K.data.message,type:"error"}),!1}catch{return q({message:"获取数据失败，请重试",type:"error"}),!1}},z=async()=>{await J()&&(r.value=!0)},me=(Y,K)=>{J(),_.value=!1,f.value=Y,Y==="1"||(Y==="2"?De():Y==="3-1"?(Ce(),_.value=!1,m.value="",ye.value=!1,C.value=[],w.value=[]):Y==="3-2"&&(Ce(),A.value=!1,M.value=[]))},D=Y=>{ue.value||(ue.value=[]);const K=ue.value.indexOf(Y),pe=ue.value.slice();pe.splice(K,1),ue.value=pe},F=Y=>{$.value||($.value=[]);const K=$.value.indexOf(Y),pe=$.value.slice();pe.splice(K,1),$.value=pe},W=Y=>{const K=[".npy",".mat",".csv"],pe=Y.name.split(".").pop().toLowerCase();return K.includes("."+pe)?(ue.value||(ue.value=[]),ue.value.length=0,ue.value=[...ue.value||[],Y],!1):(ct.error("文件格式错误，请上传mat或npy文件"),!1)},oe=Y=>{const K=[".npy",".mat",".csv"],pe=Y.name.split(".").pop().toLowerCase();return K.includes("."+pe)?($.value||($.value=[]),$.value.length=0,$.value=[...$.value||[],Y],!1):(ct.error("文件格式错误，请上传mat或npy文件"),!1)},re=v(!1),B=v(!1),R=()=>{var K,pe;re.value=!0;const Y=new FormData;Y.append("file",ue.value[0]),Y.append("labels",$.value[0]),Y.append("filename",d.value.filename),Y.append("description",d.value.description),Y.append("multipleSensors",d.value.multipleSensors),Y.append("isPublic",d.value.isPublic),Y.append("dataPickObject",d.value.dataPickObject),Y.append("signalType",d.value.signalType.toString()),Y.append("sensor",d.value.sensor),Y.append("sampleRate",d.value.sampleRate.toString()),Y.append("dataPickTimeStart",((K=d.value.dataPickTime[0])==null?void 0:K.format("YYYY-MM-DDTHH:mm:ss"))||""),Y.append("dataPickTimeEnd",((pe=d.value.dataPickTime[1])==null?void 0:pe.format("YYYY-MM-DDTHH:mm:ss"))||""),ne.value=!0,Pe.post("/user/upload_datafile/",Y).then(S=>{S.data.message=="save data success"?(ue.value=[],$.value=[],ne.value=!1,q({message:"数据文件上传成功",type:"success"}),re.value=!1,B.value=!1):(ne.value=!1,q({message:"文件上传失败, "+S.data.message,type:"error"}),re.value=!1),S.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{a.push("/")}})}).catch(S=>{ne.value=!1,re.value=!1,q({message:"上传失败, "+S,type:"error"})})},ie=v(),j=Et({fileName:"",description:"",selectedFileId:""}),fe=()=>{ie.value.validate().then(()=>{let Y=new FormData;Y.append("selectedColumns",JSON.stringify(C.value)),Y.append("datasetName",j.fileName),Y.append("datasetId",j.selectedFileId),Y.append("description",j.description),ne.value=!0,Pe.post("user/save_selected_file/",Y).then(K=>{K.data.code===200?(q({message:"保存新数据集成功",type:"success"}),J()):K.data.code===400&&q({message:"保存失败"+K.data.message,type:"error"}),ne.value=!1})}).catch(Y=>{ne.value=!1,console.log("error",Y)})},se=()=>{Pe.get("user/search_dataset/?keywords="+l.value).then(Y=>{if(Y.data.code==401)gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{a.push("/")}});else if(Y.data.code==200){o.value.length=0;for(let K of Y.data.data)o.value.push(K)}}).catch(()=>{q({message:"搜索失败，请重试",type:"error"})})},Se=(Y,K)=>{Pe.get("/user/delete_datafile/?filename="+K.dataset_name).then(pe=>{pe.data.code==200?(o.value.splice(Y,1),s.value=!1,q({message:"文件删除成功",type:"success"})):pe.data.code==400?q({message:"删除失败: "+pe.data.message,type:"error"}):pe.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{a.push("/")}})}).catch(()=>{q({message:"删除文件失败",type:"error"})})},Ie=(Y,K)=>{console.log("row: ",Y);let pe=Y.id;Pe.get("user/get_dataset_columns/?datasetId="+pe).then(S=>{S.data.code==200?(console.log("response.resuly: ",S.data.columnNames),w.value=S.data.columnNames,C.value=[w.value[0]],_.value=!0,m.value=Y.dataset_name,j.selectedFileId=pe):S.data.code==400&&q({message:S.data.message,type:"error"})}).catch(()=>{q({message:"请求错误",type:"error"})})},ye=v(!1),he=()=>{ye.value?C.value=[...w.value]:w.value.length>0?C.value=[w.value[0]]:C.value=[]};Ke(C,Y=>{Y.length===w.value.length?ye.value=!0:ye.value=!1,Y.length===0&&w.value.length>0&&(C.value=[w.value[0]])});const De=()=>{d.value={filename:"",description:"",multipleSensors:"multiple",isPublic:"public"},ue.value=[],ne.value=!1},Ce=()=>{j.selectedFileId="",j.fileName="",j.description=""};return v(),(Y,K)=>{const pe=te("el-menu-item"),S=te("el-sub-menu"),k=te("el-menu"),N=te("el-input"),E=te("el-button"),X=te("el-table-column"),we=te("el-col"),xe=te("el-row"),Me=te("el-popconfirm"),Ge=te("el-table"),Ue=te("a-input"),O=te("a-form-item"),_e=te("a-radio"),Ne=te("a-radio-group"),Xe=te("a-input-number"),At=te("a-range-picker"),wt=te("a-button"),en=te("a-upload"),tn=te("a-form"),Gt=te("a-space"),Ht=te("el-checkbox"),Qn=te("el-checkbox-group"),yl=te("DocumentAdd"),ht=te("el-icon"),wl=te("CircleClose"),Rt=te("el-dialog");return V(),L(Ye,null,[i("div",{id:"datasetManagementPanel",style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",padding:"10px",width:"100%"}},[i("span",{style:{"font-size":"20px",width:"100%","text-align":"left"},onClick:z},"数据管理")]),c(Rt,{modelValue:r.value,"onUpdate:modelValue":K[19]||(K[19]=ge=>r.value=ge),width:"1200px",center:"",top:"5vh"},{default:g(()=>[i("div",N1,[V1,i("div",D1,[c(k,{"default-active":u.value,style:{width:"150px"},onSelect:me},{default:g(()=>[c(pe,{index:"1"},{default:g(()=>[le("数据库")]),_:1}),c(pe,{index:"2"},{default:g(()=>[le("上传数据集")]),_:1}),c(S,{index:"3"},{title:g(()=>[E1]),default:g(()=>[c(pe,{index:"3-1"},{default:g(()=>[le("数据筛选")]),_:1}),c(pe,{index:"3-2"},{default:g(()=>[le("数据整合")]),_:1})]),_:1})]),_:1},8,["default-active"]),i("div",G1,[f.value==="1"?(V(),L("div",M1,[Z1,z1,i("div",R1,[c(N,{modelValue:l.value,"onUpdate:modelValue":K[0]||(K[0]=ge=>l.value=ge),placeholder:"输入文件名",style:{width:"180px"}},null,8,["modelValue"]),c(E,{type:"primary",style:{width:"20%","margin-left":"10px"},onClick:se},{default:g(()=>[le("搜索")]),_:1})]),c(Ge,{data:o.value,height:"500",stripe:"",width:"100%",border:"","empty-text":"暂无数据"},{default:g(()=>[c(X,{property:"owner",label:"文件上传者","show-overflow-tooltip":""}),c(X,{property:"dataset_name",label:"数据集名称","show-overflow-tooltip":""}),c(X,{property:"data_pick_object",label:"数据采集对象","show-overflow-tooltip":""}),c(X,{property:"signal_type",label:"数据类型","show-overflow-tooltip":""}),c(X,{property:"description",label:"数据集描述","show-overflow-tooltip":""}),c(X,{property:"file_type",label:"文件类型","show-overflow-tooltip":""}),c(X,{label:"操作",width:"100"},{default:g(ge=>[c(Me,{title:"你确定要删除该数据文件吗",onConfirm:It=>Se(ge.$index,ge.row)},{reference:g(()=>[c(E,{size:"small",type:"danger",style:{width:"50px"}},{default:g(()=>[le(" 删除 ")]),_:1})]),actions:g(({confirm:It,cancel:st})=>[c(xe,null,{default:g(()=>[c(we,{span:12},{default:g(()=>[c(E,{size:"small",onClick:st},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(we,{span:12},{default:g(()=>[c(E,{type:"primary",size:"small",onClick:It},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])])):ae("",!0),f.value==="2"?(V(),L("div",W1,[L1,B1,i("div",F1,[c(Gt,{direction:"vertical"},{default:g(()=>[c(tn,{model:d.value,ref:"fileUploadFormRef",onFinish:R},{default:g(()=>[c(O,{label:"数据集名称",name:"filename",rules:[{required:!0,message:"请输入文件名!"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,message:"请输入中英文/数字/下划线",trigger:"blur"}]},{default:g(()=>[c(Ue,{value:d.value.filename,"onUpdate:value":K[1]||(K[1]=ge=>d.value.filename=ge),placeholder:"请输入文件名"},null,8,["value"]),Y1]),_:1}),c(O,{label:"数据集描述",name:"description",rules:[{required:!0,message:"请输入数据集描述!"},{min:1,max:500,message:"长度应在1到500个字符之间!",trigger:"blur"}]},{default:g(()=>[c(Ue,{value:d.value.description,"onUpdate:value":K[2]||(K[2]=ge=>d.value.description=ge),autofocus:"",placeholder:"请输入数据集描述"},null,8,["value"]),$1]),_:1}),c(O,{label:"数据采集对象",name:"dataPickObject",rules:[{required:!0,message:"请输入数据采集对象!"},{min:1,max:500,message:"长度应在1到500个字符之间!",trigger:"blur"}]},{default:g(()=>[c(Ue,{value:d.value.dataPickObject,"onUpdate:value":K[3]||(K[3]=ge=>d.value.dataPickObject=ge),autofocus:"",placeholder:"请输入数据采集对象"},null,8,["value"]),T1]),_:1}),c(O,{label:"信号类型",name:"signalType",rules:[{required:!0,message:"请选择信号类型!"}]},{default:g(()=>[c(Ne,{value:d.value.signalType,"onUpdate:value":K[4]||(K[4]=ge=>d.value.signalType=ge)},{default:g(()=>[c(_e,{value:0},{default:g(()=>[le("振动信号")]),_:1}),c(_e,{value:1},{default:g(()=>[le("声信号")]),_:1}),c(_e,{value:2},{default:g(()=>[le("电信号")]),_:1})]),_:1},8,["value"])]),_:1}),c(O,{label:"传感器",name:"sensor",rules:[{required:!0,message:"请填写传感器!"},{min:1,max:200,message:"长度应在1到200个字符之间!",trigger:"blur"}]},{default:g(()=>[c(Ue,{value:d.value.sensor,"onUpdate:value":K[5]||(K[5]=ge=>d.value.sensor=ge),placeholder:"请填写传感器"},null,8,["value"])]),_:1}),c(O,{label:"数据采样频率",name:"sampleRate",rules:[{required:!0,message:"请填写数据采样频率!"}]},{default:g(()=>[c(Xe,{value:d.value.sampleRate,"onUpdate:value":K[6]||(K[6]=ge=>d.value.sampleRate=ge),placeholder:"请填写数据采样频率","addon-after":"Hz"},null,8,["value"])]),_:1}),c(O,{label:"数据采集时间",name:"dataPickTime",rules:[{required:!0,message:"请选择数据采集时间!"}]},{default:g(()=>[c(At,{value:d.value.dataPickTime,"onUpdate:value":K[7]||(K[7]=ge=>d.value.dataPickTime=ge),"show-time":""},null,8,["value"])]),_:1}),c(O,{label:"选择数据类型"},{default:g(()=>[c(Ne,{value:d.value.multipleSensors,"onUpdate:value":K[8]||(K[8]=ge=>d.value.multipleSensors=ge)},{default:g(()=>[c(_e,{value:"multiple"},{default:g(()=>[le("多传感器数据")]),_:1}),c(_e,{value:"single"},{default:g(()=>[le("单传感器数据")]),_:1})]),_:1},8,["value"])]),_:1}),c(O,null,{default:g(()=>[i("div",X1,[i("div",O1,[c(en,{"file-list":ue.value,"max-count":1,onRemove:D,"before-upload":W},{default:g(()=>[c(wt,{style:{width:"220px","font-size":"16px","background-color":"#2082f9",color:"white","margin-bottom":"16px"},icon:qe(T(nc))},{default:g(()=>[le(" 选择数据集文件 ")]),_:1},8,["icon"])]),_:1},8,["file-list"]),n.value=="superuser"?(V(),ke(wt,{key:0,type:"text",onClick:K[9]||(K[9]=ge=>ee.value=!0)},{default:g(()=>[c(T(Br)),le("添加数据集标签")]),_:1})):ae("",!0)]),n.value==="superuser"&&ee.value?(V(),L("div",H1,[n.value==="superuser"?(V(),ke(en,{key:0,"file-list":$.value,"max-count":1,onRemove:F,"before-upload":oe},{default:g(()=>[c(wt,{style:{width:"220px","font-size":"16px"},icon:qe(T(nc))},{default:g(()=>[le(" 选择标签文件 ")]),_:1},8,["icon"])]),_:1},8,["file-list"])):ae("",!0),c(wt,{type:"text",onClick:K[10]||(K[10]=ge=>ee.value=!1)},{default:g(()=>[c(T(Lr))]),_:1})])):ae("",!0)])]),_:1}),c(O,null,{default:g(()=>{var ge;return[c(wt,{type:"primary","html-type":"submit",disabled:((ge=ue.value)==null?void 0:ge.length)===0,loading:ne.value,style:{width:"220px","font-size":"16px"}},{default:g(()=>[c(T(Hl)),le(" "+Fe(ne.value?"正在上传":"上传至服务器"),1)]),_:1},8,["disabled","loading"])]}),_:1})]),_:1},8,["model"])]),_:1})])])):ae("",!0),f.value==="3-1"?(V(),L("div",P1,[K1,U1,i("div",J1,[c(N,{modelValue:l.value,"onUpdate:modelValue":K[11]||(K[11]=ge=>l.value=ge),placeholder:"输入文件名",style:{width:"45%"}},null,8,["modelValue"]),c(E,{type:"primary",style:{width:"20%","margin-left":"10px"},onClick:se},{default:g(()=>[le("搜索")]),_:1})]),c(Ge,{data:o.value,height:"300",stripe:"",width:"100%",border:""},{default:g(()=>[c(X,{property:"owner",label:"文件上传者","show-overflow-tooltip":""}),c(X,{property:"dataset_name",label:"数据集名称","show-overflow-tooltip":""}),c(X,{property:"data_pick_object",label:"数据采集对象","show-overflow-tooltip":""}),c(X,{property:"signal_type",label:"数据类型","show-overflow-tooltip":""}),c(X,{property:"description",label:"数据集描述","show-overflow-tooltip":""}),c(X,{property:"file_type",label:"文件类型","show-overflow-tooltip":""}),c(X,{label:"操作"},{default:g(ge=>[c(E,{style:{width:"80px"},onClick:It=>Ie(ge.row,ge.$index)},{default:g(()=>[le("筛选字段")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),_.value?(V(),L("div",j1,[i("p",Q1," 原数据集："+Fe(m.value),1),i("div",q1,[em,c(Ht,{modelValue:ye.value,"onUpdate:modelValue":K[12]||(K[12]=ge=>ye.value=ge),onChange:he,style:{"margin-right":"50px"}},{default:g(()=>[le("全选")]),_:1},8,["modelValue"]),c(Qn,{modelValue:C.value,"onUpdate:modelValue":K[13]||(K[13]=ge=>C.value=ge),min:1},{default:g(()=>[(V(!0),L(Ye,null,lt(w.value,ge=>(V(),ke(Ht,{key:ge,label:ge,value:ge},{default:g(()=>[le(Fe(ge),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),i("div",tm,[i("div",nm,[lm,c(Gt,{direction:"vertical"},{default:g(()=>[c(tn,{ref_key:"selectAttributeFormState",ref:ie,model:j,rules:p},{default:g(()=>[c(O,{label:"数据集名称",name:"fileName"},{default:g(()=>[c(Ue,{value:j.fileName,"onUpdate:value":K[14]||(K[14]=ge=>j.fileName=ge),placeholder:"请输入文件名"},null,8,["value"]),om]),_:1}),c(O,{label:"数据集描述",name:"description"},{default:g(()=>[c(Ue,{value:j.description,"onUpdate:value":K[15]||(K[15]=ge=>j.description=ge),placeholder:"请输入数据集描述"},null,8,["value"]),am]),_:1}),c(O,null,{default:g(()=>[c(wt,{type:"primary",loading:ne.value,style:{width:"180px"},onClick:fe},{default:g(()=>[c(T(lc)),le(" "+Fe(ne.value?"正在保存":"保存数据集"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])])):ae("",!0)])):ae("",!0),f.value==="3-2"?(V(),L("div",sm,[im,rm,i("div",um,[i("div",cm,[dm,c(N,{modelValue:l.value,"onUpdate:modelValue":K[16]||(K[16]=ge=>l.value=ge),placeholder:"输入文件名",style:{width:"50%"}},null,8,["modelValue"]),c(E,{type:"primary",style:{width:"20%","margin-left":"10px"},onClick:se},{default:g(()=>[le("搜索")]),_:1}),c(E,{type:A.value?"danger":"primary",style:{width:"100px"},onClick:G},{default:g(()=>[le(Fe(A.value?"关闭浏览":"浏览数据库"),1)]),_:1},8,["type"])])]),A.value?(V(),ke(Ge,{key:0,data:o.value,height:"300",stripe:"",border:"","empty-text":"暂无数据",width:"100%"},{default:g(()=>[c(X,{property:"owner",label:"文件上传者","show-overflow-tooltip":""}),c(X,{property:"dataset_name",label:"数据集名称","show-overflow-tooltip":""}),c(X,{property:"description",label:"数据集描述","show-overflow-tooltip":""}),c(X,{property:"file_type",label:"文件类型","show-overflow-tooltip":""}),c(X,{label:"操作"},{default:g(ge=>[c(E,{style:{width:"80px"},onClick:It=>I(ge.row,ge.$index)},{default:g(()=>[le("添加")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])):ae("",!0),i("div",fm,[i("div",gm,[hm,i("div",pm,[M.value.length===0?(V(),L("span",mm,"从数据库中选择并添加文件")):ae("",!0),(V(!0),L(Ye,null,lt(M.value,(ge,It)=>(V(),L("div",{key:It,style:{display:"flex",width:"150px","align-items":"center","margin-right":"10px","margin-bottom":"10px",padding:"5px 10px",border:"1px solid #ccc","border-radius":"4px"}},[c(ht,{style:{"font-size":"22px"}},{default:g(()=>[c(yl)]),_:1}),i("span",vm,Fe(ge.name),1),c(E,{type:"text",onClick:st=>x(It),style:{"margin-left":"15px","font-size":"20px"}},{default:g(()=>[c(ht,null,{default:g(()=>[c(wl)]),_:1})]),_:2},1032,["onClick"])]))),128))])]),i("div",_m,[i("div",ym,[i("div",wm,[bm,c(Gt,{direction:"vertical"},{default:g(()=>[c(tn,{ref_key:"uinonDatasetFormRef",ref:H,model:j,rules:p},{default:g(()=>[c(O,{label:"数据集名称",name:"fileName"},{default:g(()=>[c(Ue,{value:j.fileName,"onUpdate:value":K[17]||(K[17]=ge=>j.fileName=ge),placeholder:"请输入文件名"},null,8,["value"]),Cm]),_:1}),c(O,{label:"数据集描述",name:"description"},{default:g(()=>[c(Ue,{value:j.description,"onUpdate:value":K[18]||(K[18]=ge=>j.description=ge),placeholder:"请输入数据集描述"},null,8,["value"]),Im]),_:1}),c(O,null,{default:g(()=>[c(wt,{type:"primary","html-type":"submit",loading:ne.value,style:{width:"180px"},onClick:P},{default:g(()=>[c(T(lc)),le(" "+Fe(ne.value?"正在保存":"保存数据集"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])])])])):ae("",!0)])])])]),_:1},8,["modelValue"])],64)}}}),Am={components:{Codemirror:T2},setup(){const e=v(""),t=v(""),n=Et({mode:"python",theme:"idea",lineNumbers:!0,lineWrapping:!0,tabSize:4,hintOptions:{completeSingle:!1},readOnly:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}),l=[{label:"随机森林-故障诊断",value:"faultDiagnosis-RandomForest"},{label:"支持向量机-故障诊断",value:"faultDiagnosis-SVM"},{label:"LSTM-故障诊断",value:"faultDiagnosis-LSTM"},{label:"GRU-故障诊断",value:"faultDiagnosis-GRU"},{label:"ulcnn-故障诊断",value:"faultDiagnosis-ULCNN"},{label:"simmodel-故障诊断",value:"faultDiagnosis-SIMmodel"},{label:"fdmssw-故障诊断",value:"faultDiagnosis-fdmssw"}],o={"faultDiagnosis-RandomForest":"src/assets/exampleCode/randomForestTrain.py","faultDiagnosis-SVM":"src/assets/exampleCode/svcTrain.py","faultDiagnosis-LSTM":"src/assets/exampleCode/train_lstm.py","faultDiagnosis-GRU":"src/assets/exampleCode/train_gru.py","faultDiagnosis-ULCNN":"src/assets/exampleCode/train_ulcnn.py","faultDiagnosis-SIMmodel":"src/assets/exampleCode/train_simmodel.py","faultDiagnosis-fdmssw":"src/assets/exampleCode/train_fdmssw.py"},a=Et([]),s=v(!1),r=async()=>{s.value=!0;try{const m=await Pe.get("/user/get_private_algorithm_files");m.data.code===401?u():(a.splice(0,a.length,...m.data.result.map(A=>({label:A.alias,value:A.alias,source_code:A.source_code}))),console.log("fetchUserAlgorithms userAlgorithms: ",a))}catch(m){console.error("请求失败:",m),q.error("加载用户组件失败")}finally{s.value=!1}};We(()=>a.map(m=>({label:m.label,value:m.value,source_code:m.source_code})));const u=()=>{gt.alert("登录状态已失效，请重新登录","提示",{confirmButtonText:"确定",callback:()=>router.push("/")})},f=()=>{let m=l.find(A=>A.value===t.value)||a.value.find(A=>A.value===t.value);o[t.value]?fetch(o[t.value]).then(A=>A.text()).then(A=>{e.value=A}).catch(A=>{console.error("无法打开文件:",A)}):m?(e.value=m.source_code||"",console.log("Selected module found:",m)):console.log("Selected module not found:",t.value)},d=async()=>{const m=e.value;if(!m){q.error("没有代码可以导出");return}if(window.showSaveFilePicker)try{const A={suggestedName:`${t.value||"modified_code"}.py`,types:[{description:"Python Files",accept:{"text/plain":[".py"]}}]},M=await(await window.showSaveFilePicker(A)).createWritable();await M.write(m),await M.close(),q.success("代码已成功导出")}catch(A){console.error("导出代码失败:",A),q.error("导出代码失败，请重试")}else{const A=new Blob([m],{type:"text/plain"}),G=window.URL.createObjectURL(A),M=document.createElement("a");M.href=G,M.download=`${t.value||"modified_code"}.py`,M.click(),window.URL.revokeObjectURL(G),q.success("代码已成功导出")}},p=m=>{},_=m=>{},w=m=>{m.on("inputRead",()=>{m.showHint()})},C=v(!1);return Ke(C,m=>{console.log("isEditable changed:",m),m?q.success("代码编辑已启用"):q.info("代码编辑已禁用"),n.readOnly=!m},{immediate:!0}),$t(()=>{console.log("onMounted"),r()}),{code:e,selectedModule:t,cmOptions:n,moduleCanEditCodeForTraining:l,userAlgorithms:a,loadModuleCode:f,fetchUserAlgorithms:r,exportCode:d,onChange:p,onInput:_,onReady:w,isEditable:C}}},Yr=e=>(Un("data-v-4c7f953a"),e=e(),Jn(),e),km={class:"panel-container"},Sm={class:"controls"},Nm=Yr(()=>i("span",{style:{"font-weight":"bold","font-size":"16px"}}," 系统固有组件 ",-1)),Vm=Yr(()=>i("span",{style:{"font-weight":"bold","font-size":"16px"}},"上传组件",-1)),Dm=Yr(()=>i("span",{style:{"margin-left":"50px"}},"编辑代码",-1)),Em={class:"editor"};function Gm(e,t,n,l,o,a){const s=te("a-select-option"),r=te("a-select-opt-group"),u=te("a-select"),f=te("a-switch"),d=te("a-button"),p=te("a-space"),_=te("Codemirror");return V(),L("div",km,[i("div",Sm,[c(p,null,{default:g(()=>[c(u,{value:l.selectedModule,"onUpdate:value":t[0]||(t[0]=w=>l.selectedModule=w),onChange:l.loadModuleCode,style:{width:"200px"},onDropdownVisibleChange:l.fetchUserAlgorithms},{default:g(()=>[c(r,null,{label:g(()=>[Nm]),default:g(()=>[(V(!0),L(Ye,null,lt(l.moduleCanEditCodeForTraining,w=>(V(),ke(s,{key:w.value,value:w.value},{default:g(()=>[le(Fe(w.label),1)]),_:2},1032,["value"]))),128))]),_:1}),c(r,null,{label:g(()=>[Vm]),default:g(()=>[(V(!0),L(Ye,null,lt(l.userAlgorithms,w=>(V(),ke(s,{key:w.value,value:w.value},{default:g(()=>[le(Fe(w.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["value","onChange","onDropdownVisibleChange"]),Dm,c(f,{checked:l.isEditable,"onUpdate:checked":t[1]||(t[1]=w=>l.isEditable=w),style:{"margin-right":"20px"}},null,8,["checked"]),c(d,{onClick:l.exportCode},{default:g(()=>[le("导出代码到本地")]),_:1},8,["onClick"])]),_:1})]),i("div",Em,[c(_,{value:l.code,"onUpdate:value":t[2]||(t[2]=w=>l.code=w),options:l.cmOptions,border:"",height:"600px",width:"100%",onChange:l.onChange,onInput:l.onInput,onReady:l.onReady},null,8,["value","options","onChange","onInput","onReady"])])])}const Mm=Ot(Am,[["render",Gm],["__scopeId","data-v-4c7f953a"]]),Zm={__name:"faultDiagnosisComplementaryFigureOne",props:{data:{type:Object,required:!0,validator:e=>"fault"in e&&"no_fault"in e},theme:{type:String,default:"light"}},setup(e){const t=e,n=v(null);let l=null;const o=()=>{n.value&&(l&&l.dispose(),l=Bn(n.value,t.theme),a())},a=()=>{const r=Object.keys(t.data.fault),u={title:{text:"有故障样本与无故障样本特征均值对比",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["有故障","无故障"],top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:r,axisLabel:{rotate:45,interval:0}},yAxis:{type:"value"},series:[{name:"有故障",type:"bar",data:r.map(f=>t.data.fault[f]),itemStyle:{color:"#c23531"}},{name:"无故障",type:"bar",data:r.map(f=>t.data.no_fault[f]),itemStyle:{color:"#2f4554"}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],start:0,end:40}]};l.setOption(u)},s=()=>{l==null||l.resize()};return $t(()=>{o(),window.addEventListener("resize",s)}),oa(()=>{window.removeEventListener("resize",s),l==null||l.dispose()}),Ke(()=>t.data,()=>{a()},{deep:!0}),Ke(()=>t.theme,()=>{o()}),(r,u)=>(V(),L("div",{ref_key:"chartContainer",ref:n,class:"chart-container"},null,512))}},zm=Ot(Zm,[["__scopeId","data-v-5541977d"]]);function Rm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $r=Rm,Wm=X2,Lm=function(){return Wm.Date.now()},Bm=Lm,Fm=/\s/;function Ym(e){for(var t=e.length;t--&&Fm.test(e.charAt(t)););return t}var $m=Ym,Tm=$m,Xm=/^\s+/;function Om(e){return e&&e.slice(0,Tm(e)+1).replace(Xm,"")}var Hm=Om;function Pm(e){return e!=null&&typeof e=="object"}var Km=Pm,Um=O2,Jm=Km,jm="[object Symbol]";function Qm(e){return typeof e=="symbol"||Jm(e)&&Um(e)==jm}var qm=Qm,e3=Hm,uc=$r,t3=qm,cc=NaN,n3=/^[-+]0x[0-9a-f]+$/i,l3=/^0b[01]+$/i,o3=/^0o[0-7]+$/i,a3=parseInt;function s3(e){if(typeof e=="number")return e;if(t3(e))return cc;if(uc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e3(e);var n=l3.test(e);return n||o3.test(e)?a3(e.slice(2),n?2:8):n3.test(e)?cc:+e}var i3=s3,r3=$r,is=Bm,dc=i3,u3="Expected a function",c3=Math.max,d3=Math.min;function f3(e,t,n){var l,o,a,s,r,u,f=0,d=!1,p=!1,_=!0;if(typeof e!="function")throw new TypeError(u3);t=dc(t)||0,r3(n)&&(d=!!n.leading,p="maxWait"in n,a=p?c3(dc(n.maxWait)||0,t):a,_="trailing"in n?!!n.trailing:_);function w(P){var ee=l,ne=o;return l=o=void 0,f=P,s=e.apply(ne,ee),s}function C(P){return f=P,r=setTimeout(G,t),d?w(P):s}function m(P){var ee=P-u,ne=P-f,ue=t-ee;return p?d3(ue,a-ne):ue}function A(P){var ee=P-u,ne=P-f;return u===void 0||ee>=t||ee<0||p&&ne>=a}function G(){var P=is();if(A(P))return M(P);r=setTimeout(G,m(P))}function M(P){return r=void 0,_&&l?w(P):(l=o=void 0,s)}function x(){r!==void 0&&clearTimeout(r),f=0,l=u=o=r=void 0}function I(){return r===void 0?s:M(is())}function H(){var P=is(),ee=A(P);if(l=arguments,o=this,u=P,ee){if(r===void 0)return C(u);if(p)return clearTimeout(r),r=setTimeout(G,t),w(u)}return r===void 0&&(r=setTimeout(G,t)),s}return H.cancel=x,H.flush=I,H}var g3=f3,h3=g3,p3=$r,m3="Expected a function";function v3(e,t,n){var l=!0,o=!0;if(typeof e!="function")throw new TypeError(m3);return p3(n)&&(l="leading"in n?!!n.leading:l,o="trailing"in n?!!n.trailing:o),h3(e,t,{leading:l,maxWait:t,trailing:o})}var _3=v3;const rs=H2(_3);function sa(e){return id()?(Fo(e),!0):!1}function gn(e){return typeof e=="function"?e():T(e)}const y3=typeof window<"u"&&typeof document<"u",w3=e=>typeof e<"u",b3=Object.prototype.toString,C3=e=>b3.call(e)==="[object Object]",I3=()=>{};function x3(e,t){function n(...l){return new Promise((o,a)=>{Promise.resolve(e(()=>t.apply(this,l),{fn:t,thisArg:this,args:l})).then(o).catch(a)})}return n}const cd=e=>e();function A3(e=cd){const t=v(!0);function n(){t.value=!1}function l(){t.value=!0}const o=(...a)=>{t.value&&e(...a)};return{isActive:ef(t),pause:n,resume:l,eventFilter:o}}function fc(e,t=!1,n="Timeout"){return new Promise((l,o)=>{setTimeout(t?()=>o(n):l,e)})}function k3(e,t,n={}){const{eventFilter:l=cd,...o}=n;return Ke(e,x3(l,t),o)}function rl(e,t,n={}){const{eventFilter:l,...o}=n,{eventFilter:a,pause:s,resume:r,isActive:u}=A3(l);return{stop:k3(e,t,{...o,eventFilter:a}),pause:s,resume:r,isActive:u}}function S3(e,t={}){if(!Wr(e))return Cs(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const l in e.value)n[l]=Q2(()=>({get(){return e.value[l]},set(o){var a;if((a=gn(t.replaceRef))!=null?a:!0)if(Array.isArray(e.value)){const r=[...e.value];r[l]=o,e.value=r}else{const r={...e.value,[l]:o};Object.setPrototypeOf(r,Object.getPrototypeOf(e.value)),e.value=r}else e.value[l]=o}}));return n}function wr(e,t=!1){function n(p,{flush:_="sync",deep:w=!1,timeout:C,throwOnTimeout:m}={}){let A=null;const M=[new Promise(x=>{A=Ke(e,I=>{p(I)!==t&&(A==null||A(),x(I))},{flush:_,deep:w,immediate:!0})})];return C!=null&&M.push(fc(C,m).then(()=>gn(e)).finally(()=>A==null?void 0:A())),Promise.race(M)}function l(p,_){if(!Wr(p))return n(I=>I===p,_);const{flush:w="sync",deep:C=!1,timeout:m,throwOnTimeout:A}=_??{};let G=null;const x=[new Promise(I=>{G=Ke([e,p],([H,P])=>{t!==(H===P)&&(G==null||G(),I(H))},{flush:w,deep:C,immediate:!0})})];return m!=null&&x.push(fc(m,A).then(()=>gn(e)).finally(()=>(G==null||G(),gn(e)))),Promise.race(x)}function o(p){return n(_=>!!_,p)}function a(p){return l(null,p)}function s(p){return l(void 0,p)}function r(p){return n(Number.isNaN,p)}function u(p,_){return n(w=>{const C=Array.from(w);return C.includes(p)||C.includes(gn(p))},_)}function f(p){return d(1,p)}function d(p=1,_){let w=-1;return n(()=>(w+=1,w>=p),_)}return Array.isArray(gn(e))?{toMatch:n,toContains:u,changed:f,changedTimes:d,get not(){return wr(e,!t)}}:{toMatch:n,toBe:l,toBeTruthy:o,toBeNull:a,toBeNaN:r,toBeUndefined:s,changed:f,changedTimes:d,get not(){return wr(e,!t)}}}function br(e){return wr(e)}function N3(e){var t;const n=gn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const dd=y3?window:void 0;function fd(...e){let t,n,l,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,l,o]=e,t=dd):[t,n,l,o]=e,!t)return I3;Array.isArray(n)||(n=[n]),Array.isArray(l)||(l=[l]);const a=[],s=()=>{a.forEach(d=>d()),a.length=0},r=(d,p,_,w)=>(d.addEventListener(p,_,w),()=>d.removeEventListener(p,_,w)),u=Ke(()=>[N3(t),gn(o)],([d,p])=>{if(s(),!d)return;const _=C3(p)?{...p}:p;a.push(...n.flatMap(w=>l.map(C=>r(d,w,C,_))))},{immediate:!0,flush:"post"}),f=()=>{u(),s()};return sa(f),f}function V3(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function gc(...e){let t,n,l={};e.length===3?(t=e[0],n=e[1],l=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],l=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=dd,eventName:a="keydown",passive:s=!1,dedupe:r=!1}=l,u=V3(t);return fd(o,a,d=>{d.repeat&&gn(r)||u(d)&&n(d)},s)}function D3(e){return JSON.parse(JSON.stringify(e))}function us(e,t,n,l={}){var o,a,s;const{clone:r=!1,passive:u=!1,eventName:f,deep:d=!1,defaultValue:p,shouldEmit:_}=l,w=no(),C=n||(w==null?void 0:w.emit)||((o=w==null?void 0:w.$emit)==null?void 0:o.bind(w))||((s=(a=w==null?void 0:w.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(w==null?void 0:w.proxy));let m=f;t||(t="modelValue"),m=m||`update:${t.toString()}`;const A=x=>r?typeof r=="function"?r(x):D3(x):x,G=()=>w3(e[t])?A(e[t]):p,M=x=>{_?_(x)&&C(m,x):C(m,x)};if(u){const x=G(),I=v(x);let H=!1;return Ke(()=>e[t],P=>{H||(H=!0,I.value=A(P),Ft(()=>H=!1))}),Ke(I,P=>{!H&&(P!==e[t]||d)&&M(P)},{deep:d}),I}else return We({get(){return G()},set(x){M(x)}})}var E3={value:()=>{}};function ia(){for(var e=0,t=arguments.length,n={},l;e<t;++e){if(!(l=arguments[e]+"")||l in n||/[\s.]/.test(l))throw new Error("illegal type: "+l);n[l]=[]}return new $o(n)}function $o(e){this._=e}function G3(e,t){return e.trim().split(/^|\s+/).map(function(n){var l="",o=n.indexOf(".");if(o>=0&&(l=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:l}})}$o.prototype=ia.prototype={constructor:$o,on:function(e,t){var n=this._,l=G3(e+"",n),o,a=-1,s=l.length;if(arguments.length<2){for(;++a<s;)if((o=(e=l[a]).type)&&(o=M3(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(o=(e=l[a]).type)n[o]=hc(n[o],e.name,t);else if(t==null)for(o in n)n[o]=hc(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $o(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),l=0,o,a;l<o;++l)n[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],l=0,o=a.length;l<o;++l)a[l].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],o=0,a=l.length;o<a;++o)l[o].value.apply(t,n)}};function M3(e,t){for(var n=0,l=e.length,o;n<l;++n)if((o=e[n]).name===t)return o.value}function hc(e,t,n){for(var l=0,o=e.length;l<o;++l)if(e[l].name===t){e[l]=E3,e=e.slice(0,l).concat(e.slice(l+1));break}return n!=null&&e.push({name:t,value:n}),e}var Cr="http://www.w3.org/1999/xhtml";const pc={svg:"http://www.w3.org/2000/svg",xhtml:Cr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ra(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),pc.hasOwnProperty(t)?{space:pc[t],local:e}:e}function Z3(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cr&&t.documentElement.namespaceURI===Cr?t.createElement(e):t.createElementNS(n,e)}}function z3(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gd(e){var t=ra(e);return(t.local?z3:Z3)(t)}function R3(){}function Tr(e){return e==null?R3:function(){return this.querySelector(e)}}function W3(e){typeof e!="function"&&(e=Tr(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var a=t[o],s=a.length,r=l[o]=new Array(s),u,f,d=0;d<s;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),r[d]=f);return new Yt(l,this._parents)}function L3(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function B3(){return[]}function hd(e){return e==null?B3:function(){return this.querySelectorAll(e)}}function F3(e){return function(){return L3(e.apply(this,arguments))}}function Y3(e){typeof e=="function"?e=F3(e):e=hd(e);for(var t=this._groups,n=t.length,l=[],o=[],a=0;a<n;++a)for(var s=t[a],r=s.length,u,f=0;f<r;++f)(u=s[f])&&(l.push(e.call(u,u.__data__,f,s)),o.push(u));return new Yt(l,o)}function pd(e){return function(){return this.matches(e)}}function md(e){return function(t){return t.matches(e)}}var $3=Array.prototype.find;function T3(e){return function(){return $3.call(this.children,e)}}function X3(){return this.firstElementChild}function O3(e){return this.select(e==null?X3:T3(typeof e=="function"?e:md(e)))}var H3=Array.prototype.filter;function P3(){return Array.from(this.children)}function K3(e){return function(){return H3.call(this.children,e)}}function U3(e){return this.selectAll(e==null?P3:K3(typeof e=="function"?e:md(e)))}function J3(e){typeof e!="function"&&(e=pd(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var a=t[o],s=a.length,r=l[o]=[],u,f=0;f<s;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&r.push(u);return new Yt(l,this._parents)}function vd(e){return new Array(e.length)}function j3(){return new Yt(this._enter||this._groups.map(vd),this._parents)}function Po(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Po.prototype={constructor:Po,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Q3(e){return function(){return e}}function q3(e,t,n,l,o,a){for(var s=0,r,u=t.length,f=a.length;s<f;++s)(r=t[s])?(r.__data__=a[s],l[s]=r):n[s]=new Po(e,a[s]);for(;s<u;++s)(r=t[s])&&(o[s]=r)}function ev(e,t,n,l,o,a,s){var r,u,f=new Map,d=t.length,p=a.length,_=new Array(d),w;for(r=0;r<d;++r)(u=t[r])&&(_[r]=w=s.call(u,u.__data__,r,t)+"",f.has(w)?o[r]=u:f.set(w,u));for(r=0;r<p;++r)w=s.call(e,a[r],r,a)+"",(u=f.get(w))?(l[r]=u,u.__data__=a[r],f.delete(w)):n[r]=new Po(e,a[r]);for(r=0;r<d;++r)(u=t[r])&&f.get(_[r])===u&&(o[r]=u)}function tv(e){return e.__data__}function nv(e,t){if(!arguments.length)return Array.from(this,tv);var n=t?ev:q3,l=this._parents,o=this._groups;typeof e!="function"&&(e=Q3(e));for(var a=o.length,s=new Array(a),r=new Array(a),u=new Array(a),f=0;f<a;++f){var d=l[f],p=o[f],_=p.length,w=lv(e.call(d,d&&d.__data__,f,l)),C=w.length,m=r[f]=new Array(C),A=s[f]=new Array(C),G=u[f]=new Array(_);n(d,p,m,A,G,w,t);for(var M=0,x=0,I,H;M<C;++M)if(I=m[M]){for(M>=x&&(x=M+1);!(H=A[x])&&++x<C;);I._next=H||null}}return s=new Yt(s,l),s._enter=r,s._exit=u,s}function lv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ov(){return new Yt(this._exit||this._groups.map(vd),this._parents)}function av(e,t,n){var l=this.enter(),o=this,a=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),l&&o?l.merge(o).order():o}function sv(e){for(var t=e.selection?e.selection():e,n=this._groups,l=t._groups,o=n.length,a=l.length,s=Math.min(o,a),r=new Array(o),u=0;u<s;++u)for(var f=n[u],d=l[u],p=f.length,_=r[u]=new Array(p),w,C=0;C<p;++C)(w=f[C]||d[C])&&(_[C]=w);for(;u<o;++u)r[u]=n[u];return new Yt(r,this._parents)}function iv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var l=e[t],o=l.length-1,a=l[o],s;--o>=0;)(s=l[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function rv(e){e||(e=uv);function t(p,_){return p&&_?e(p.__data__,_.__data__):!p-!_}for(var n=this._groups,l=n.length,o=new Array(l),a=0;a<l;++a){for(var s=n[a],r=s.length,u=o[a]=new Array(r),f,d=0;d<r;++d)(f=s[d])&&(u[d]=f);u.sort(t)}return new Yt(o,this._parents).order()}function uv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function dv(){return Array.from(this)}function fv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,a=l.length;o<a;++o){var s=l[o];if(s)return s}return null}function gv(){let e=0;for(const t of this)++e;return e}function hv(){return!this.node()}function pv(e){for(var t=this._groups,n=0,l=t.length;n<l;++n)for(var o=t[n],a=0,s=o.length,r;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this}function mv(e){return function(){this.removeAttribute(e)}}function vv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _v(e,t){return function(){this.setAttribute(e,t)}}function yv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Cv(e,t){var n=ra(e);if(arguments.length<2){var l=this.node();return n.local?l.getAttributeNS(n.space,n.local):l.getAttribute(n)}return this.each((t==null?n.local?vv:mv:typeof t=="function"?n.local?bv:wv:n.local?yv:_v)(n,t))}function _d(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Iv(e){return function(){this.style.removeProperty(e)}}function xv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Av(e,t,n){return function(){var l=t.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,n)}}function kv(e,t,n){return arguments.length>1?this.each((t==null?Iv:typeof t=="function"?Av:xv)(e,t,n??"")):hl(this.node(),e)}function hl(e,t){return e.style.getPropertyValue(t)||_d(e).getComputedStyle(e,null).getPropertyValue(t)}function Sv(e){return function(){delete this[e]}}function Nv(e,t){return function(){this[e]=t}}function Vv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Dv(e,t){return arguments.length>1?this.each((t==null?Sv:typeof t=="function"?Vv:Nv)(e,t)):this.node()[e]}function yd(e){return e.trim().split(/^|\s+/)}function Xr(e){return e.classList||new wd(e)}function wd(e){this._node=e,this._names=yd(e.getAttribute("class")||"")}wd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bd(e,t){for(var n=Xr(e),l=-1,o=t.length;++l<o;)n.add(t[l])}function Cd(e,t){for(var n=Xr(e),l=-1,o=t.length;++l<o;)n.remove(t[l])}function Ev(e){return function(){bd(this,e)}}function Gv(e){return function(){Cd(this,e)}}function Mv(e,t){return function(){(t.apply(this,arguments)?bd:Cd)(this,e)}}function Zv(e,t){var n=yd(e+"");if(arguments.length<2){for(var l=Xr(this.node()),o=-1,a=n.length;++o<a;)if(!l.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Mv:t?Ev:Gv)(n,t))}function zv(){this.textContent=""}function Rv(e){return function(){this.textContent=e}}function Wv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Lv(e){return arguments.length?this.each(e==null?zv:(typeof e=="function"?Wv:Rv)(e)):this.node().textContent}function Bv(){this.innerHTML=""}function Fv(e){return function(){this.innerHTML=e}}function Yv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $v(e){return arguments.length?this.each(e==null?Bv:(typeof e=="function"?Yv:Fv)(e)):this.node().innerHTML}function Tv(){this.nextSibling&&this.parentNode.appendChild(this)}function Xv(){return this.each(Tv)}function Ov(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hv(){return this.each(Ov)}function Pv(e){var t=typeof e=="function"?e:gd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Kv(){return null}function Uv(e,t){var n=typeof e=="function"?e:gd(e),l=t==null?Kv:typeof t=="function"?t:Tr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),l.apply(this,arguments)||null)})}function Jv(){var e=this.parentNode;e&&e.removeChild(this)}function jv(){return this.each(Jv)}function Qv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function e_(e){return this.select(e?qv:Qv)}function t_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function n_(e){return function(t){e.call(this,t,this.__data__)}}function l_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",l=t.indexOf(".");return l>=0&&(n=t.slice(l+1),t=t.slice(0,l)),{type:t,name:n}})}function o_(e){return function(){var t=this.__on;if(t){for(var n=0,l=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++l]=a;++l?t.length=l:delete this.__on}}}function a_(e,t,n){return function(){var l=this.__on,o,a=n_(t);if(l){for(var s=0,r=l.length;s<r;++s)if((o=l[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},l?l.push(o):this.__on=[o]}}function s_(e,t,n){var l=l_(e+""),o,a=l.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var u=0,f=r.length,d;u<f;++u)for(o=0,d=r[u];o<a;++o)if((s=l[o]).type===d.type&&s.name===d.name)return d.value}return}for(r=t?a_:o_,o=0;o<a;++o)this.each(r(l[o],t,n));return this}function Id(e,t,n){var l=_d(e),o=l.CustomEvent;typeof o=="function"?o=new o(t,n):(o=l.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function i_(e,t){return function(){return Id(this,e,t)}}function r_(e,t){return function(){return Id(this,e,t.apply(this,arguments))}}function u_(e,t){return this.each((typeof t=="function"?r_:i_)(e,t))}function*c_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,a=l.length,s;o<a;++o)(s=l[o])&&(yield s)}var xd=[null];function Yt(e,t){this._groups=e,this._parents=t}function lo(){return new Yt([[document.documentElement]],xd)}function d_(){return this}Yt.prototype=lo.prototype={constructor:Yt,select:W3,selectAll:Y3,selectChild:O3,selectChildren:U3,filter:J3,data:nv,enter:j3,exit:ov,join:av,merge:sv,selection:d_,order:iv,sort:rv,call:cv,nodes:dv,node:fv,size:gv,empty:hv,each:pv,attr:Cv,style:kv,property:Dv,classed:Zv,text:Lv,html:$v,raise:Xv,lower:Hv,append:Pv,insert:Uv,remove:jv,clone:e_,datum:t_,on:s_,dispatch:u_,[Symbol.iterator]:c_};function jt(e){return typeof e=="string"?new Yt([[document.querySelector(e)]],[document.documentElement]):new Yt([[e]],xd)}function f_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function rn(e,t){if(e=f_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var l=n.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const g_={passive:!1},Pl={capture:!0,passive:!1};function cs(e){e.stopImmediatePropagation()}function cl(e){e.preventDefault(),e.stopImmediatePropagation()}function Ad(e){var t=e.document.documentElement,n=jt(e).on("dragstart.drag",cl,Pl);"onselectstart"in t?n.on("selectstart.drag",cl,Pl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function kd(e,t){var n=e.document.documentElement,l=jt(e).on("dragstart.drag",null);t&&(l.on("click.drag",cl,Pl),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in n?l.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Eo=e=>()=>e;function Ir(e,{sourceEvent:t,subject:n,target:l,identifier:o,active:a,x:s,y:r,dx:u,dy:f,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:d}})}Ir.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function h_(e){return!e.ctrlKey&&!e.button}function p_(){return this.parentNode}function m_(e,t){return t??{x:e.x,y:e.y}}function v_(){return navigator.maxTouchPoints||"ontouchstart"in this}function __(){var e=h_,t=p_,n=m_,l=v_,o={},a=ia("start","drag","end"),s=0,r,u,f,d,p=0;function _(I){I.on("mousedown.drag",w).filter(l).on("touchstart.drag",A).on("touchmove.drag",G,g_).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(I,H){if(!(d||!e.call(this,I,H))){var P=x(this,t.call(this,I,H),I,H,"mouse");P&&(jt(I.view).on("mousemove.drag",C,Pl).on("mouseup.drag",m,Pl),Ad(I.view),cs(I),f=!1,r=I.clientX,u=I.clientY,P("start",I))}}function C(I){if(cl(I),!f){var H=I.clientX-r,P=I.clientY-u;f=H*H+P*P>p}o.mouse("drag",I)}function m(I){jt(I.view).on("mousemove.drag mouseup.drag",null),kd(I.view,f),cl(I),o.mouse("end",I)}function A(I,H){if(e.call(this,I,H)){var P=I.changedTouches,ee=t.call(this,I,H),ne=P.length,ue,$;for(ue=0;ue<ne;++ue)($=x(this,ee,I,H,P[ue].identifier,P[ue]))&&(cs(I),$("start",I,P[ue]))}}function G(I){var H=I.changedTouches,P=H.length,ee,ne;for(ee=0;ee<P;++ee)(ne=o[H[ee].identifier])&&(cl(I),ne("drag",I,H[ee]))}function M(I){var H=I.changedTouches,P=H.length,ee,ne;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),ee=0;ee<P;++ee)(ne=o[H[ee].identifier])&&(cs(I),ne("end",I,H[ee]))}function x(I,H,P,ee,ne,ue){var $=a.copy(),J=rn(ue||P,H),z,me,D;if((D=n.call(I,new Ir("beforestart",{sourceEvent:P,target:_,identifier:ne,active:s,x:J[0],y:J[1],dx:0,dy:0,dispatch:$}),ee))!=null)return z=D.x-J[0]||0,me=D.y-J[1]||0,function F(W,oe,re){var B=J,R;switch(W){case"start":o[ne]=F,R=s++;break;case"end":delete o[ne],--s;case"drag":J=rn(re||oe,H),R=s;break}$.call(W,I,new Ir(W,{sourceEvent:oe,subject:D,target:_,identifier:ne,active:R,x:J[0]+z,y:J[1]+me,dx:J[0]-B[0],dy:J[1]-B[1],dispatch:$}),ee)}}return _.filter=function(I){return arguments.length?(e=typeof I=="function"?I:Eo(!!I),_):e},_.container=function(I){return arguments.length?(t=typeof I=="function"?I:Eo(I),_):t},_.subject=function(I){return arguments.length?(n=typeof I=="function"?I:Eo(I),_):n},_.touchable=function(I){return arguments.length?(l=typeof I=="function"?I:Eo(!!I),_):l},_.on=function(){var I=a.on.apply(a,arguments);return I===a?_:I},_.clickDistance=function(I){return arguments.length?(p=(I=+I)*I,_):Math.sqrt(p)},_}function Or(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sd(e,t){var n=Object.create(e.prototype);for(var l in t)n[l]=t[l];return n}function oo(){}var Kl=.7,Ko=1/Kl,dl="\\s*([+-]?\\d+)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y_=/^#([0-9a-f]{3,8})$/,w_=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),b_=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),C_=new RegExp(`^rgba\\(${dl},${dl},${dl},${Ul}\\)$`),I_=new RegExp(`^rgba\\(${un},${un},${un},${Ul}\\)$`),x_=new RegExp(`^hsl\\(${Ul},${un},${un}\\)$`),A_=new RegExp(`^hsla\\(${Ul},${un},${un},${Ul}\\)$`),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Or(oo,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vc,formatHex:vc,formatHex8:k_,formatHsl:S_,formatRgb:_c,toString:_c});function vc(){return this.rgb().formatHex()}function k_(){return this.rgb().formatHex8()}function S_(){return Nd(this).formatHsl()}function _c(){return this.rgb().formatRgb()}function Jl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yc(t):n===3?new zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w_.exec(e))?new zt(t[1],t[2],t[3],1):(t=b_.exec(e))?new zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=C_.exec(e))?Go(t[1],t[2],t[3],t[4]):(t=I_.exec(e))?Go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x_.exec(e))?Cc(t[1],t[2]/100,t[3]/100,1):(t=A_.exec(e))?Cc(t[1],t[2]/100,t[3]/100,t[4]):mc.hasOwnProperty(e)?yc(mc[e]):e==="transparent"?new zt(NaN,NaN,NaN,0):null}function yc(e){return new zt(e>>16&255,e>>8&255,e&255,1)}function Go(e,t,n,l){return l<=0&&(e=t=n=NaN),new zt(e,t,n,l)}function N_(e){return e instanceof oo||(e=Jl(e)),e?(e=e.rgb(),new zt(e.r,e.g,e.b,e.opacity)):new zt}function xr(e,t,n,l){return arguments.length===1?N_(e):new zt(e,t,n,l??1)}function zt(e,t,n,l){this.r=+e,this.g=+t,this.b=+n,this.opacity=+l}Or(zt,xr,Sd(oo,{brighter(e){return e=e==null?Ko:Math.pow(Ko,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zt(Xn(this.r),Xn(this.g),Xn(this.b),Uo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wc,formatHex:wc,formatHex8:V_,formatRgb:bc,toString:bc}));function wc(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}`}function V_(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}${Tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function bc(){const e=Uo(this.opacity);return`${e===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${e===1?")":`, ${e})`}`}function Uo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tn(e){return e=Xn(e),(e<16?"0":"")+e.toString(16)}function Cc(e,t,n,l){return l<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qt(e,t,n,l)}function Nd(e){if(e instanceof Qt)return new Qt(e.h,e.s,e.l,e.opacity);if(e instanceof oo||(e=Jl(e)),!e)return new Qt;if(e instanceof Qt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,l=e.b/255,o=Math.min(t,n,l),a=Math.max(t,n,l),s=NaN,r=a-o,u=(a+o)/2;return r?(t===a?s=(n-l)/r+(n<l)*6:n===a?s=(l-t)/r+2:s=(t-n)/r+4,r/=u<.5?a+o:2-a-o,s*=60):r=u>0&&u<1?0:s,new Qt(s,r,u,e.opacity)}function D_(e,t,n,l){return arguments.length===1?Nd(e):new Qt(e,t,n,l??1)}function Qt(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}Or(Qt,D_,Sd(oo,{brighter(e){return e=e==null?Ko:Math.pow(Ko,e),new Qt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new Qt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*t,o=2*n-l;return new zt(ds(e>=240?e-240:e+120,o,l),ds(e,o,l),ds(e<120?e+240:e-120,o,l),this.opacity)},clamp(){return new Qt(Ic(this.h),Mo(this.s),Mo(this.l),Uo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Uo(this.opacity);return`${e===1?"hsl(":"hsla("}${Ic(this.h)}, ${Mo(this.s)*100}%, ${Mo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ic(e){return e=(e||0)%360,e<0?e+360:e}function Mo(e){return Math.max(0,Math.min(1,e||0))}function ds(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vd=e=>()=>e;function E_(e,t){return function(n){return e+n*t}}function G_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}function M_(e){return(e=+e)==1?Dd:function(t,n){return n-t?G_(t,n,e):Vd(isNaN(t)?n:t)}}function Dd(e,t){var n=t-e;return n?E_(e,n):Vd(isNaN(e)?t:e)}const xc=function e(t){var n=M_(t);function l(o,a){var s=n((o=xr(o)).r,(a=xr(a)).r),r=n(o.g,a.g),u=n(o.b,a.b),f=Dd(o.opacity,a.opacity);return function(d){return o.r=s(d),o.g=r(d),o.b=u(d),o.opacity=f(d),o+""}}return l.gamma=e,l}(1);function An(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fs=new RegExp(Ar.source,"g");function Z_(e){return function(){return e}}function z_(e){return function(t){return e(t)+""}}function R_(e,t){var n=Ar.lastIndex=fs.lastIndex=0,l,o,a,s=-1,r=[],u=[];for(e=e+"",t=t+"";(l=Ar.exec(e))&&(o=fs.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),r[s]?r[s]+=a:r[++s]=a),(l=l[0])===(o=o[0])?r[s]?r[s]+=o:r[++s]=o:(r[++s]=null,u.push({i:s,x:An(l,o)})),n=fs.lastIndex;return n<t.length&&(a=t.slice(n),r[s]?r[s]+=a:r[++s]=a),r.length<2?u[0]?z_(u[0].x):Z_(t):(t=u.length,function(f){for(var d=0,p;d<t;++d)r[(p=u[d]).i]=p.x(f);return r.join("")})}var Ac=180/Math.PI,kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ed(e,t,n,l,o,a){var s,r,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*l)&&(n-=e*u,l-=t*u),(r=Math.sqrt(n*n+l*l))&&(n/=r,l/=r,u/=r),e*l<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Ac,skewX:Math.atan(u)*Ac,scaleX:s,scaleY:r}}var Zo;function W_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kr:Ed(t.a,t.b,t.c,t.d,t.e,t.f)}function L_(e){return e==null||(Zo||(Zo=document.createElementNS("http://www.w3.org/2000/svg","g")),Zo.setAttribute("transform",e),!(e=Zo.transform.baseVal.consolidate()))?kr:(e=e.matrix,Ed(e.a,e.b,e.c,e.d,e.e,e.f))}function Gd(e,t,n,l){function o(f){return f.length?f.pop()+" ":""}function a(f,d,p,_,w,C){if(f!==p||d!==_){var m=w.push("translate(",null,t,null,n);C.push({i:m-4,x:An(f,p)},{i:m-2,x:An(d,_)})}else(p||_)&&w.push("translate("+p+t+_+n)}function s(f,d,p,_){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),_.push({i:p.push(o(p)+"rotate(",null,l)-2,x:An(f,d)})):d&&p.push(o(p)+"rotate("+d+l)}function r(f,d,p,_){f!==d?_.push({i:p.push(o(p)+"skewX(",null,l)-2,x:An(f,d)}):d&&p.push(o(p)+"skewX("+d+l)}function u(f,d,p,_,w,C){if(f!==p||d!==_){var m=w.push(o(w)+"scale(",null,",",null,")");C.push({i:m-4,x:An(f,p)},{i:m-2,x:An(d,_)})}else(p!==1||_!==1)&&w.push(o(w)+"scale("+p+","+_+")")}return function(f,d){var p=[],_=[];return f=e(f),d=e(d),a(f.translateX,f.translateY,d.translateX,d.translateY,p,_),s(f.rotate,d.rotate,p,_),r(f.skewX,d.skewX,p,_),u(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,_),f=d=null,function(w){for(var C=-1,m=_.length,A;++C<m;)p[(A=_[C]).i]=A.x(w);return p.join("")}}}var B_=Gd(W_,"px, ","px)","deg)"),F_=Gd(L_,", ",")",")"),Y_=1e-12;function kc(e){return((e=Math.exp(e))+1/e)/2}function $_(e){return((e=Math.exp(e))-1/e)/2}function T_(e){return((e=Math.exp(2*e))-1)/(e+1)}const X_=function e(t,n,l){function o(a,s){var r=a[0],u=a[1],f=a[2],d=s[0],p=s[1],_=s[2],w=d-r,C=p-u,m=w*w+C*C,A,G;if(m<Y_)G=Math.log(_/f)/t,A=function(ee){return[r+ee*w,u+ee*C,f*Math.exp(t*ee*G)]};else{var M=Math.sqrt(m),x=(_*_-f*f+l*m)/(2*f*n*M),I=(_*_-f*f-l*m)/(2*_*n*M),H=Math.log(Math.sqrt(x*x+1)-x),P=Math.log(Math.sqrt(I*I+1)-I);G=(P-H)/t,A=function(ee){var ne=ee*G,ue=kc(H),$=f/(n*M)*(ue*T_(t*ne+H)-$_(H));return[r+$*w,u+$*C,f*ue/kc(t*ne+H)]}}return A.duration=G*1e3*t/Math.SQRT2,A}return o.rho=function(a){var s=Math.max(.001,+a),r=s*s,u=r*r;return e(s,r,u)},o}(Math.SQRT2,2,4);var pl=0,Yl=0,Bl=0,Md=1e3,Jo,$l,jo=0,Pn=0,ua=0,jl=typeof performance=="object"&&performance.now?performance:Date,Zd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hr(){return Pn||(Zd(O_),Pn=jl.now()+ua)}function O_(){Pn=0}function Qo(){this._call=this._time=this._next=null}Qo.prototype=zd.prototype={constructor:Qo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Hr():+n)+(t==null?0:+t),!this._next&&$l!==this&&($l?$l._next=this:Jo=this,$l=this),this._call=e,this._time=n,Sr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sr())}};function zd(e,t,n){var l=new Qo;return l.restart(e,t,n),l}function H_(){Hr(),++pl;for(var e=Jo,t;e;)(t=Pn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pl}function Sc(){Pn=(jo=jl.now())+ua,pl=Yl=0;try{H_()}finally{pl=0,K_(),Pn=0}}function P_(){var e=jl.now(),t=e-jo;t>Md&&(ua-=t,jo=e)}function K_(){for(var e,t=Jo,n,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jo=n);$l=e,Sr(l)}function Sr(e){if(!pl){Yl&&(Yl=clearTimeout(Yl));var t=e-Pn;t>24?(e<1/0&&(Yl=setTimeout(Sc,e-jl.now()-ua)),Bl&&(Bl=clearInterval(Bl))):(Bl||(jo=jl.now(),Bl=setInterval(P_,Md)),pl=1,Zd(Sc))}}function Nc(e,t,n){var l=new Qo;return t=t==null?0:+t,l.restart(o=>{l.stop(),e(o+t)},t,n),l}var U_=ia("start","end","cancel","interrupt"),J_=[],Rd=0,Vc=1,Nr=2,To=3,Dc=4,Vr=5,Xo=6;function ca(e,t,n,l,o,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;j_(e,n,{name:t,index:l,group:o,on:U_,tween:J_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Rd})}function Pr(e,t){var n=qt(e,t);if(n.state>Rd)throw new Error("too late; already scheduled");return n}function cn(e,t){var n=qt(e,t);if(n.state>To)throw new Error("too late; already running");return n}function qt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function j_(e,t,n){var l=e.__transition,o;l[t]=n,n.timer=zd(a,0,n.time);function a(f){n.state=Vc,n.timer.restart(s,n.delay,n.time),n.delay<=f&&s(f-n.delay)}function s(f){var d,p,_,w;if(n.state!==Vc)return u();for(d in l)if(w=l[d],w.name===n.name){if(w.state===To)return Nc(s);w.state===Dc?(w.state=Xo,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete l[d]):+d<t&&(w.state=Xo,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete l[d])}if(Nc(function(){n.state===To&&(n.state=Dc,n.timer.restart(r,n.delay,n.time),r(f))}),n.state=Nr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Nr){for(n.state=To,o=new Array(_=n.tween.length),d=0,p=-1;d<_;++d)(w=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=w);o.length=p+1}}function r(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=Vr,1),p=-1,_=o.length;++p<_;)o[p].call(e,d);n.state===Vr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Xo,n.timer.stop(),delete l[t];for(var f in l)return;delete e.__transition}}function Oo(e,t){var n=e.__transition,l,o,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((l=n[s]).name!==t){a=!1;continue}o=l.state>Nr&&l.state<Vr,l.state=Xo,l.timer.stop(),l.on.call(o?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete n[s]}a&&delete e.__transition}}function Q_(e){return this.each(function(){Oo(this,e)})}function q_(e,t){var n,l;return function(){var o=cn(this,e),a=o.tween;if(a!==n){l=n=a;for(var s=0,r=l.length;s<r;++s)if(l[s].name===t){l=l.slice(),l.splice(s,1);break}}o.tween=l}}function e4(e,t,n){var l,o;if(typeof n!="function")throw new Error;return function(){var a=cn(this,e),s=a.tween;if(s!==l){o=(l=s).slice();for(var r={name:t,value:n},u=0,f=o.length;u<f;++u)if(o[u].name===t){o[u]=r;break}u===f&&o.push(r)}a.tween=o}}function t4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var l=qt(this.node(),n).tween,o=0,a=l.length,s;o<a;++o)if((s=l[o]).name===e)return s.value;return null}return this.each((t==null?q_:e4)(n,e,t))}function Kr(e,t,n){var l=e._id;return e.each(function(){var o=cn(this,l);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return qt(o,l).value[t]}}function Wd(e,t){var n;return(typeof t=="number"?An:t instanceof Jl?xc:(n=Jl(t))?(t=n,xc):R_)(e,t)}function n4(e){return function(){this.removeAttribute(e)}}function l4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o4(e,t,n){var l,o=n+"",a;return function(){var s=this.getAttribute(e);return s===o?null:s===l?a:a=t(l=s,n)}}function a4(e,t,n){var l,o=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===l?a:a=t(l=s,n)}}function s4(e,t,n){var l,o,a;return function(){var s,r=n(this),u;return r==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=r+"",s===u?null:s===l&&u===o?a:(o=u,a=t(l=s,r)))}}function i4(e,t,n){var l,o,a;return function(){var s,r=n(this),u;return r==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=r+"",s===u?null:s===l&&u===o?a:(o=u,a=t(l=s,r)))}}function r4(e,t){var n=ra(e),l=n==="transform"?F_:Wd;return this.attrTween(e,typeof t=="function"?(n.local?i4:s4)(n,l,Kr(this,"attr."+e,t)):t==null?(n.local?l4:n4)(n):(n.local?a4:o4)(n,l,t))}function u4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function c4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function d4(e,t){var n,l;function o(){var a=t.apply(this,arguments);return a!==l&&(n=(l=a)&&c4(e,a)),n}return o._value=t,o}function f4(e,t){var n,l;function o(){var a=t.apply(this,arguments);return a!==l&&(n=(l=a)&&u4(e,a)),n}return o._value=t,o}function g4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var l=ra(e);return this.tween(n,(l.local?d4:f4)(l,t))}function h4(e,t){return function(){Pr(this,e).delay=+t.apply(this,arguments)}}function p4(e,t){return t=+t,function(){Pr(this,e).delay=t}}function m4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?h4:p4)(t,e)):qt(this.node(),t).delay}function v4(e,t){return function(){cn(this,e).duration=+t.apply(this,arguments)}}function _4(e,t){return t=+t,function(){cn(this,e).duration=t}}function y4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?v4:_4)(t,e)):qt(this.node(),t).duration}function w4(e,t){if(typeof t!="function")throw new Error;return function(){cn(this,e).ease=t}}function b4(e){var t=this._id;return arguments.length?this.each(w4(t,e)):qt(this.node(),t).ease}function C4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;cn(this,e).ease=n}}function I4(e){if(typeof e!="function")throw new Error;return this.each(C4(this._id,e))}function x4(e){typeof e!="function"&&(e=pd(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var a=t[o],s=a.length,r=l[o]=[],u,f=0;f<s;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&r.push(u);return new vn(l,this._parents,this._name,this._id)}function A4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,l=t.length,o=n.length,a=Math.min(l,o),s=new Array(l),r=0;r<a;++r)for(var u=t[r],f=n[r],d=u.length,p=s[r]=new Array(d),_,w=0;w<d;++w)(_=u[w]||f[w])&&(p[w]=_);for(;r<l;++r)s[r]=t[r];return new vn(s,this._parents,this._name,this._id)}function k4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function S4(e,t,n){var l,o,a=k4(t)?Pr:cn;return function(){var s=a(this,e),r=s.on;r!==l&&(o=(l=r).copy()).on(t,n),s.on=o}}function N4(e,t){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(e):this.each(S4(n,e,t))}function V4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function D4(){return this.on("end.remove",V4(this._id))}function E4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tr(e));for(var l=this._groups,o=l.length,a=new Array(o),s=0;s<o;++s)for(var r=l[s],u=r.length,f=a[s]=new Array(u),d,p,_=0;_<u;++_)(d=r[_])&&(p=e.call(d,d.__data__,_,r))&&("__data__"in d&&(p.__data__=d.__data__),f[_]=p,ca(f[_],t,n,_,f,qt(d,n)));return new vn(a,this._parents,t,n)}function G4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hd(e));for(var l=this._groups,o=l.length,a=[],s=[],r=0;r<o;++r)for(var u=l[r],f=u.length,d,p=0;p<f;++p)if(d=u[p]){for(var _=e.call(d,d.__data__,p,u),w,C=qt(d,n),m=0,A=_.length;m<A;++m)(w=_[m])&&ca(w,t,n,m,_,C);a.push(_),s.push(d)}return new vn(a,s,t,n)}var M4=lo.prototype.constructor;function Z4(){return new M4(this._groups,this._parents)}function z4(e,t){var n,l,o;return function(){var a=hl(this,e),s=(this.style.removeProperty(e),hl(this,e));return a===s?null:a===n&&s===l?o:o=t(n=a,l=s)}}function Ld(e){return function(){this.style.removeProperty(e)}}function R4(e,t,n){var l,o=n+"",a;return function(){var s=hl(this,e);return s===o?null:s===l?a:a=t(l=s,n)}}function W4(e,t,n){var l,o,a;return function(){var s=hl(this,e),r=n(this),u=r+"";return r==null&&(u=r=(this.style.removeProperty(e),hl(this,e))),s===u?null:s===l&&u===o?a:(o=u,a=t(l=s,r))}}function L4(e,t){var n,l,o,a="style."+t,s="end."+a,r;return function(){var u=cn(this,e),f=u.on,d=u.value[a]==null?r||(r=Ld(t)):void 0;(f!==n||o!==d)&&(l=(n=f).copy()).on(s,o=d),u.on=l}}function B4(e,t,n){var l=(e+="")=="transform"?B_:Wd;return t==null?this.styleTween(e,z4(e,l)).on("end.style."+e,Ld(e)):typeof t=="function"?this.styleTween(e,W4(e,l,Kr(this,"style."+e,t))).each(L4(this._id,e)):this.styleTween(e,R4(e,l,t),n).on("end.style."+e,null)}function F4(e,t,n){return function(l){this.style.setProperty(e,t.call(this,l),n)}}function Y4(e,t,n){var l,o;function a(){var s=t.apply(this,arguments);return s!==o&&(l=(o=s)&&F4(e,s,n)),l}return a._value=t,a}function $4(e,t,n){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(t==null)return this.tween(l,null);if(typeof t!="function")throw new Error;return this.tween(l,Y4(e,t,n??""))}function T4(e){return function(){this.textContent=e}}function X4(e){return function(){var t=e(this);this.textContent=t??""}}function O4(e){return this.tween("text",typeof e=="function"?X4(Kr(this,"text",e)):T4(e==null?"":e+""))}function H4(e){return function(t){this.textContent=e.call(this,t)}}function P4(e){var t,n;function l(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&H4(o)),t}return l._value=e,l}function K4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,P4(e))}function U4(){for(var e=this._name,t=this._id,n=Bd(),l=this._groups,o=l.length,a=0;a<o;++a)for(var s=l[a],r=s.length,u,f=0;f<r;++f)if(u=s[f]){var d=qt(u,t);ca(u,e,n,f,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new vn(l,this._parents,e,n)}function J4(){var e,t,n=this,l=n._id,o=n.size();return new Promise(function(a,s){var r={value:s},u={value:function(){--o===0&&a()}};n.each(function(){var f=cn(this,l),d=f.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(r),t._.interrupt.push(r),t._.end.push(u)),f.on=t}),o===0&&a()})}var j4=0;function vn(e,t,n,l){this._groups=e,this._parents=t,this._name=n,this._id=l}function Bd(){return++j4}var fn=lo.prototype;vn.prototype={constructor:vn,select:E4,selectAll:G4,selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:x4,merge:A4,selection:Z4,transition:U4,call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:N4,attr:r4,attrTween:g4,style:B4,styleTween:$4,text:O4,textTween:K4,remove:D4,tween:t4,delay:m4,duration:y4,ease:b4,easeVarying:I4,end:J4,[Symbol.iterator]:fn[Symbol.iterator]};function Q4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var q4={time:null,delay:0,duration:250,ease:Q4};function e5(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function t5(e){var t,n;e instanceof vn?(t=e._id,e=e._name):(t=Bd(),(n=q4).time=Hr(),e=e==null?null:e+"");for(var l=this._groups,o=l.length,a=0;a<o;++a)for(var s=l[a],r=s.length,u,f=0;f<r;++f)(u=s[f])&&ca(u,e,t,f,s,n||e5(u,t));return new vn(l,this._parents,e,t)}lo.prototype.interrupt=Q_;lo.prototype.transition=t5;const zo=e=>()=>e;function n5(e,{sourceEvent:t,target:n,transform:l,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:o}})}function hn(e,t,n){this.k=e,this.x=t,this.y=n}hn.prototype={constructor:hn,scale:function(e){return e===1?this:new hn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ml=new hn(1,0,0);hn.prototype;function gs(e){e.stopImmediatePropagation()}function Fl(e){e.preventDefault(),e.stopImmediatePropagation()}function l5(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function o5(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ec(){return this.__zoom||ml}function a5(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function s5(){return navigator.maxTouchPoints||"ontouchstart"in this}function i5(e,t,n){var l=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>l?(l+o)/2:Math.min(0,l)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function r5(){var e=l5,t=o5,n=i5,l=a5,o=s5,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],r=250,u=X_,f=ia("start","zoom","end"),d,p,_,w=500,C=150,m=0,A=10;function G(D){D.property("__zoom",Ec).on("wheel.zoom",ne,{passive:!1}).on("mousedown.zoom",ue).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",J).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",me).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}G.transform=function(D,F,W,oe){var re=D.selection?D.selection():D;re.property("__zoom",Ec),D!==re?H(D,F,W,oe):re.interrupt().each(function(){P(this,arguments).event(oe).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},G.scaleBy=function(D,F,W,oe){G.scaleTo(D,function(){var re=this.__zoom.k,B=typeof F=="function"?F.apply(this,arguments):F;return re*B},W,oe)},G.scaleTo=function(D,F,W,oe){G.transform(D,function(){var re=t.apply(this,arguments),B=this.__zoom,R=W==null?I(re):typeof W=="function"?W.apply(this,arguments):W,ie=B.invert(R),j=typeof F=="function"?F.apply(this,arguments):F;return n(x(M(B,j),R,ie),re,s)},W,oe)},G.translateBy=function(D,F,W,oe){G.transform(D,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),s)},null,oe)},G.translateTo=function(D,F,W,oe,re){G.transform(D,function(){var B=t.apply(this,arguments),R=this.__zoom,ie=oe==null?I(B):typeof oe=="function"?oe.apply(this,arguments):oe;return n(ml.translate(ie[0],ie[1]).scale(R.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof W=="function"?-W.apply(this,arguments):-W),B,s)},oe,re)};function M(D,F){return F=Math.max(a[0],Math.min(a[1],F)),F===D.k?D:new hn(F,D.x,D.y)}function x(D,F,W){var oe=F[0]-W[0]*D.k,re=F[1]-W[1]*D.k;return oe===D.x&&re===D.y?D:new hn(D.k,oe,re)}function I(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function H(D,F,W,oe){D.on("start.zoom",function(){P(this,arguments).event(oe).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(oe).end()}).tween("zoom",function(){var re=this,B=arguments,R=P(re,B).event(oe),ie=t.apply(re,B),j=W==null?I(ie):typeof W=="function"?W.apply(re,B):W,fe=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),se=re.__zoom,Se=typeof F=="function"?F.apply(re,B):F,Ie=u(se.invert(j).concat(fe/se.k),Se.invert(j).concat(fe/Se.k));return function(ye){if(ye===1)ye=Se;else{var he=Ie(ye),De=fe/he[2];ye=new hn(De,j[0]-he[0]*De,j[1]-he[1]*De)}R.zoom(null,ye)}})}function P(D,F,W){return!W&&D.__zooming||new ee(D,F)}function ee(D,F){this.that=D,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,F),this.taps=0}ee.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,F){return this.mouse&&D!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var F=jt(this.that).datum();f.call(D,this.that,new n5(D,{sourceEvent:this.sourceEvent,target:G,type:D,transform:this.that.__zoom,dispatch:f}),F)}};function ne(D,...F){if(!e.apply(this,arguments))return;var W=P(this,F).event(D),oe=this.__zoom,re=Math.max(a[0],Math.min(a[1],oe.k*Math.pow(2,l.apply(this,arguments)))),B=rn(D);if(W.wheel)(W.mouse[0][0]!==B[0]||W.mouse[0][1]!==B[1])&&(W.mouse[1]=oe.invert(W.mouse[0]=B)),clearTimeout(W.wheel);else{if(oe.k===re)return;W.mouse=[B,oe.invert(B)],Oo(this),W.start()}Fl(D),W.wheel=setTimeout(R,C),W.zoom("mouse",n(x(M(oe,re),W.mouse[0],W.mouse[1]),W.extent,s));function R(){W.wheel=null,W.end()}}function ue(D,...F){if(_||!e.apply(this,arguments))return;var W=D.currentTarget,oe=P(this,F,!0).event(D),re=jt(D.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",fe,!0),B=rn(D,W),R=D.clientX,ie=D.clientY;Ad(D.view),gs(D),oe.mouse=[B,this.__zoom.invert(B)],Oo(this),oe.start();function j(se){if(Fl(se),!oe.moved){var Se=se.clientX-R,Ie=se.clientY-ie;oe.moved=Se*Se+Ie*Ie>m}oe.event(se).zoom("mouse",n(x(oe.that.__zoom,oe.mouse[0]=rn(se,W),oe.mouse[1]),oe.extent,s))}function fe(se){re.on("mousemove.zoom mouseup.zoom",null),kd(se.view,oe.moved),Fl(se),oe.event(se).end()}}function $(D,...F){if(e.apply(this,arguments)){var W=this.__zoom,oe=rn(D.changedTouches?D.changedTouches[0]:D,this),re=W.invert(oe),B=W.k*(D.shiftKey?.5:2),R=n(x(M(W,B),oe,re),t.apply(this,F),s);Fl(D),r>0?jt(this).transition().duration(r).call(H,R,oe,D):jt(this).call(G.transform,R,oe,D)}}function J(D,...F){if(e.apply(this,arguments)){var W=D.touches,oe=W.length,re=P(this,F,D.changedTouches.length===oe).event(D),B,R,ie,j;for(gs(D),R=0;R<oe;++R)ie=W[R],j=rn(ie,this),j=[j,this.__zoom.invert(j),ie.identifier],re.touch0?!re.touch1&&re.touch0[2]!==j[2]&&(re.touch1=j,re.taps=0):(re.touch0=j,B=!0,re.taps=1+!!d);d&&(d=clearTimeout(d)),B&&(re.taps<2&&(p=j[0],d=setTimeout(function(){d=null},w)),Oo(this),re.start())}}function z(D,...F){if(this.__zooming){var W=P(this,F).event(D),oe=D.changedTouches,re=oe.length,B,R,ie,j;for(Fl(D),B=0;B<re;++B)R=oe[B],ie=rn(R,this),W.touch0&&W.touch0[2]===R.identifier?W.touch0[0]=ie:W.touch1&&W.touch1[2]===R.identifier&&(W.touch1[0]=ie);if(R=W.that.__zoom,W.touch1){var fe=W.touch0[0],se=W.touch0[1],Se=W.touch1[0],Ie=W.touch1[1],ye=(ye=Se[0]-fe[0])*ye+(ye=Se[1]-fe[1])*ye,he=(he=Ie[0]-se[0])*he+(he=Ie[1]-se[1])*he;R=M(R,Math.sqrt(ye/he)),ie=[(fe[0]+Se[0])/2,(fe[1]+Se[1])/2],j=[(se[0]+Ie[0])/2,(se[1]+Ie[1])/2]}else if(W.touch0)ie=W.touch0[0],j=W.touch0[1];else return;W.zoom("touch",n(x(R,ie,j),W.extent,s))}}function me(D,...F){if(this.__zooming){var W=P(this,F).event(D),oe=D.changedTouches,re=oe.length,B,R;for(gs(D),_&&clearTimeout(_),_=setTimeout(function(){_=null},w),B=0;B<re;++B)R=oe[B],W.touch0&&W.touch0[2]===R.identifier?delete W.touch0:W.touch1&&W.touch1[2]===R.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(R=rn(R,this),Math.hypot(p[0]-R[0],p[1]-R[1])<A)){var ie=jt(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return G.wheelDelta=function(D){return arguments.length?(l=typeof D=="function"?D:zo(+D),G):l},G.filter=function(D){return arguments.length?(e=typeof D=="function"?D:zo(!!D),G):e},G.touchable=function(D){return arguments.length?(o=typeof D=="function"?D:zo(!!D),G):o},G.extent=function(D){return arguments.length?(t=typeof D=="function"?D:zo([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),G):t},G.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],G):[a[0],a[1]]},G.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],G):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},G.constrain=function(D){return arguments.length?(n=D,G):n},G.duration=function(D){return arguments.length?(r=+D,G):r},G.interpolate=function(D){return arguments.length?(u=D,G):u},G.on=function(){var D=f.on.apply(f,arguments);return D===f?G:D},G.clickDistance=function(D){return arguments.length?(m=(D=+D)*D,G):Math.sqrt(m)},G.tapDistance=function(D){return arguments.length?(A=+D,G):A},G}var Ve=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Ve||{}),Ur=(e=>(e.Partial="partial",e.Full="full",e))(Ur||{}),Yn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Yn||{}),Kn=(e=>(e.Strict="strict",e.Loose="loose",e))(Kn||{}),qo=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(qo||{}),Xl=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Xl||{}),Fd=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Fd||{});function Dr(e){var t,n;const l=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof(l==null?void 0:l.hasAttribute)=="function"?l.hasAttribute("contenteditable"):!1,a=typeof(l==null?void 0:l.closest)=="function"?l.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(l==null?void 0:l.nodeName)||o||!!a}function u5(e){return e.ctrlKey||e.metaKey||e.shiftKey}function Gc(e,t,n,l){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();l||n.add(e.toLowerCase());const a=o.every((s,r)=>n.has(s)&&Array.from(n.values())[r]===o[r]);return l&&n.delete(e.toLowerCase()),a}function c5(e,t){return n=>{if(!n.code&&!n.key)return!1;const l=d5(n.code,e);return Array.isArray(e)?e.some(o=>Gc(n[l],o,t,n.type==="keyup")):Gc(n[l],e,t,n.type==="keyup")}}function d5(e,t){return t.includes(e)?"code":"key"}function Ol(e,t){const n=nt(()=>tt(t==null?void 0:t.actInsideInputWithModifier)??!1),l=nt(()=>tt(t==null?void 0:t.target)??window),o=v(tt(e)===!0);let a=!1;const s=new Set;let r=f(tt(e));Ke(()=>tt(e),(d,p)=>{typeof p=="boolean"&&typeof d!="boolean"&&u(),r=f(d)},{immediate:!0}),fd(["blur","contextmenu"],u),gc((...d)=>r(...d),d=>{a=u5(d),!((!a||a&&!n.value)&&Dr(d))&&(d.preventDefault(),o.value=!0)},{eventName:"keydown",target:l}),gc((...d)=>r(...d),d=>{if(o.value){if((!a||a&&!n.value)&&Dr(d))return;a=!1,o.value=!1}},{eventName:"keyup",target:l});function u(){a=!1,s.clear(),o.value=tt(e)===!0}function f(d){return d===null?(u(),()=>!1):typeof d=="boolean"?(u(),o.value=d,()=>!1):Array.isArray(d)||typeof d=="string"?c5(d,s):d}return o}const Yd="vue-flow__node-desc",$d="vue-flow__edge-desc",f5="vue-flow__aria-live",Td=["Enter"," ","Escape"],fl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Er(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Gr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),l=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*l)}function da(e){return{width:e.offsetWidth,height:e.offsetHeight}}function _n(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Xd(e,t){return{x:_n(e.x,t[0][0],t[1][0]),y:_n(e.y,t[0][1],t[1][1])}}function Mc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Nn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function On(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Nn(e)}function Tl(e){return On(e)&&"computedPosition"in e}function Ro(e){return!Number.isNaN(e)&&Number.isFinite(e)}function g5(e){return Ro(e.width)&&Ro(e.height)&&Ro(e.x)&&Ro(e.y)}function h5(e,t,n){const l={id:e.id.toString(),type:e.type??"default",dimensions:ul({width:0,height:0}),computedPosition:ul({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:_t(e.data)?e.data:{},events:ul(_t(e.events)?e.events:{})};return Object.assign(t??l,e,{id:e.id.toString(),parentNode:n})}function Od(e,t,n){var l,o;const a={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(l=e.sourceHandle)==null?void 0:l.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:_t(e.data)?e.data:{},events:ul(_t(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??a,e,{id:e.id.toString()})}function Hd(e,t,n,l){const o=typeof e=="string"?e:e.id,a=new Set,s=l==="source"?"target":"source";for(const r of n)r[s]===o&&a.add(r[l]);return t.filter(r=>a.has(r.id))}function p5(...e){if(e.length===3){const[a,s,r]=e;return Hd(a,s,r,"target")}const[t,n]=e,l=typeof t=="string"?t:t.id;return n.filter(a=>Nn(a)&&a.source===l).map(a=>n.find(s=>On(s)&&s.id===a.target))}function m5(...e){if(e.length===3){const[a,s,r]=e;return Hd(a,s,r,"source")}const[t,n]=e,l=typeof t=="string"?t:t.id;return n.filter(a=>Nn(a)&&a.target===l).map(a=>n.find(s=>On(s)&&s.id===a.source))}function Pd({source:e,sourceHandle:t,target:n,targetHandle:l}){return`vueflow__edge-${e}${t??""}-${n}${l??""}`}function v5(e,t){return t.some(n=>Nn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Kd({x:e,y:t},{x:n,y:l,zoom:o}){return{x:e*o+n,y:t*o+l}}function Ql({x:e,y:t},{x:n,y:l,zoom:o},a=!1,s=[1,1]){const r={x:(e-n)/o,y:(t-l)/o};return a?fa(r,s):r}function _5(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Ud({x:e,y:t,width:n,height:l}){return{x:e,y:t,x2:e+n,y2:t+l}}function y5({x:e,y:t,x2:n,y2:l}){return{x:e,y:t,width:n-e,height:l-t}}function Jd(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const l=e[n];t=_5(t,Ud({...l.computedPosition,...l.dimensions}))}return y5(t)}function jd(e,t,n={x:0,y:0,zoom:1},l=!1,o=!1){const a={...Ql(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const r of e){const{dimensions:u,selectable:f=!0,hidden:d=!1}=r,p=u.width??r.width??null,_=u.height??r.height??null;if(o&&!f||d)continue;const w=Gr(a,Er(r)),C=p===null||_===null,m=l&&w>0,A=(p??0)*(_??0);(C||m||w>=A||r.dragging)&&s.push(r)}return s}function Qd(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const l of e)n.add(l.id);return t.filter(l=>n.has(l.source)||n.has(l.target))}function Zc(e,t,n,l,o,a=.1,s={x:0,y:0}){const r=t/(e.width*(1+a)),u=n/(e.height*(1+a)),f=Math.min(r,u),d=_n(f,l,o),p=e.x+e.width/2,_=e.y+e.height/2,w=t/2-p*d+(s.x??0),C=n/2-_*d+(s.y??0);return{x:w,y:C,zoom:d}}function w5(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function qd(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:qd(n,t):!1}function ql(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(l=>`${l}=${e[l]}`).join("&")}`}function zc(e,t,n){return e<t?_n(Math.abs(e-t),1,t)/t:e>n?-_n(Math.abs(e-n),1,t)/t:0}function e0(e,t,n=15,l=40){const o=zc(e.x,l,t.width-l)*n,a=zc(e.y,l,t.height-l)*n;return[o,a]}function hs(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,l=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||l>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const a=Number(o.width.replace("px",""));o.width=`${a+n}px`}else o.width+=n;if(l>0)if(typeof o.height=="string"){const a=Number(o.height.replace("px",""));o.height=`${a+l}px`}else o.height+=l;if(e.position.x<0){const a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+a}px`}else o.width+=a;e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+a}px`}else o.height+=a;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=a=>{const s=t.style;return{...s(a),...o}}:t.style={...t.style,...o}}}}function Rc(e,t){var n,l;const o=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of o)if(s.type==="add")t.findIndex(u=>u.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const r=t.findIndex(u=>u.id===s.id);r!==-1&&t.splice(r,1)}const a=t.map(s=>s.id);for(const s of t)for(const r of e)if(r.id===s.id)switch(r.type){case"select":s.selected=r.selected;break;case"position":if(Tl(s)&&(typeof r.position<"u"&&(s.position=r.position),typeof r.dragging<"u"&&(s.dragging=r.dragging),s.expandParent&&s.parentNode)){const u=t[a.indexOf(s.parentNode)];u&&Tl(u)&&hs(s,u)}break;case"dimensions":if(Tl(s)&&(typeof r.dimensions<"u"&&(s.dimensions=r.dimensions),typeof r.updateStyle<"u"&&r.updateStyle&&(s.style={...s.style||{},width:`${(n=r.dimensions)==null?void 0:n.width}px`,height:`${(l=r.dimensions)==null?void 0:l.height}px`}),typeof r.resizing<"u"&&(s.resizing=r.resizing),s.expandParent&&s.parentNode)){const u=t[a.indexOf(s.parentNode)];u&&Tl(u)&&(!!u.dimensions.width&&!!u.dimensions.height?hs(s,u):Ft(()=>{hs(s,u)}))}break}return t}function xn(e,t){return{id:e,type:"select",selected:t}}function Wc(e){return{item:e,type:"add"}}function Lc(e){return{id:e,type:"remove"}}function Bc(e,t,n,l,o){return{id:e,source:t,target:n,sourceHandle:l||null,targetHandle:o||null,type:"remove"}}function kn(e,t=new Set,n=!1){const l=[];for(const[o,a]of e){const s=t.has(o);!(a.selected===void 0&&!s)&&a.selected!==s&&(n&&(a.selected=s),l.push(xn(a.id,s)))}return l}function Ae(e){const t=new Set;let n=!1;const l=()=>t.size>0;e&&(n=!0,t.add(e));const o=r=>{t.delete(r)};return{on:r=>{e&&n&&t.delete(e),t.add(r);const u=()=>{o(r),e&&n&&t.add(e)};return sa(u),{off:u}},off:o,trigger:r=>Promise.all(Array.from(t).map(u=>u(r))),hasListeners:l,fns:t}}function Fc(e,t,n){let l=e;do{if(l&&l.matches(t))return!0;if(l===n)return!1;l=l.parentElement}while(l);return!1}function b5(e,t,n,l,o){var a,s;const r=[];for(const u of e)(u.selected||u.id===o)&&(!u.parentNode||!qd(u,l))&&(u.draggable||t&&typeof u.draggable>"u")&&r.push(ul({id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((a=u.computedPosition)==null?void 0:a.x)||0,y:n.y-((s=u.computedPosition)==null?void 0:s.y)||0},from:u.computedPosition,extent:u.extent,parentNode:u.parentNode,dimensions:u.dimensions,expandParent:u.expandParent}));return r}function ps({id:e,dragItems:t,findNode:n}){const l=[];for(const o of t){const a=n(o.id);a&&l.push(a)}return[e?l.find(o=>o.id===e):l[0],l]}function t0(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function C5(e,t,n){const[l,o,a,s]=typeof e!="string"?t0(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+l],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-a]]:!1}function I5(e,t,n,l){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&(o==null?void 0:o.range)==="parent")&&!e.expandParent)if(e.parentNode&&l&&e.dimensions.width&&e.dimensions.height){const a=C5(o,e,l);a&&(o=a)}else t(new Ct(yt.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const a=(l==null?void 0:l.computedPosition.x)||0,s=(l==null?void 0:l.computedPosition.y)||0;o=[[o[0][0]+a,o[0][1]+s],[o[1][0]+a,o[1][1]+s]]}else if(o!=="parent"&&(o!=null&&o.range)&&Array.isArray(o.range)){const[a,s,r,u]=t0(o.padding),f=(l==null?void 0:l.computedPosition.x)||0,d=(l==null?void 0:l.computedPosition.y)||0;o=[[o.range[0][0]+f+u,o.range[0][1]+d+a],[o.range[1][0]+f-s,o.range[1][1]+d-r]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function x5({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Jr(e,t,n,l,o){const a=x5(e.dimensions,I5(e,n,l,o)),s=Xd(t,a);return{position:{x:s.x-((o==null?void 0:o.computedPosition.x)||0),y:s.y-((o==null?void 0:o.computedPosition.y)||0)},computedPosition:s}}function ea(e,t,n=Ve.Left){const l=((t==null?void 0:t.x)??0)+e.computedPosition.x,o=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:a,height:s}=t??S5(e);switch((t==null?void 0:t.position)??n){case Ve.Top:return{x:l+a/2,y:o};case Ve.Right:return{x:l+a,y:o+s/2};case Ve.Bottom:return{x:l+a/2,y:o+s};case Ve.Left:return{x:l,y:o+s/2}}}function Yc(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function A5({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:l,targetWidth:o,targetHeight:a,width:s,height:r,viewport:u}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+l,t.y+a)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const d=Ud({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:s/u.zoom,height:r/u.zoom}),p=Math.max(0,Math.min(d.x2,f.x2)-Math.max(d.x,f.x)),_=Math.max(0,Math.min(d.y2,f.y2)-Math.max(d.y,f.y));return Math.ceil(p*_)>0}function k5(e,t,n=!1){const l=typeof e.zIndex=="number";let o=l?e.zIndex:0;const a=t(e.source),s=t(e.target);return!a||!s?0:(n&&(o=l?e.zIndex:Math.max(a.computedPosition.z||0,s.computedPosition.z||0)),o)}var yt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(yt||{});const $c={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ct extends Error{constructor(t,...n){var l;super((l=$c[t])==null?void 0:l.call($c,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function jr(e){return"clientX"in e}function n0(e){return"sourceEvent"in e}function mn(e,t){var n,l;const o=jr(e),a=o?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,s=o?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:a-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}}const ta=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function S5(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function fa(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}function l0(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function ms(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Tc(e,t,n,l){const o=[];for(const a of t[n]||[])if(`${e.id}-${a.id}-${n}`!==l){const{x:s,y:r}=ea(e,a);o.push({id:a.id||null,type:n,nodeId:e.id,x:s,y:r})}return o}function N5(e,t,n,l,o,a){const{x:s,y:r}=mn(e),f=t.elementsFromPoint(s,r).find(C=>C.classList.contains("vue-flow__handle"));if(f){const C=f.getAttribute("data-nodeid");if(C){const m=Qr(void 0,f),A=f.getAttribute("data-handleid"),G=a({nodeId:C,id:A,type:m});if(G){const M=o.find(x=>x.nodeId===C&&x.type===m&&x.id===A);return{handle:{id:A,type:m,nodeId:C,x:(M==null?void 0:M.x)||n.x,y:(M==null?void 0:M.y)||n.y},validHandleResult:G}}}}let d=[],p=Number.POSITIVE_INFINITY;for(const C of o){const m=Math.sqrt((C.x-n.x)**2+(C.y-n.y)**2);if(m<=l){const A=a(C);m<=p&&(m<p?d=[{handle:C,validHandleResult:A}]:m===p&&d.push({handle:C,validHandleResult:A}),p=m)}}if(!d.length)return{handle:null,validHandleResult:l0()};if(d.length===1)return d[0];const _=d.some(({validHandleResult:C})=>C.isValid),w=d.some(({handle:C})=>C.type==="target");return d.find(({handle:C,validHandleResult:m})=>w?C.type==="target":_?m.isValid:!0)||d[0]}function Xc(e,t,n,l,o,a,s,r,u,f,d){const p=a==="target",_=r.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:w,y:C}=mn(e),m=r.elementFromPoint(w,C),A=m!=null&&m.classList.contains("vue-flow__handle")?m:_,G=l0();if(A){G.handleDomNode=A;const M=Qr(void 0,A),x=A.getAttribute("data-nodeid"),I=A.getAttribute("data-handleid"),H=A.classList.contains("connectable"),P=A.classList.contains("connectableend"),ee={source:p?x:l,sourceHandle:p?I:o,target:p?l:x,targetHandle:p?o:I};G.connection=ee,H&&P&&(n===Kn.Strict?p&&M==="source"||!p&&M==="target":x!==l||I!==o)&&(G.isValid=s(ee,{edges:u,nodes:f,sourceNode:d(ee.source),targetNode:d(ee.target)}),G.endHandle={nodeId:x,handleId:I,type:M,position:G.isValid?A.getAttribute("data-handlepos"):null})}return G}function V5({nodes:e,nodeId:t,handleId:n,handleType:l}){const o=[];for(let a=0;a<e.length;a++){const s=e[a],{handleBounds:r}=s;let u=[],f=[];r&&(u=Tc(s,r,"source",`${t}-${n}-${l}`),f=Tc(s,r,"target",`${t}-${n}-${l}`)),o.push(...u,...f)}return o}function Qr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function D5(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const E5=["production","prod"];function ga(e,...t){o0()&&console.warn(`[Vue Flow]: ${e}`,...t)}function o0(){return!E5.includes("production")}function Oc(e,t,n,l){const o=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(o).map(s=>{const r=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),x:(r.left-n.left)/l,y:(r.top-n.top)/l,...da(s)}})}function Mr(e,t,n,l,o,a=!1,s){o.value=!1,e.selected?(a||e.selected&&t)&&(l([e]),Ft(()=>{s.blur()})):n([e])}function _t(e){return typeof T(e)<"u"}function G5(e,t,n,l){if(!e||!e.source||!e.target)return n(new Ct(yt.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let o;return Nn(e)?o=e:o={...e,id:Pd(e)},o=Od(o,void 0,l),v5(o,t)?!1:o}function M5(e,t,n,l,o){if(!t.source||!t.target)return o(new Ct(yt.EDGE_INVALID,e.id)),!1;if(!n)return o(new Ct(yt.EDGE_NOT_FOUND,e.id)),!1;const{id:a,...s}=e;return{...s,id:l?Pd(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Hc(e,t,n){const l={},o=[];for(let a=0;a<e.length;++a){const s=e[a];if(!On(s)){n(new Ct(yt.NODE_INVALID,s==null?void 0:s.id)||`[ID UNKNOWN|INDEX ${a}]`);continue}const r=h5(s,t(s.id),s.parentNode);s.parentNode&&(l[s.parentNode]=!0),o[a]=r}for(const a of o){const s=t(a.parentNode)||o.find(r=>r.id===a.parentNode);a.parentNode&&!s&&n(new Ct(yt.NODE_MISSING_PARENT,a.id,a.parentNode)),(a.parentNode||l[a.id])&&(l[a.id]&&(a.isParent=!0),s&&(s.isParent=!0))}return o}function vs(e,t){e.clear();for(const n of t){const{id:l,source:o,target:a,sourceHandle:s=null,targetHandle:r=null}=n,u=`${o}-source-${s}`,f=`${a}-target-${r}`,d=e.get(u)||new Map,p=e.get(f)||new Map,_=ul({edgeId:l,source:o,target:a,sourceHandle:s,targetHandle:r});e.set(u,d.set(`${a}-${r}`,_)),e.set(f,p.set(`${o}-${s}`,_))}}function _s(e,t,n,l,o,a,s,r){const u=[];for(const f of e){const d=Nn(f)?f:G5(f,r,o,a);if(!d)continue;const p=n(d.source),_=n(d.target);if(!p||!_){o(new Ct(yt.EDGE_SOURCE_TARGET_MISSING,d.id,d.source,d.target));continue}if(!p){o(new Ct(yt.EDGE_SOURCE_MISSING,d.id,d.source));continue}if(!_){o(new Ct(yt.EDGE_TARGET_MISSING,d.id,d.target));continue}if(t&&!t(d,{edges:r,nodes:s,sourceNode:p,targetNode:_})){o(new Ct(yt.EDGE_INVALID,d.id));continue}const w=l(d.id);u.push({...Od(d,w,a),sourceNode:p,targetNode:_})}return u}const Pc=Symbol("vueFlow"),qr=Symbol("nodeId"),a0=Symbol("nodeRef"),Z5=Symbol("edgeId"),z5=Symbol("edgeRef"),ha=Symbol("slots");function s0(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:l,noDragClassName:o,nodes:a,nodeExtent:s,nodeDragThreshold:r,viewport:u,autoPanOnNodeDrag:f,autoPanSpeed:d,nodesDraggable:p,panBy:_,findNode:w,multiSelectionActive:C,nodesSelectionActive:m,selectNodesOnDrag:A,removeSelectedElements:G,addSelectedNodes:M,updateNodePositions:x,emits:I}=et(),{onStart:H,onDrag:P,onStop:ee,onClick:ne,el:ue,disabled:$,id:J,selectable:z,dragHandle:me}=e,D=v(!1);let F=[],W,oe=null,re={x:void 0,y:void 0},B={x:0,y:0},R=null,ie=!1,j=0,fe=!1;const se=i0(),Se=({x:Y,y:K})=>{re={x:Y,y:K};let pe=!1;if(F=F.map(S=>{const k={x:Y-S.distance.x,y:K-S.distance.y},{computedPosition:N}=Jr(S,n.value?fa(k,l.value):k,I.error,s.value,S.parentNode?w(S.parentNode):void 0);return pe=pe||S.position.x!==N.x||S.position.y!==N.y,S.position=N,S}),!!pe&&(x(F,!0,!0),D.value=!0,R)){const[S,k]=ps({id:J,dragItems:F,findNode:w});P({event:R,node:S,nodes:k})}},Ie=()=>{if(!oe)return;const[Y,K]=e0(B,oe,d.value);if(Y!==0||K!==0){const pe={x:(re.x??0)-Y/u.value.zoom,y:(re.y??0)-K/u.value.zoom};_({x:Y,y:K})&&Se(pe)}j=requestAnimationFrame(Ie)},ye=(Y,K)=>{ie=!0;const pe=w(J);!A.value&&!C.value&&pe&&(pe.selected||G()),pe&&tt(z)&&A.value&&Mr(pe,C.value,M,G,m,!1,K);const S=se(Y.sourceEvent);if(re=S,F=b5(a.value,p.value,S,w,J),F.length){const[k,N]=ps({id:J,dragItems:F,findNode:w});H({event:Y.sourceEvent,node:k,nodes:N})}},he=(Y,K)=>{var pe;Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||(r.value===0&&ye(Y,K),re=se(Y.sourceEvent),oe=((pe=t.value)==null?void 0:pe.getBoundingClientRect())||null,B=mn(Y.sourceEvent,oe))},De=(Y,K)=>{const pe=se(Y.sourceEvent);if(!fe&&ie&&f.value&&(fe=!0,Ie()),!ie){const S=pe.xSnapped-(re.x??0),k=pe.ySnapped-(re.y??0);Math.sqrt(S*S+k*k)>r.value&&ye(Y,K)}(re.x!==pe.xSnapped||re.y!==pe.ySnapped)&&F.length&&ie&&(R=Y.sourceEvent,B=mn(Y.sourceEvent,oe),Se(pe))},Ce=Y=>{if(!n0(Y)&&!ie&&!D.value&&!C.value){const K=Y,pe=se(K),S=pe.xSnapped-(re.x??0),k=pe.ySnapped-(re.y??0),N=Math.sqrt(S*S+k*k);N!==0&&N<=r.value&&(ne==null||ne(K));return}if(D.value=!1,fe=!1,ie=!1,re={x:void 0,y:void 0},cancelAnimationFrame(j),F.length){x(F,!1,!1);const[K,pe]=ps({id:J,dragItems:F,findNode:w});ee({event:Y.sourceEvent,node:K,nodes:pe})}};return Ke([()=>tt($),ue],([Y,K],pe,S)=>{if(K){const k=jt(K);Y||(W=__().on("start",N=>he(N,K)).on("drag",N=>De(N,K)).on("end",N=>Ce(N)).filter(N=>{const E=N.target,X=tt(me);return!N.button&&(!o.value||!Fc(E,`.${o.value}`,K)&&(!X||Fc(E,X,K)))}),k.call(W)),S(()=>{k.on(".drag",null),W&&(W.on("start",null),W.on("drag",null),W.on("end",null))})}}),D}function R5(){return{doubleClick:Ae(),click:Ae(),mouseEnter:Ae(),mouseMove:Ae(),mouseLeave:Ae(),contextMenu:Ae(),updateStart:Ae(),update:Ae(),updateEnd:Ae()}}function W5(e,t){const n=R5();return n.doubleClick.on(l=>{var o,a;t.edgeDoubleClick(l),(a=(o=e.events)==null?void 0:o.doubleClick)==null||a.call(o,l)}),n.click.on(l=>{var o,a;t.edgeClick(l),(a=(o=e.events)==null?void 0:o.click)==null||a.call(o,l)}),n.mouseEnter.on(l=>{var o,a;t.edgeMouseEnter(l),(a=(o=e.events)==null?void 0:o.mouseEnter)==null||a.call(o,l)}),n.mouseMove.on(l=>{var o,a;t.edgeMouseMove(l),(a=(o=e.events)==null?void 0:o.mouseMove)==null||a.call(o,l)}),n.mouseLeave.on(l=>{var o,a;t.edgeMouseLeave(l),(a=(o=e.events)==null?void 0:o.mouseLeave)==null||a.call(o,l)}),n.contextMenu.on(l=>{var o,a;t.edgeContextMenu(l),(a=(o=e.events)==null?void 0:o.contextMenu)==null||a.call(o,l)}),n.updateStart.on(l=>{var o,a;t.edgeUpdateStart(l),(a=(o=e.events)==null?void 0:o.updateStart)==null||a.call(o,l)}),n.update.on(l=>{var o,a;t.edgeUpdate(l),(a=(o=e.events)==null?void 0:o.update)==null||a.call(o,l)}),n.updateEnd.on(l=>{var o,a;t.edgeUpdateEnd(l),(a=(o=e.events)==null?void 0:o.updateEnd)==null||a.call(o,l)}),Object.entries(n).reduce((l,[o,a])=>(l.emit[o]=a.trigger,l.on[o]=a.on,l),{emit:{},on:{}})}function i0(){const{viewport:e,snapGrid:t,snapToGrid:n}=et();return l=>{const o=n0(l)?l.sourceEvent:l,{x:a,y:s}=mn(o),r=Ql({x:a,y:s},e.value),{x:u,y:f}=n.value?fa(r,t.value):r;return{xSnapped:u,ySnapped:f,...r}}}function Wo(){return!0}function r0({handleId:e,nodeId:t,type:n,isValidConnection:l,edgeUpdaterType:o,onEdgeUpdate:a,onEdgeUpdateEnd:s}){const{vueFlowRef:r,connectionMode:u,connectionRadius:f,connectOnClick:d,connectionClickStartHandle:p,nodesConnectable:_,autoPanOnConnect:w,autoPanSpeed:C,findNode:m,panBy:A,startConnection:G,updateConnection:M,endConnection:x,emits:I,viewport:H,edges:P,nodes:ee,isValidConnection:ne}=et();let ue=null,$=!1,J=null,z=null;function me(F){var W;const oe=tt(n)==="target",re=jr(F),B=Mc(F.target);if(re&&F.button===0||!re){let R=function(N){K=mn(N,Ce);const{handle:E,validHandleResult:X}=N5(N,B,Ql(K,H.value,!1,[1,1]),f.value,S,we=>Xc(N,we,u.value,tt(t),tt(e),oe?"target":"source",fe,B,P.value,ee.value,m));if(se=E,pe||(k(),pe=!0),ue=X.connection,$=X.isValid,J=X.handleDomNode,!($&&se&&(z!=null&&z.endHandle)&&X.endHandle&&z.endHandle.type===X.endHandle.type&&z.endHandle.nodeId===X.endHandle.nodeId&&z.endHandle.handleId===X.endHandle.handleId)){if(M(se&&$?Kd({x:se.x,y:se.y},H.value):K,X.endHandle,D5(!!se,$)),z=X,!se&&!$&&!J)return ms(Y);ue&&ue.source!==ue.target&&J&&(ms(Y),Y=J,J.classList.add("connecting","vue-flow__handle-connecting"),J.classList.toggle("valid",$),J.classList.toggle("vue-flow__handle-valid",$))}},ie=function(N){(se||J)&&ue&&$&&(a?a(N,ue):I.connect(ue)),I.connectEnd(N),o&&(s==null||s(N)),ms(Y),cancelAnimationFrame(Se),x(N),pe=!1,$=!1,ue=null,J=null,B.removeEventListener("mousemove",R),B.removeEventListener("mouseup",ie),B.removeEventListener("touchmove",R),B.removeEventListener("touchend",ie)};const j=m(tt(t));let fe=tt(l)||ne.value||Wo;!fe&&j&&(fe=(oe?j.isValidSourcePos:j.isValidTargetPos)||Wo);let se,Se=0;const{x:Ie,y:ye}=mn(F),he=B==null?void 0:B.elementFromPoint(Ie,ye),De=Qr(tt(o),he),Ce=(W=r.value)==null?void 0:W.getBoundingClientRect();if(!Ce||!De)return;let Y,K=mn(F,Ce),pe=!1;const S=V5({nodes:ee.value,nodeId:tt(t),handleId:tt(e),handleType:De}),k=()=>{if(!w.value)return;const[N,E]=e0(K,Ce,C.value);A({x:N,y:E}),Se=requestAnimationFrame(k)};G({nodeId:tt(t),handleId:tt(e),type:De,position:(he==null?void 0:he.getAttribute("data-handlepos"))||Ve.Top},{x:Ie-Ce.left,y:ye-Ce.top}),I.connectStart({event:F,nodeId:tt(t),handleId:tt(e),handleType:De}),B.addEventListener("mousemove",R),B.addEventListener("mouseup",ie),B.addEventListener("touchmove",R),B.addEventListener("touchend",ie)}}function D(F){if(!d.value)return;const W=tt(n)==="target";if(!p.value)I.clickConnectStart({event:F,nodeId:tt(t),handleId:tt(e)}),G({nodeId:tt(t),type:tt(n),handleId:tt(e)},void 0,!0);else{let oe=tt(l)||ne.value||Wo;const re=m(tt(t));if(!oe&&re&&(oe=(W?re.isValidSourcePos:re.isValidTargetPos)||Wo),re&&(typeof re.connectable>"u"?_.value:re.connectable)===!1)return;const B=Mc(F.target),{connection:R,isValid:ie}=Xc(F,{nodeId:tt(t),id:tt(e),type:tt(n)},u.value,p.value.nodeId,p.value.handleId||null,p.value.type,oe,B,P.value,ee.value,m),j=R.source===R.target;ie&&!j&&I.connect(R),I.clickConnectEnd(F),x(F,!0)}}return{handlePointerDown:me,handleClick:D}}function L5(){return Vn(qr,"")}function u0(e){const t=e??L5()??"",n=Vn(a0,v(null)),{findNode:l,edges:o,emits:a}=et(),s=l(t);return s||a.error(new Ct(yt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:We(()=>l(s.parentNode)),connectedEdges:We(()=>Qd([s],o.value))}}function B5(){return{doubleClick:Ae(),click:Ae(),mouseEnter:Ae(),mouseMove:Ae(),mouseLeave:Ae(),contextMenu:Ae(),dragStart:Ae(),drag:Ae(),dragStop:Ae()}}function F5(e,t){const n=B5();return n.doubleClick.on(l=>{var o,a;t.nodeDoubleClick(l),(a=(o=e.events)==null?void 0:o.doubleClick)==null||a.call(o,l)}),n.click.on(l=>{var o,a;t.nodeClick(l),(a=(o=e.events)==null?void 0:o.click)==null||a.call(o,l)}),n.mouseEnter.on(l=>{var o,a;t.nodeMouseEnter(l),(a=(o=e.events)==null?void 0:o.mouseEnter)==null||a.call(o,l)}),n.mouseMove.on(l=>{var o,a;t.nodeMouseMove(l),(a=(o=e.events)==null?void 0:o.mouseMove)==null||a.call(o,l)}),n.mouseLeave.on(l=>{var o,a;t.nodeMouseLeave(l),(a=(o=e.events)==null?void 0:o.mouseLeave)==null||a.call(o,l)}),n.contextMenu.on(l=>{var o,a;t.nodeContextMenu(l),(a=(o=e.events)==null?void 0:o.contextMenu)==null||a.call(o,l)}),n.dragStart.on(l=>{var o,a;t.nodeDragStart(l),(a=(o=e.events)==null?void 0:o.dragStart)==null||a.call(o,l)}),n.drag.on(l=>{var o,a;t.nodeDrag(l),(a=(o=e.events)==null?void 0:o.drag)==null||a.call(o,l)}),n.dragStop.on(l=>{var o,a;t.nodeDragStop(l),(a=(o=e.events)==null?void 0:o.dragStop)==null||a.call(o,l)}),Object.entries(n).reduce((l,[o,a])=>(l.emit[o]=a.trigger,l.on[o]=a.on,l),{emit:{},on:{}})}function c0(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:l,snapGrid:o,snapToGrid:a,nodesDraggable:s,emits:r}=et();return(u,f=!1)=>{const d=a.value?o.value[0]:5,p=a.value?o.value[1]:5,_=f?4:1,w=u.x*d*_,C=u.y*p*_,m=[];for(const A of e.value)if(A.draggable||s&&typeof A.draggable>"u"){const G={x:A.computedPosition.x+w,y:A.computedPosition.y+C},{computedPosition:M}=Jr(A,G,r.error,t.value,A.parentNode?l(A.parentNode):void 0);m.push({id:A.id,position:M,from:A.position,distance:{x:u.x,y:u.y},dimensions:A.dimensions})}n(m,!0,!1)}}const ys=.1;function In(){return ga("Viewport not initialized yet."),Promise.resolve(!1)}const Y5={zoomIn:In,zoomOut:In,zoomTo:In,fitView:In,setCenter:In,fitBounds:In,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:In,setTransform:In,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function $5(e){function t(l,o){return new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(ws(e.d3Selection,o,()=>{a(!0)}),l):a(!1)})}function n(l,o,a,s){return new Promise(r=>{const{x:u,y:f}=Xd({x:-l,y:-o},e.translateExtent),d=ml.translate(-u,-f).scale(a);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(ws(e.d3Selection,s,()=>{r(!0)}),d):r(!1)})}return We(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o==null?void 0:o.duration),zoomOut:o=>t(1/1.2,o==null?void 0:o.duration),zoomTo:(o,a)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(ws(e.d3Selection,a==null?void 0:a.duration,()=>{s(!0)}),o):s(!1)}),setViewport:(o,a)=>n(o.x,o.y,o.zoom,a==null?void 0:a.duration),setTransform:(o,a)=>n(o.x,o.y,o.zoom,a==null?void 0:a.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:ys,includeHiddenNodes:!1,duration:0})=>{var a,s;const r=[];for(const _ of e.nodes)_.dimensions.width&&_.dimensions.height&&((o==null?void 0:o.includeHiddenNodes)||!_.hidden)&&(!((a=o.nodes)!=null&&a.length)||(s=o.nodes)!=null&&s.length&&o.nodes.includes(_.id))&&r.push(_);if(!r.length)return Promise.resolve(!1);const u=Jd(r),{x:f,y:d,zoom:p}=Zc(u,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??ys,o.offset);return n(f,d,p,o==null?void 0:o.duration)},setCenter:(o,a,s)=>{const r=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:e.maxZoom,u=e.dimensions.width/2-o*r,f=e.dimensions.height/2-a*r;return n(u,f,r,s==null?void 0:s.duration)},fitBounds:(o,a={padding:ys})=>{const{x:s,y:r,zoom:u}=Zc(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,a.padding);return n(s,r,u,a==null?void 0:a.duration)},project:o=>Ql(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:a,y:s}=e.vueFlowRef.getBoundingClientRect(),r={x:o.x-a,y:o.y-s};return Ql(r,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:a,y:s}=e.vueFlowRef.getBoundingClientRect(),r={x:o.x+a,y:o.y+s};return Kd(r,e.viewport)}return{x:0,y:0}}}:Y5)}function ws(e,t=0,n){return e.transition().duration(t).on("end",n)}function T5(e,t,n){const l=ad(!0);return l.run(()=>{const o=()=>{l.run(()=>{let m,A,G=!!(n.nodes.value.length||n.edges.value.length);m=rl([e.modelValue,()=>{var M,x;return(x=(M=e.modelValue)==null?void 0:M.value)==null?void 0:x.length}],([M])=>{M&&Array.isArray(M)&&(A==null||A.pause(),n.setElements(M),!A&&!G&&M.length?G=!0:A==null||A.resume())}),A=rl([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([M,x])=>{var I;(I=e.modelValue)!=null&&I.value&&Array.isArray(e.modelValue.value)&&(m==null||m.pause(),e.modelValue.value=[...M,...x],Ft(()=>{m==null||m.resume()}))},{immediate:G}),Fo(()=>{m==null||m.stop(),A==null||A.stop()})})},a=()=>{l.run(()=>{let m,A,G=!!n.nodes.value.length;m=rl([e.nodes,()=>{var M,x;return(x=(M=e.nodes)==null?void 0:M.value)==null?void 0:x.length}],([M])=>{M&&Array.isArray(M)&&(A==null||A.pause(),n.setNodes(M),!A&&!G&&M.length?G=!0:A==null||A.resume())}),A=rl([n.nodes,()=>n.nodes.value.length],([M])=>{var x;(x=e.nodes)!=null&&x.value&&Array.isArray(e.nodes.value)&&(m==null||m.pause(),e.nodes.value=[...M],Ft(()=>{m==null||m.resume()}))},{immediate:G}),Fo(()=>{m==null||m.stop(),A==null||A.stop()})})},s=()=>{l.run(()=>{let m,A,G=!!n.edges.value.length;m=rl([e.edges,()=>{var M,x;return(x=(M=e.edges)==null?void 0:M.value)==null?void 0:x.length}],([M])=>{M&&Array.isArray(M)&&(A==null||A.pause(),n.setEdges(M),!A&&!G&&M.length?G=!0:A==null||A.resume())}),A=rl([n.edges,()=>n.edges.value.length],([M])=>{var x;(x=e.edges)!=null&&x.value&&Array.isArray(e.edges.value)&&(m==null||m.pause(),e.edges.value=[...M],Ft(()=>{m==null||m.resume()}))},{immediate:G}),Fo(()=>{m==null||m.stop(),A==null||A.stop()})})},r=()=>{l.run(()=>{Ke(()=>t.maxZoom,()=>{t.maxZoom&&_t(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{l.run(()=>{Ke(()=>t.minZoom,()=>{t.minZoom&&_t(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},f=()=>{l.run(()=>{Ke(()=>t.translateExtent,()=>{t.translateExtent&&_t(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},d=()=>{l.run(()=>{Ke(()=>t.nodeExtent,()=>{t.nodeExtent&&_t(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},p=()=>{l.run(()=>{Ke(()=>t.applyDefault,()=>{_t(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},_=()=>{l.run(()=>{const m=async A=>{let G=A;typeof t.autoConnect=="function"&&(G=await t.autoConnect(A)),G!==!1&&n.addEdges([G])};Ke(()=>t.autoConnect,()=>{_t(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ke(n.autoConnect,(A,G,M)=>{A?n.onConnect(m):n.hooks.value.connect.off(m),M(()=>{n.hooks.value.connect.off(m)})},{immediate:!0})})},w=()=>{const m=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const A of Object.keys(t)){const G=A;if(!m.includes(G)){const M=nt(()=>t[G]),x=n[G];Wr(x)&&l.run(()=>{Ke(M,I=>{_t(I)&&(x.value=I)},{immediate:!0})})}}};(()=>{o(),a(),s(),u(),r(),f(),d(),p(),_(),w()})()}),()=>l.stop()}function X5(){return{edgesChange:Ae(),nodesChange:Ae(),nodeDoubleClick:Ae(),nodeClick:Ae(),nodeMouseEnter:Ae(),nodeMouseMove:Ae(),nodeMouseLeave:Ae(),nodeContextMenu:Ae(),nodeDragStart:Ae(),nodeDrag:Ae(),nodeDragStop:Ae(),nodesInitialized:Ae(),miniMapNodeClick:Ae(),miniMapNodeDoubleClick:Ae(),miniMapNodeMouseEnter:Ae(),miniMapNodeMouseMove:Ae(),miniMapNodeMouseLeave:Ae(),connect:Ae(),connectStart:Ae(),connectEnd:Ae(),clickConnectStart:Ae(),clickConnectEnd:Ae(),paneReady:Ae(),init:Ae(),move:Ae(),moveStart:Ae(),moveEnd:Ae(),selectionDragStart:Ae(),selectionDrag:Ae(),selectionDragStop:Ae(),selectionContextMenu:Ae(),selectionStart:Ae(),selectionEnd:Ae(),viewportChangeStart:Ae(),viewportChange:Ae(),viewportChangeEnd:Ae(),paneScroll:Ae(),paneClick:Ae(),paneContextMenu:Ae(),paneMouseEnter:Ae(),paneMouseMove:Ae(),paneMouseLeave:Ae(),edgeContextMenu:Ae(),edgeMouseEnter:Ae(),edgeMouseMove:Ae(),edgeMouseLeave:Ae(),edgeDoubleClick:Ae(),edgeClick:Ae(),edgeUpdateStart:Ae(),edgeUpdate:Ae(),edgeUpdateEnd:Ae(),updateNodeInternals:Ae(),error:Ae(e=>ga(e.message))}}function O5(e,t){K2(()=>{for(const[n,l]of Object.entries(t.value)){const o=a=>{e(n,a)};l.fns.add(o),sa(()=>{l.off(o)})}})}function d0(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Ur.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Xl.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Yn.Bezier,style:{}},connectionMode:Kn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:ta()?"Meta":"Control",zoomActivationKeyCode:ta()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:X5(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const H5=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function P5(e,t,n){const l=$5(e),o=S=>{const k=S??[];e.hooks.updateNodeInternals.trigger(k)},a=S=>m5(S,e.nodes,e.edges),s=S=>p5(S,e.nodes,e.edges),r=S=>Qd(S,e.edges),u=({id:S,type:k,nodeId:N})=>{var E;return Array.from(((E=e.connectionLookup.get(`${N}-${k}-${S??null}`))==null?void 0:E.values())??[])},f=S=>{if(S)return t.value.get(S)},d=S=>{if(S)return n.value.get(S)},p=(S,k,N)=>{var E,X;const we=[];for(const xe of S){const Me={id:xe.id,type:"position",dragging:N,from:xe.from};if(k&&(Me.position=xe.position,xe.parentNode)){const Ge=f(xe.parentNode);Me.position={x:Me.position.x-(((E=Ge==null?void 0:Ge.computedPosition)==null?void 0:E.x)??0),y:Me.position.y-(((X=Ge==null?void 0:Ge.computedPosition)==null?void 0:X.y)??0)}}we.push(Me)}we!=null&&we.length&&e.hooks.nodesChange.trigger(we)},_=S=>{if(!e.vueFlowRef)return;const k=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!k)return;const N=window.getComputedStyle(k),{m22:E}=new window.DOMMatrixReadOnly(N.transform),X=[];for(let we=0;we<S.length;++we){const xe=S[we],Me=f(xe.id);if(Me){const Ge=da(xe.nodeElement);if(!!(Ge.width&&Ge.height&&(Me.dimensions.width!==Ge.width||Me.dimensions.height!==Ge.height||xe.forceUpdate))){const O=xe.nodeElement.getBoundingClientRect();Me.dimensions=Ge,Me.handleBounds.source=Oc(".source",xe.nodeElement,O,E),Me.handleBounds.target=Oc(".target",xe.nodeElement,O,E),X.push({id:Me.id,type:"dimensions",dimensions:Ge})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&l.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),X.length&&e.hooks.nodesChange.trigger(X)},w=(S,k)=>{const N=new Set,E=new Set;for(const xe of S)On(xe)?N.add(xe.id):Nn(xe)&&E.add(xe.id);const X=kn(t.value,N,!0),we=kn(n.value,E);if(e.multiSelectionActive){for(const xe of N)X.push(xn(xe,k));for(const xe of E)we.push(xn(xe,k))}X.length&&e.hooks.nodesChange.trigger(X),we.length&&e.hooks.edgesChange.trigger(we)},C=S=>{if(e.multiSelectionActive){const k=S.map(N=>xn(N.id,!0));e.hooks.nodesChange.trigger(k);return}e.hooks.nodesChange.trigger(kn(t.value,new Set(S.map(k=>k.id)),!0)),e.hooks.edgesChange.trigger(kn(n.value))},m=S=>{if(e.multiSelectionActive){const k=S.map(N=>xn(N.id,!0));e.hooks.edgesChange.trigger(k);return}e.hooks.edgesChange.trigger(kn(n.value,new Set(S.map(k=>k.id)))),e.hooks.nodesChange.trigger(kn(t.value,new Set,!0))},A=S=>{w(S,!0)},G=S=>{const N=(S||e.nodes).map(E=>(E.selected=!1,xn(E.id,!1)));e.hooks.nodesChange.trigger(N)},M=S=>{const N=(S||e.edges).map(E=>(E.selected=!1,xn(E.id,!1)));e.hooks.edgesChange.trigger(N)},x=S=>{if(!S||!S.length)return w([],!1);const k=S.reduce((N,E)=>{const X=xn(E.id,!1);return On(E)?N.nodes.push(X):N.edges.push(X),N},{nodes:[],edges:[]});k.nodes.length&&e.hooks.nodesChange.trigger(k.nodes),k.edges.length&&e.hooks.edgesChange.trigger(k.edges)},I=S=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([S,e.maxZoom]),e.minZoom=S},H=S=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([e.minZoom,S]),e.maxZoom=S},P=S=>{var k;(k=e.d3Zoom)==null||k.translateExtent(S),e.translateExtent=S},ee=S=>{e.nodeExtent=S,o()},ne=S=>{var k;(k=e.d3Zoom)==null||k.clickDistance(S)},ue=S=>{e.nodesDraggable=S,e.nodesConnectable=S,e.elementsSelectable=S},$=S=>{const k=S instanceof Function?S(e.nodes):S;!e.initialized&&!k.length||(e.nodes=Hc(k,f,e.hooks.error.trigger))},J=S=>{const k=S instanceof Function?S(e.edges):S;if(!e.initialized&&!k.length)return;const N=_s(k,e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);vs(e.connectionLookup,N),e.edges=N},z=S=>{const k=S instanceof Function?S([...e.nodes,...e.edges]):S;!e.initialized&&!k.length||($(k.filter(On)),J(k.filter(Nn)))},me=S=>{let k=S instanceof Function?S(e.nodes):S;k=Array.isArray(k)?k:[k];const N=Hc(k,f,e.hooks.error.trigger),E=[];for(const X of N)E.push(Wc(X));E.length&&e.hooks.nodesChange.trigger(E)},D=S=>{let k=S instanceof Function?S(e.edges):S;k=Array.isArray(k)?k:[k];const N=_s(k,e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),E=[];for(const X of N)E.push(Wc(X));E.length&&e.hooks.edgesChange.trigger(E)},F=(S,k=!0,N=!1)=>{const E=S instanceof Function?S(e.nodes):S,X=Array.isArray(E)?E:[E],we=[],xe=[];function Me(Ue){const O=r(Ue);for(const _e of O)(!_t(_e.deletable)||_e.deletable)&&xe.push(Bc(_e.id,_e.source,_e.target,_e.sourceHandle,_e.targetHandle))}function Ge(Ue){const O=[];for(const _e of e.nodes)_e.parentNode===Ue&&O.push(_e);if(O.length){for(const _e of O)we.push(Lc(_e.id));k&&Me(O);for(const _e of O)Ge(_e.id)}}for(const Ue of X){const O=typeof Ue=="string"?f(Ue):Ue;O&&(_t(O.deletable)&&!O.deletable||(we.push(Lc(O.id)),k&&Me([O]),N&&Ge(O.id)))}xe.length&&e.hooks.edgesChange.trigger(xe),we.length&&e.hooks.nodesChange.trigger(we)},W=S=>{const k=S instanceof Function?S(e.edges):S,N=Array.isArray(k)?k:[k],E=[];for(const X of N){const we=typeof X=="string"?d(X):X;we&&(_t(we.deletable)&&!we.deletable||E.push(Bc(typeof X=="string"?X:X.id,we.source,we.target,we.sourceHandle,we.targetHandle)))}e.hooks.edgesChange.trigger(E)},oe=(S,k,N=!0)=>{const E=d(S.id),X=M5(S,k,E,N,e.hooks.error.trigger);if(X){const[we]=_s([X],e.isValidConnection,f,d,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges.splice(e.edges.indexOf(E),1,we),vs(e.connectionLookup,[we]),we}return!1},re=(S,k,N={replace:!1})=>{const E=d(S);if(!E)return;const X=typeof k=="function"?k(E):k;E.data=N.replace?X:{...E.data,...X}},B=S=>Rc(S,e.nodes),R=S=>{const k=Rc(S,e.edges);return vs(e.connectionLookup,k),k},ie=(S,k,N={replace:!1})=>{const E=f(S);if(!E)return;const X=typeof k=="function"?k(E):k;N.replace?e.nodes.splice(e.nodes.indexOf(E),1,X):Object.assign(E,X)},j=(S,k,N={replace:!1})=>{const E=f(S);if(!E)return;const X=typeof k=="function"?k(E):k;E.data=N.replace?X:{...E.data,...X}},fe=(S,k,N=!1)=>{N?e.connectionClickStartHandle=S:e.connectionStartHandle=S,e.connectionEndHandle=null,e.connectionStatus=null,k&&(e.connectionPosition=k)},se=(S,k=null,N=null)=>{e.connectionStartHandle&&(e.connectionPosition=S,e.connectionEndHandle=k,e.connectionStatus=N)},Se=(S,k)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,k?e.connectionClickStartHandle=null:e.connectionStartHandle=null},Ie=S=>{const k=g5(S),N=k?null:Tl(S)?S:f(S.id);return!k&&!N?[null,null,k]:[k?S:Er(N),N,k]},ye=(S,k=!0,N=e.nodes)=>{const[E,X,we]=Ie(S);if(!E)return[];const xe=[];for(const Me of N||e.nodes){if(!we&&(Me.id===X.id||!Me.computedPosition))continue;const Ge=Er(Me),Ue=Gr(Ge,E);(k&&Ue>0||Ue>=Number(E.width)*Number(E.height))&&xe.push(Me)}return xe},he=(S,k,N=!0)=>{const[E]=Ie(S);if(!E)return!1;const X=Gr(E,k);return N&&X>0||X>=Number(E.width)*Number(E.height)},De=S=>{const{viewport:k,dimensions:N,d3Zoom:E,d3Selection:X,translateExtent:we}=e;if(!E||!X||!S.x&&!S.y)return!1;const xe=ml.translate(k.x+S.x,k.y+S.y).scale(k.zoom),Me=[[0,0],[N.width,N.height]],Ge=E.constrain()(xe,Me,we),Ue=e.viewport.x!==Ge.x||e.viewport.y!==Ge.y||e.viewport.zoom!==Ge.k;return E.transform(X,Ge),Ue},Ce=S=>{const k=S instanceof Function?S(e):S,N=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];_t(k.defaultEdgeOptions)&&(e.defaultEdgeOptions=k.defaultEdgeOptions);const E=k.modelValue||k.nodes||k.edges?[]:void 0;E&&(k.modelValue&&E.push(...k.modelValue),k.nodes&&E.push(...k.nodes),k.edges&&E.push(...k.edges),z(E));const X=()=>{_t(k.maxZoom)&&H(k.maxZoom),_t(k.minZoom)&&I(k.minZoom),_t(k.translateExtent)&&P(k.translateExtent)};for(const we of Object.keys(k)){const xe=we,Me=k[xe];![...H5,...N].includes(xe)&&_t(Me)&&(e[xe]=Me)}br(()=>e.d3Zoom).not.toBeNull().then(X),e.initialized||(e.initialized=!0)};return{updateNodePositions:p,updateNodeDimensions:_,setElements:z,setNodes:$,setEdges:J,addNodes:me,addEdges:D,removeNodes:F,removeEdges:W,findNode:f,findEdge:d,updateEdge:oe,updateEdgeData:re,updateNode:ie,updateNodeData:j,applyEdgeChanges:R,applyNodeChanges:B,addSelectedElements:A,addSelectedNodes:C,addSelectedEdges:m,setMinZoom:I,setMaxZoom:H,setTranslateExtent:P,setNodeExtent:ee,setPaneClickDistance:ne,removeSelectedElements:x,removeSelectedNodes:G,removeSelectedEdges:M,startConnection:fe,updateConnection:se,endConnection:Se,setInteractive:ue,setState:Ce,getIntersectingNodes:ye,getIncomers:a,getOutgoers:s,getConnectedEdges:r,getHandleConnections:u,isNodeIntersecting:he,panBy:De,fitView:S=>l.value.fitView(S),zoomIn:S=>l.value.zoomIn(S),zoomOut:S=>l.value.zoomOut(S),zoomTo:(S,k)=>l.value.zoomTo(S,k),setViewport:(S,k)=>l.value.setViewport(S,k),setTransform:(S,k)=>l.value.setTransform(S,k),getViewport:()=>l.value.getViewport(),getTransform:()=>l.value.getTransform(),setCenter:(S,k,N)=>l.value.setCenter(S,k,N),fitBounds:(S,k)=>l.value.fitBounds(S,k),project:S=>l.value.project(S),screenToFlowCoordinate:S=>l.value.screenToFlowCoordinate(S),flowToScreenCoordinate:S=>l.value.flowToScreenCoordinate(S),toObject:()=>{const S=[],k=[];for(const N of e.nodes){const{computedPosition:E,handleBounds:X,selected:we,dimensions:xe,isParent:Me,resizing:Ge,dragging:Ue,events:O,..._e}=N;S.push(_e)}for(const N of e.edges){const{selected:E,sourceNode:X,targetNode:we,events:xe,...Me}=N;k.push(Me)}return JSON.parse(JSON.stringify({nodes:S,edges:k,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:S=>new Promise(k=>{const{nodes:N,edges:E,position:X,zoom:we,viewport:xe}=S;if(N&&$(N),E&&J(E),xe!=null&&xe.x&&(xe!=null&&xe.y)||X){const Me=(xe==null?void 0:xe.x)||X[0],Ge=(xe==null?void 0:xe.y)||X[1],Ue=(xe==null?void 0:xe.zoom)||we||e.viewport.zoom;return br(()=>l.value.viewportInitialized).toBe(!0).then(()=>{l.value.setViewport({x:Me,y:Ge,zoom:Ue}).then(()=>{k(!0)})})}else k(!0)}),updateNodeInternals:o,viewportHelper:l,$reset:()=>{const S=d0();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const k=ml.translate(S.defaultViewport.x??0,S.defaultViewport.y??0).scale(_n(S.defaultViewport.zoom??1,S.minZoom,S.maxZoom)),N=e.viewportRef.getBoundingClientRect(),E=[[0,0],[N.width,N.height]],X=e.d3Zoom.constrain()(k,E,S.translateExtent);e.d3Zoom.transform(e.d3Selection,X)}Ce(S)},$destroy:()=>{}}}const K5=["data-id","data-handleid","data-nodeid","data-handlepos"],U5={name:"Handle",compatConfig:{MODE:3}},Sn=je({...U5,props:{id:{default:null},type:{},position:{default:()=>Ve.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=rd(e,["position","connectable","connectableStart","connectableEnd","id"]),l=nt(()=>n.type??"source"),o=nt(()=>n.isValidConnection??null),{connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:r,vueFlowRef:u,nodesConnectable:f,noDragClassName:d,noPanClassName:p}=et(),{id:_,node:w,nodeEl:C,connectedEdges:m}=u0(),A=v(),G=nt(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),M=nt(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),x=nt(()=>{var $,J,z,me,D,F;return(($=a.value)==null?void 0:$.nodeId)===_&&((J=a.value)==null?void 0:J.handleId)===e.id&&((z=a.value)==null?void 0:z.type)===l.value||((me=r.value)==null?void 0:me.nodeId)===_&&((D=r.value)==null?void 0:D.handleId)===e.id&&((F=r.value)==null?void 0:F.type)===l.value}),I=nt(()=>{var $,J,z;return(($=s.value)==null?void 0:$.nodeId)===_&&((J=s.value)==null?void 0:J.handleId)===e.id&&((z=s.value)==null?void 0:z.type)===l.value}),{handlePointerDown:H,handleClick:P}=r0({nodeId:_,handleId:e.id,isValidConnection:o,type:l}),ee=We(()=>typeof e.connectable=="string"&&e.connectable==="single"?!m.value.some($=>{const J=$[`${l.value}Handle`];return $[l.value]!==_?!1:J?J===e.id:!0}):typeof e.connectable=="number"?m.value.filter($=>{const J=$[`${l.value}Handle`];return $[l.value]!==_?!1:J?J===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(w,m.value):_t(e.connectable)?e.connectable:f.value);$t(()=>{var $;if(!w.dimensions.width||!w.dimensions.height)return;const J=($=w.handleBounds[l.value])==null?void 0:$.find(re=>re.id===e.id);if(!u.value||J)return;const z=u.value.querySelector(".vue-flow__transformationpane");if(!C.value||!A.value||!z||!e.id)return;const me=C.value.getBoundingClientRect(),D=A.value.getBoundingClientRect(),F=window.getComputedStyle(z),{m22:W}=new window.DOMMatrixReadOnly(F.transform),oe={id:e.id,position:e.position,x:(D.left-me.left)/W,y:(D.top-me.top)/W,...da(A.value)};w.handleBounds[l.value]=[...w.handleBounds[l.value]??[],oe]}),sd(()=>{const $=w.handleBounds[l.value];$&&(w.handleBounds[l.value]=$.filter(J=>J.id!==e.id))});function ne($){const J=jr($);ee.value&&G.value&&(J&&$.button===0||!J)&&H($)}function ue($){!_||!s.value&&!G.value||ee.value&&P($)}return t({handleClick:P,handlePointerDown:H,onClick:ue,onPointerDown:ne}),($,J)=>(V(),L("div",{ref_key:"handle",ref:A,"data-id":`${T(_)}-${e.id}-${l.value}`,"data-handleid":e.id,"data-nodeid":T(_),"data-handlepos":$.position,class:ot(["vue-flow__handle",[`vue-flow__handle-${$.position}`,`vue-flow__handle-${e.id}`,T(d),T(p),l.value,{connectable:ee.value,connecting:I.value,connectablestart:G.value,connectableend:M.value,connectionindicator:ee.value&&(G.value&&!x.value||M.value&&x.value)}]]),onMousedown:ne,onTouchstartPassive:ne,onClick:ue},[at($.$slots,"default",{id:$.id})],42,K5))}}),pa=function({sourcePosition:e=Ve.Bottom,targetPosition:t=Ve.Top,label:n,connectable:l=!0,isValidTargetPos:o,isValidSourcePos:a,data:s}){const r=s.label||n;return[qe(Sn,{type:"target",position:t,connectable:l,isValidConnection:o}),typeof r!="string"&&r?qe(r):qe(Ye,[r]),qe(Sn,{type:"source",position:e,connectable:l,isValidConnection:a})]};pa.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];pa.inheritAttrs=!1;pa.compatConfig={MODE:3};const J5=pa,ma=function({targetPosition:e=Ve.Top,label:t,connectable:n=!0,isValidTargetPos:l,data:o}){const a=o.label||t;return[qe(Sn,{type:"target",position:e,connectable:n,isValidConnection:l}),typeof a!="string"&&a?qe(a):qe(Ye,[a])]};ma.props=["targetPosition","label","isValidTargetPos","connectable","data"];ma.inheritAttrs=!1;ma.compatConfig={MODE:3};const j5=ma,va=function({sourcePosition:e=Ve.Bottom,label:t,connectable:n=!0,isValidSourcePos:l,data:o}){const a=o.label||t;return[typeof a!="string"&&a?qe(a):qe(Ye,[a]),qe(Sn,{type:"source",position:e,connectable:n,isValidConnection:l})]};va.props=["sourcePosition","label","isValidSourcePos","connectable","data"];va.inheritAttrs=!1;va.compatConfig={MODE:3};const Q5=va,q5=["transform"],e6=["width","height","x","y","rx","ry"],t6=["y"],n6={name:"EdgeText",compatConfig:{MODE:3}},l6=je({...n6,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=v({x:0,y:0,width:0,height:0}),n=v(null),l=We(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);$t(o),Ke([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const a=n.value.getBBox();(a.width!==t.value.width||a.height!==t.value.height)&&(t.value=a)}return(a,s)=>(V(),L("g",{transform:l.value,class:"vue-flow__edge-textwrapper"},[a.labelShowBg?(V(),L("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*a.labelBgPadding[0]}px`,height:`${t.value.height+2*a.labelBgPadding[1]}px`,x:-a.labelBgPadding[0],y:-a.labelBgPadding[1],style:Le(a.labelBgStyle),rx:a.labelBgBorderRadius,ry:a.labelBgBorderRadius},null,12,e6)):ae("",!0),i("text",q2(a.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:a.labelStyle}),[at(a.$slots,"default",{},()=>[typeof a.label!="string"?(V(),ke(Fn(a.label),{key:0})):(V(),L(Ye,{key:1},[le(Fe(a.label),1)],64))])],16,t6)],8,q5))}}),o6=["id","d","marker-end","marker-start"],a6=["d","stroke-width"],s6={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},ao=je({...s6,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=rd(e,["interactionWidth","labelShowBg"]),l=v(null),o=v(null),a=v(null),s=U2();return t({pathEl:l,interactionEl:o,labelEl:a}),(r,u)=>(V(),L(Ye,null,[i("path",{id:r.id,ref_key:"pathEl",ref:l,d:r.path,style:Le(n.style),class:ot(["vue-flow__edge-path",T(s).class]),"marker-end":r.markerEnd,"marker-start":r.markerStart},null,14,o6),r.interactionWidth?(V(),L("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:r.path,"stroke-width":r.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,a6)):ae("",!0),r.label&&r.labelX&&r.labelY?(V(),ke(l6,{key:1,ref_key:"labelEl",ref:a,x:r.labelX,y:r.labelY,label:r.label,"label-show-bg":r.labelShowBg,"label-bg-style":r.labelBgStyle,"label-bg-padding":r.labelBgPadding,"label-bg-border-radius":r.labelBgBorderRadius,"label-style":r.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):ae("",!0)],64))}});function f0({sourceX:e,sourceY:t,targetX:n,targetY:l}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,s=Math.abs(l-t)/2,r=l<t?l+s:l-s;return[a,r,o,s]}function g0({sourceX:e,sourceY:t,targetX:n,targetY:l,sourceControlX:o,sourceControlY:a,targetControlX:s,targetControlY:r}){const u=e*.125+o*.375+s*.375+n*.125,f=t*.125+a*.375+r*.375+l*.125,d=Math.abs(u-e),p=Math.abs(f-t);return[u,f,d,p]}function Lo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Kc({pos:e,x1:t,y1:n,x2:l,y2:o,c:a}){let s,r;switch(e){case Ve.Left:s=t-Lo(t-l,a),r=n;break;case Ve.Right:s=t+Lo(l-t,a),r=n;break;case Ve.Top:s=t,r=n-Lo(n-o,a);break;case Ve.Bottom:s=t,r=n+Lo(o-n,a);break}return[s,r]}function eu(e){const{sourceX:t,sourceY:n,sourcePosition:l=Ve.Bottom,targetX:o,targetY:a,targetPosition:s=Ve.Top,curvature:r=.25}=e,[u,f]=Kc({pos:l,x1:t,y1:n,x2:o,y2:a,c:r}),[d,p]=Kc({pos:s,x1:o,y1:a,x2:t,y2:n,c:r}),[_,w,C,m]=g0({sourceX:t,sourceY:n,targetX:o,targetY:a,sourceControlX:u,sourceControlY:f,targetControlX:d,targetControlY:p});return[`M${t},${n} C${u},${f} ${d},${p} ${o},${a}`,_,w,C,m]}function Uc({pos:e,x1:t,y1:n,x2:l,y2:o}){let a,s;switch(e){case Ve.Left:case Ve.Right:a=.5*(t+l),s=n;break;case Ve.Top:case Ve.Bottom:a=t,s=.5*(n+o);break}return[a,s]}function h0(e){const{sourceX:t,sourceY:n,sourcePosition:l=Ve.Bottom,targetX:o,targetY:a,targetPosition:s=Ve.Top}=e,[r,u]=Uc({pos:l,x1:t,y1:n,x2:o,y2:a}),[f,d]=Uc({pos:s,x1:o,y1:a,x2:t,y2:n}),[p,_,w,C]=g0({sourceX:t,sourceY:n,targetX:o,targetY:a,sourceControlX:r,sourceControlY:u,targetControlX:f,targetControlY:d});return[`M${t},${n} C${r},${u} ${f},${d} ${o},${a}`,p,_,w,C]}const Jc={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}};function i6({source:e,sourcePosition:t=Ve.Bottom,target:n}){return t===Ve.Left||t===Ve.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function jc(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function r6({source:e,sourcePosition:t=Ve.Bottom,target:n,targetPosition:l=Ve.Top,center:o,offset:a}){const s=Jc[t],r=Jc[l],u={x:e.x+s.x*a,y:e.y+s.y*a},f={x:n.x+r.x*a,y:n.y+r.y*a},d=i6({source:u,sourcePosition:t,target:f}),p=d.x!==0?"x":"y",_=d[p];let w,C,m;const A={x:0,y:0},G={x:0,y:0},[M,x,I,H]=f0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[p]*r[p]===-1){C=o.x??M,m=o.y??x;const ee=[{x:C,y:u.y},{x:C,y:f.y}],ne=[{x:u.x,y:m},{x:f.x,y:m}];s[p]===_?w=p==="x"?ee:ne:w=p==="x"?ne:ee}else{const ee=[{x:u.x,y:f.y}],ne=[{x:f.x,y:u.y}];if(p==="x"?w=s.x===_?ne:ee:w=s.y===_?ee:ne,t===l){const me=Math.abs(e[p]-n[p]);if(me<=a){const D=Math.min(a-1,a-me);s[p]===_?A[p]=(u[p]>e[p]?-1:1)*D:G[p]=(f[p]>n[p]?-1:1)*D}}if(t!==l){const me=p==="x"?"y":"x",D=s[p]===r[me],F=u[me]>f[me],W=u[me]<f[me];(s[p]===1&&(!D&&F||D&&W)||s[p]!==1&&(!D&&W||D&&F))&&(w=p==="x"?ee:ne)}const ue={x:u.x+A.x,y:u.y+A.y},$={x:f.x+G.x,y:f.y+G.y},J=Math.max(Math.abs(ue.x-w[0].x),Math.abs($.x-w[0].x)),z=Math.max(Math.abs(ue.y-w[0].y),Math.abs($.y-w[0].y));J>=z?(C=(ue.x+$.x)/2,m=w[0].y):(C=w[0].x,m=(ue.y+$.y)/2)}return[[e,{x:u.x+A.x,y:u.y+A.y},...w,{x:f.x+G.x,y:f.y+G.y},n],C,m,I,H]}function u6(e,t,n,l){const o=Math.min(jc(e,t)/2,jc(t,n)/2,l),{x:a,y:s}=t;if(e.x===a&&a===n.x||e.y===s&&s===n.y)return`L${a} ${s}`;if(e.y===s){const f=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+o*f},${s}Q ${a},${s} ${a},${s+o*d}`}const r=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${a},${s+o*u}Q ${a},${s} ${a+o*r},${s}`}function Zr(e){const{sourceX:t,sourceY:n,sourcePosition:l=Ve.Bottom,targetX:o,targetY:a,targetPosition:s=Ve.Top,borderRadius:r=5,centerX:u,centerY:f,offset:d=20}=e,[p,_,w,C,m]=r6({source:{x:t,y:n},sourcePosition:l,target:{x:o,y:a},targetPosition:s,center:{x:u,y:f},offset:d});return[p.reduce((G,M,x)=>{let I;return x>0&&x<p.length-1?I=u6(p[x-1],M,p[x+1],r):I=`${x===0?"M":"L"}${M.x} ${M.y}`,G+=I,G},""),_,w,C,m]}function c6(e){const{sourceX:t,sourceY:n,targetX:l,targetY:o}=e,[a,s,r,u]=f0({sourceX:t,sourceY:n,targetX:l,targetY:o});return[`M ${t},${n}L ${l},${o}`,a,s,r,u]}const d6=je({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,l,o]=c6(e);return qe(ao,{path:n,labelX:l,labelY:o,...t,...e})}}}),f6=d6,g6=je({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,l,o]=Zr({...e,sourcePosition:e.sourcePosition??Ve.Bottom,targetPosition:e.targetPosition??Ve.Top});return qe(ao,{path:n,labelX:l,labelY:o,...t,...e})}}}),p0=g6,h6=je({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>qe(p0,{...e,...t,borderRadius:0})}}),p6=h6,m6=je({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,l,o]=eu({...e,sourcePosition:e.sourcePosition??Ve.Bottom,targetPosition:e.targetPosition??Ve.Top});return qe(ao,{path:n,labelX:l,labelY:o,...t,...e})}}}),v6=m6,_6=je({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,l,o]=h0({...e,sourcePosition:e.sourcePosition??Ve.Bottom,targetPosition:e.targetPosition??Ve.Top});return qe(ao,{path:n,labelX:l,labelY:o,...t,...e})}}}),y6=_6,w6={input:Q5,default:J5,output:j5},b6={default:v6,straight:f6,step:p6,smoothstep:p0,simplebezier:y6};function C6(e,t,n){const l=We(()=>m=>t.value.get(m)),o=We(()=>m=>n.value.get(m)),a=We(()=>{const m={...b6,...e.edgeTypes},A=Object.keys(m);for(const G of e.edges)G.type&&!A.includes(G.type)&&(m[G.type]=G.type);return m}),s=We(()=>{const m={...w6,...e.nodeTypes},A=Object.keys(m);for(const G of e.nodes)G.type&&!A.includes(G.type)&&(m[G.type]=G.type);return m}),r=We(()=>e.onlyRenderVisibleElements?jd(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=We(()=>{if(e.onlyRenderVisibleElements){const m=[];for(const A of e.edges){const G=t.value.get(A.source),M=t.value.get(A.target);A5({sourcePos:G.computedPosition||{x:0,y:0},targetPos:M.computedPosition||{x:0,y:0},sourceWidth:G.dimensions.width,sourceHeight:G.dimensions.height,targetWidth:M.dimensions.width,targetHeight:M.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&m.push(A)}return m}return e.edges}),f=We(()=>[...r.value,...u.value]),d=We(()=>{const m=[];for(const A of e.nodes)A.selected&&m.push(A);return m}),p=We(()=>{const m=[];for(const A of e.edges)A.selected&&m.push(A);return m}),_=We(()=>[...d.value,...p.value]),w=We(()=>{const m=[];for(const A of e.nodes)A.dimensions.width&&A.dimensions.height&&A.handleBounds!==void 0&&m.push(A);return m}),C=We(()=>r.value.length>0&&w.value.length===r.value.length);return{getNode:l,getEdge:o,getElements:f,getEdgeTypes:a,getNodeTypes:s,getEdges:u,getNodes:r,getSelectedElements:_,getSelectedNodes:d,getSelectedEdges:p,getNodesInitialized:w,areNodesInitialized:C}}class $n{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=no())==null?void 0:t.appContext.app,l=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??$n.instance;return $n.instance=l??new $n,n&&(n.config.globalProperties.$vueFlowStorage=$n.instance),$n.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const l=d0(),o=Et(l),a={};for(const[_,w]of Object.entries(o.hooks)){const C=`on${_.charAt(0).toUpperCase()+_.slice(1)}`;a[C]=w.on}const s={};for(const[_,w]of Object.entries(o.hooks))s[_]=w.trigger;const r=We(()=>{const _=new Map;for(const w of o.nodes)_.set(w.id,w);return _}),u=We(()=>{const _=new Map;for(const w of o.edges)_.set(w.id,w);return _}),f=C6(o,r,u),d=P5(o,r,u);d.setState({...o,...n});const p={...a,...f,...d,...S3(o),nodeLookup:r,edgeLookup:u,emits:s,id:t,vueFlowVersion:"1.41.6",$destroy:()=>{this.remove(t)}};return this.set(t,p),p}getId(){return`vue-flow-${this.currentId++}`}}function et(e){const t=$n.getInstance(),n=id(),l=typeof e=="object",o=l?e:{id:e},a=o.id,s=a??(n==null?void 0:n.vueFlowId);let r;if(n){const u=Vn(Pc,null);typeof u<"u"&&u!==null&&(!s||u.id===s)&&(r=u)}if(r||s&&(r=t.get(s)),!r||s&&r.id!==s){const u=a??t.getId(),f=t.create(u,o);r=f,(n??ad(!0)).run(()=>{Ke(f.applyDefault,(p,_,w)=>{const C=A=>{f.applyNodeChanges(A)},m=A=>{f.applyEdgeChanges(A)};p?(f.onNodesChange(C),f.onEdgesChange(m)):(f.hooks.value.nodesChange.off(C),f.hooks.value.edgesChange.off(m)),w(()=>{f.hooks.value.nodesChange.off(C),f.hooks.value.edgesChange.off(m)})},{immediate:!0}),sa(()=>{if(r){const p=t.get(r.id);p?p.$destroy():ga(`No store instance found for id ${r.id} in storage.`)}})})}else l&&r.setState(o);if(n&&(Hn(Pc,r),n.vueFlowId=r.id),l){const u=no();(u==null?void 0:u.type.name)!=="VueFlow"&&r.emits.error(new Ct(yt.USEVUEFLOW_OPTIONS))}return r}function I6(e){const{emits:t,dimensions:n}=et();let l;$t(()=>{const o=e.value,a=()=>{if(!o)return;const s=da(o);(s.width===0||s.height===0)&&t.error(new Ct(yt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};a(),window.addEventListener("resize",a),o&&(l=new ResizeObserver(()=>a()),l.observe(o)),oa(()=>{window.removeEventListener("resize",a),l&&o&&l.unobserve(o)})})}const x6={name:"UserSelection",compatConfig:{MODE:3}},A6=je({...x6,props:{userSelectionRect:{}},setup(e){return(t,n)=>(V(),L("div",{class:"vue-flow__selection vue-flow__container",style:Le({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),k6=["tabIndex"],S6={name:"NodesSelection",compatConfig:{MODE:3}},N6=je({...S6,setup(e){const{emits:t,viewport:n,getSelectedNodes:l,noPanClassName:o,disableKeyboardA11y:a,userSelectionActive:s}=et(),r=c0(),u=v(null),f=s0({el:u,onStart(C){t.selectionDragStart(C)},onDrag(C){t.selectionDrag(C)},onStop(C){t.selectionDragStop(C)}});$t(()=>{var C;a.value||(C=u.value)==null||C.focus({preventScroll:!0})});const d=We(()=>Jd(l.value)),p=We(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function _(C){t.selectionContextMenu({event:C,nodes:l.value})}function w(C){a||fl[C.key]&&(C.preventDefault(),r({x:fl[C.key].x,y:fl[C.key].y},C.shiftKey))}return(C,m)=>!T(s)&&d.value.width&&d.value.height?(V(),L("div",{key:0,class:ot(["vue-flow__nodesselection vue-flow__container",T(o)]),style:Le({transform:`translate(${T(n).x}px,${T(n).y}px) scale(${T(n).zoom})`})},[i("div",{ref_key:"el",ref:u,class:ot([{dragging:T(f)},"vue-flow__nodesselection-rect"]),style:Le(p.value),tabIndex:T(a)?void 0:-1,onContextmenu:_,onKeydown:w},null,46,k6)],6)):ae("",!0)}});function V6(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const D6={name:"Pane",compatConfig:{MODE:3}},E6=je({...D6,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:l,emits:o,userSelectionActive:a,removeSelectedElements:s,userSelectionRect:r,elementsSelectable:u,nodesSelectionActive:f,getSelectedEdges:d,getSelectedNodes:p,removeNodes:_,removeEdges:w,selectionMode:C,deleteKeyCode:m,multiSelectionKeyCode:A,multiSelectionActive:G,edgeLookup:M,nodeLookup:x}=et(),I=v(null),H=v(0),P=v(0),ee=v(),ne=v(new Map),ue=nt(()=>u.value&&(e.isSelecting||a.value));let $=!1,J=!1;const z=Ol(m,{actInsideInputWithModifier:!1}),me=Ol(A);Ke(z,j=>{j&&(_(p.value),w(d.value),f.value=!1)}),Ke(me,j=>{G.value=j});function D(j,fe){return se=>{se.target===fe&&(j==null||j(se))}}function F(){a.value=!1,r.value=null,H.value=0,P.value=0}function W(j){if($){$=!1;return}o.paneClick(j),s(),f.value=!1}function oe(j){j.preventDefault(),j.stopPropagation(),o.paneContextMenu(j)}function re(j){o.paneScroll(j)}function B(j){var fe,se,Se,Ie,ye;if(ee.value=(fe=t.value)==null?void 0:fe.getBoundingClientRect(),!u.value||!e.isSelecting||j.button!==0||j.target!==I.value||!ee.value)return;(Se=(se=j.target)==null?void 0:se.setPointerCapture)==null||Se.call(se,j.pointerId);const{x:he,y:De}=V6(j,ee.value);J=!0,$=!1,ne.value=new Map;for(const[Ce,Y]of M.value)ne.value.set(Y.source,((Ie=ne.value.get(Y.source))==null?void 0:Ie.add(Ce))||new Set([Ce])),ne.value.set(Y.target,((ye=ne.value.get(Y.target))==null?void 0:ye.add(Ce))||new Set([Ce]));s(),r.value={width:0,height:0,startX:he,startY:De,x:he,y:De},o.selectionStart(j)}function R(j){if(!ee.value||!r.value)return;$=!0;const{x:fe,y:se}=mn(j,ee.value),{startX:Se=0,startY:Ie=0}=r.value,ye={startX:Se,startY:Ie,x:fe<Se?fe:Se,y:se<Ie?se:Ie,width:Math.abs(fe-Se),height:Math.abs(se-Ie)},he=jd(n.value,ye,l.value,C.value===Ur.Partial,!0),De=new Set,Ce=new Set;for(const Y of he){Ce.add(Y.id);const K=ne.value.get(Y.id);if(K)for(const pe of K)De.add(pe)}if(H.value!==Ce.size){H.value=Ce.size;const Y=kn(x.value,Ce,!0);o.nodesChange(Y)}if(P.value!==De.size){P.value=De.size;const Y=kn(M.value,De);o.edgesChange(Y)}r.value=ye,a.value=!0,f.value=!1}function ie(j){var fe;j.button!==0||!J||((fe=j.target)==null||fe.releasePointerCapture(j.pointerId),!a.value&&r.value&&j.target===I.value&&W(j),H.value>0&&(f.value=!0),F(),o.selectionEnd(j),e.selectionKeyPressed&&($=!1),J=!1)}return(j,fe)=>(V(),L("div",{ref_key:"container",ref:I,class:ot(["vue-flow__pane vue-flow__container",{selection:j.isSelecting}]),onClick:fe[0]||(fe[0]=se=>ue.value?void 0:D(W,I.value)(se)),onContextmenu:fe[1]||(fe[1]=se=>D(oe,I.value)(se)),onWheelPassive:fe[2]||(fe[2]=se=>D(re,I.value)(se)),onPointerenter:fe[3]||(fe[3]=se=>ue.value?void 0:T(o).paneMouseEnter(se)),onPointerdown:fe[4]||(fe[4]=se=>ue.value?B(se):T(o).paneMouseMove(se)),onPointermove:fe[5]||(fe[5]=se=>ue.value?R(se):T(o).paneMouseMove(se)),onPointerup:fe[6]||(fe[6]=se=>ue.value?ie(se):void 0),onPointerleave:fe[7]||(fe[7]=se=>T(o).paneMouseLeave(se))},[at(j.$slots,"default"),T(a)&&T(r)?(V(),ke(A6,{key:0,"user-selection-rect":T(r)},null,8,["user-selection-rect"])):ae("",!0),T(f)&&T(p).length?(V(),ke(N6,{key:1})):ae("",!0)],34))}}),G6={name:"Transform",compatConfig:{MODE:3}},M6=je({...G6,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:l}=et(),o=We(()=>n.value?!l.value:!1),a=We(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,r)=>(V(),L("div",{class:"vue-flow__transformationpane vue-flow__container",style:Le({transform:a.value,opacity:o.value?0:void 0})},[at(s.$slots,"default")],4))}}),Z6={name:"Viewport",compatConfig:{MODE:3}},z6=je({...Z6,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:l,translateExtent:o,zoomActivationKeyCode:a,selectionKeyCode:s,panActivationKeyCode:r,panOnScroll:u,panOnScrollMode:f,panOnScrollSpeed:d,panOnDrag:p,zoomOnDoubleClick:_,zoomOnPinch:w,zoomOnScroll:C,preventScrolling:m,noWheelClassName:A,noPanClassName:G,emits:M,connectionStartHandle:x,userSelectionActive:I,paneDragging:H,d3Zoom:P,d3Selection:ee,d3ZoomHandler:ne,viewport:ue,viewportRef:$,paneClickDistance:J}=et();I6($);const z=v(!1),me=v(!1);let D=null,F=!1,W=0,oe={x:0,y:0,zoom:0};const re=Ol(r),B=Ol(s),R=Ol(a),ie=nt(()=>(!B.value||B.value&&s.value===!0)&&(re.value||p.value)),j=nt(()=>re.value||u.value),fe=nt(()=>B.value||s.value===!0&&ie.value!==!0);$t(()=>{if(!$.value){ga("Viewport element is missing");return}const De=$.value,Ce=De.getBoundingClientRect(),Y=r5().clickDistance(J.value).scaleExtent([t.value,n.value]).translateExtent(o.value),K=jt(De).call(Y),pe=K.on("wheel.zoom"),S=ml.translate(l.value.x??0,l.value.y??0).scale(_n(l.value.zoom??1,t.value,n.value)),k=[[0,0],[Ce.width,Ce.height]],N=Y.constrain()(S,k,o.value);Y.transform(K,N),Y.wheelDelta(Se),P.value=Y,ee.value=K,ne.value=pe,ue.value={x:N.x,y:N.y,zoom:N.k},Y.on("start",E=>{var X;if(!E.sourceEvent)return null;W=E.sourceEvent.button,z.value=!0;const we=ye(E.transform);((X=E.sourceEvent)==null?void 0:X.type)==="mousedown"&&(H.value=!0),oe=we,M.viewportChangeStart(we),M.moveStart({event:E,flowTransform:we})}),Y.on("end",E=>{if(!E.sourceEvent)return null;if(z.value=!1,H.value=!1,se(ie.value,W??0)&&!F&&M.paneContextMenu(E.sourceEvent),F=!1,Ie(oe,E.transform)){const X=ye(E.transform);oe=X,M.viewportChangeEnd(X),M.moveEnd({event:E,flowTransform:X})}}),Y.filter(E=>{var X;const we=R.value||C.value,xe=w.value&&E.ctrlKey,Me=E.button;if(Me===1&&E.type==="mousedown"&&(he(E,"vue-flow__node")||he(E,"vue-flow__edge")))return!0;if(!ie.value&&!we&&!j.value&&!_.value&&!w.value||I.value||!_.value&&E.type==="dblclick"||he(E,A.value)&&E.type==="wheel"||he(E,G.value)&&(E.type!=="wheel"||j.value&&E.type==="wheel"&&!R.value)||!w.value&&E.ctrlKey&&E.type==="wheel"||!we&&!j.value&&!xe&&E.type==="wheel")return!1;if(!w&&E.type==="touchstart"&&((X=E.touches)==null?void 0:X.length)>1)return E.preventDefault(),!1;if(!ie.value&&(E.type==="mousedown"||E.type==="touchstart")||s.value===!0&&Array.isArray(p.value)&&p.value.includes(0)&&Me===0||Array.isArray(p.value)&&!p.value.includes(Me)&&(E.type==="mousedown"||E.type==="touchstart"))return!1;const Ge=Array.isArray(p.value)&&p.value.includes(Me)||s.value===!0&&Array.isArray(p.value)&&!p.value.includes(0)||!Me||Me<=1;return(!E.ctrlKey||re.value||E.type==="wheel")&&Ge}),Ke([I,ie],()=>{I.value&&!z.value?Y.on("zoom",null):I.value||Y.on("zoom",E=>{ue.value={x:E.transform.x,y:E.transform.y,zoom:E.transform.k};const X=ye(E.transform);F=se(ie.value,W??0),M.viewportChange(X),M.move({event:E,flowTransform:X})})},{immediate:!0}),Ke([I,j,f,R,w,m,A],()=>{j.value&&!R.value&&!I.value?K.on("wheel.zoom",E=>{if(he(E,A.value))return!1;const X=R.value||C.value,we=w.value&&E.ctrlKey;if(!(!m.value||j.value||X||we))return!1;E.preventDefault(),E.stopImmediatePropagation();const Me=K.property("__zoom").k||1,Ge=ta();if(!re.value&&E.ctrlKey&&w.value&&Ge){const Xe=rn(E),At=Se(E),wt=Me*2**At;Y.scaleTo(K,wt,Xe,E);return}const Ue=E.deltaMode===1?20:1;let O=f.value===Xl.Vertical?0:E.deltaX*Ue,_e=f.value===Xl.Horizontal?0:E.deltaY*Ue;!Ge&&E.shiftKey&&f.value!==Xl.Vertical&&!O&&_e&&(O=_e,_e=0),Y.translateBy(K,-(O/Me)*d.value,-(_e/Me)*d.value);const Ne=ye(K.property("__zoom"));D&&clearTimeout(D),me.value?(M.move({event:E,flowTransform:Ne}),M.viewportChange(Ne),D=setTimeout(()=>{M.moveEnd({event:E,flowTransform:Ne}),M.viewportChangeEnd(Ne),me.value=!1},150)):(me.value=!0,M.moveStart({event:E,flowTransform:Ne}),M.viewportChangeStart(Ne))},{passive:!1}):typeof pe<"u"&&K.on("wheel.zoom",function(E,X){const we=!m.value&&E.type==="wheel"&&!E.ctrlKey,xe=R.value||C.value,Me=w.value&&E.ctrlKey;if(!xe&&!u.value&&!Me&&E.type==="wheel"||we||he(E,A.value))return null;E.preventDefault(),pe.call(this,E,X)},{passive:!1})},{immediate:!0})});function se(De,Ce){return Ce===2&&Array.isArray(De)&&De.includes(2)}function Se(De){const Ce=De.ctrlKey&&ta()?10:1;return-De.deltaY*(De.deltaMode===1?.05:De.deltaMode?1:.002)*Ce}function Ie(De,Ce){return De.x!==Ce.x&&!Number.isNaN(Ce.x)||De.y!==Ce.y&&!Number.isNaN(Ce.y)||De.zoom!==Ce.k&&!Number.isNaN(Ce.k)}function ye(De){return{x:De.x,y:De.y,zoom:De.k}}function he(De,Ce){return De.target.closest(`.${Ce}`)}return(De,Ce)=>(V(),L("div",{ref_key:"viewportRef",ref:$,class:"vue-flow__viewport vue-flow__container"},[c(E6,{"is-selecting":fe.value,"selection-key-pressed":T(B),class:ot({connecting:!!T(x),dragging:T(H),draggable:T(p)===!0||Array.isArray(T(p))&&T(p).includes(0)})},{default:g(()=>[c(M6,null,{default:g(()=>[at(De.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),R6=["id"],W6=["id"],L6=["id"],B6={name:"A11yDescriptions",compatConfig:{MODE:3}},F6=je({...B6,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:l}=et();return(o,a)=>(V(),L(Ye,null,[i("div",{id:`${T(Yd)}-${T(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Fe(T(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,R6),i("div",{id:`${T($d)}-${T(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,W6),T(n)?ae("",!0):(V(),L("div",{key:0,id:`${T(f5)}-${T(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Fe(T(l)),9,L6))],64))}});function Y6(){const e=et();Ke(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function $6(e,t,n){return n===Ve.Left?e-t:n===Ve.Right?e+t:e}function T6(e,t,n){return n===Ve.Top?e-t:n===Ve.Bottom?e+t:e}const tu=function({radius:e=10,centerX:t=0,centerY:n=0,position:l=Ve.Top,type:o}){return qe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:$6(t,e,l),cy:T6(n,e,l),r:e,stroke:"transparent",fill:"transparent"})};tu.props=["radius","centerX","centerY","position","type"];tu.compatConfig={MODE:3};const Qc=tu,X6=je({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:l,edgeUpdaterRadius:o,emits:a,nodesSelectionActive:s,noPanClassName:r,getEdgeTypes:u,removeSelectedEdges:f,findEdge:d,findNode:p,isValidConnection:_,multiSelectionActive:w,disableKeyboardA11y:C,elementsSelectable:m,edgesUpdatable:A,edgesFocusable:G,hooks:M}=et(),x=We(()=>d(e.id)),{emit:I,on:H}=W5(x.value,a),P=Vn(ha),ee=no(),ne=v(!1),ue=v(!1),$=v(""),J=v(null),z=v("source"),me=v(null),D=nt(()=>typeof x.value.selectable>"u"?m.value:x.value.selectable),F=nt(()=>typeof x.value.updatable>"u"?A.value:x.value.updatable),W=nt(()=>typeof x.value.focusable>"u"?G.value:x.value.focusable);Hn(Z5,e.id),Hn(z5,me);const oe=We(()=>x.value.class instanceof Function?x.value.class(x.value):x.value.class),re=We(()=>x.value.style instanceof Function?x.value.style(x.value):x.value.style),B=We(()=>{const k=x.value.type||"default",N=P==null?void 0:P[`edge-${k}`];if(N)return N;let E=x.value.template??u.value[k];if(typeof E=="string"&&ee){const X=Object.keys(ee.appContext.components);X&&X.includes(k)&&(E=te(k,!1))}return E&&typeof E!="string"?E:(a.error(new Ct(yt.EDGE_TYPE_MISSING,E)),!1)}),{handlePointerDown:R}=r0({nodeId:$,handleId:J,type:z,isValidConnection:_,edgeUpdaterType:z,onEdgeUpdate:fe,onEdgeUpdateEnd:se});return()=>{const k=p(x.value.source),N=p(x.value.target),E="pathOptions"in x.value?x.value.pathOptions:{};if(!k&&!N)return a.error(new Ct(yt.EDGE_SOURCE_TARGET_MISSING,x.value.id,x.value.source,x.value.target)),null;if(!k)return a.error(new Ct(yt.EDGE_SOURCE_MISSING,x.value.id,x.value.source)),null;if(!N)return a.error(new Ct(yt.EDGE_TARGET_MISSING,x.value.id,x.value.target)),null;if(!x.value||x.value.hidden||k.hidden||N.hidden)return null;let X;l.value===Kn.Strict?X=k.handleBounds.source:X=[...k.handleBounds.source||[],...k.handleBounds.target||[]];const we=Yc(X,x.value.sourceHandle);let xe;l.value===Kn.Strict?xe=N.handleBounds.target:xe=[...N.handleBounds.target||[],...N.handleBounds.source||[]];const Me=Yc(xe,x.value.targetHandle),Ge=(we==null?void 0:we.position)||Ve.Bottom,Ue=(Me==null?void 0:Me.position)||Ve.Top,{x:O,y:_e}=ea(k,we,Ge),{x:Ne,y:Xe}=ea(N,Me,Ue);return x.value.sourceX=O,x.value.sourceY=_e,x.value.targetX=Ne,x.value.targetY=Xe,qe("g",{ref:me,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${B.value===!1?"default":x.value.type||"default"}`,r.value,oe.value,{updating:ne.value,selected:x.value.selected,animated:x.value.animated,inactive:!D.value&&!M.value.edgeClick.hasListeners()}],onClick:Ie,onContextmenu:ye,onDblclick:he,onMouseenter:De,onMousemove:Ce,onMouseleave:Y,onKeyDown:W.value?S:void 0,tabIndex:W.value?0:void 0,"aria-label":x.value.ariaLabel===null?void 0:x.value.ariaLabel||`Edge from ${x.value.source} to ${x.value.target}`,"aria-describedby":W.value?`${$d}-${t}`:void 0,role:W.value?"button":"img"},[ue.value?null:qe(B.value===!1?u.value.default:B.value,{id:e.id,sourceNode:k,targetNode:N,source:x.value.source,target:x.value.target,type:x.value.type,updatable:F.value,selected:x.value.selected,animated:x.value.animated,label:x.value.label,labelStyle:x.value.labelStyle,labelShowBg:x.value.labelShowBg,labelBgStyle:x.value.labelBgStyle,labelBgPadding:x.value.labelBgPadding,labelBgBorderRadius:x.value.labelBgBorderRadius,data:x.value.data,events:{...x.value.events,...H},style:re.value,markerStart:`url('#${ql(x.value.markerStart,t)}')`,markerEnd:`url('#${ql(x.value.markerEnd,t)}')`,sourcePosition:Ge,targetPosition:Ue,sourceX:O,sourceY:_e,targetX:Ne,targetY:Xe,sourceHandleId:x.value.sourceHandle,targetHandleId:x.value.targetHandle,interactionWidth:x.value.interactionWidth,...E}),[F.value==="source"||F.value===!0?[qe("g",{onMousedown:K,onMouseenter:ie,onMouseout:j},qe(Qc,{position:Ge,centerX:O,centerY:_e,radius:o.value,type:"source","data-type":"source"}))]:null,F.value==="target"||F.value===!0?[qe("g",{onMousedown:pe,onMouseenter:ie,onMouseout:j},qe(Qc,{position:Ue,centerX:Ne,centerY:Xe,radius:o.value,type:"target","data-type":"target"}))]:null]])};function ie(){ne.value=!0}function j(){ne.value=!1}function fe(k,N){I.update({event:k,edge:x.value,connection:N})}function se(k){I.updateEnd({event:k,edge:x.value}),ue.value=!1}function Se(k,N){k.button===0&&(ue.value=!0,$.value=N?x.value.target:x.value.source,J.value=(N?x.value.targetHandle:x.value.sourceHandle)??"",z.value=N?"target":"source",I.updateStart({event:k,edge:x.value}),R(k))}function Ie(k){var N;const E={event:k,edge:x.value};D.value&&(s.value=!1,x.value.selected&&w.value?(f([x.value]),(N=me.value)==null||N.blur()):n([x.value])),I.click(E)}function ye(k){I.contextMenu({event:k,edge:x.value})}function he(k){I.doubleClick({event:k,edge:x.value})}function De(k){I.mouseEnter({event:k,edge:x.value})}function Ce(k){I.mouseMove({event:k,edge:x.value})}function Y(k){I.mouseLeave({event:k,edge:x.value})}function K(k){Se(k,!0)}function pe(k){Se(k,!1)}function S(k){var N;!C.value&&Td.includes(k.key)&&D.value&&(k.key==="Escape"?((N=me.value)==null||N.blur(),f([d(e.id)])):n([d(e.id)]))}}}),O6=X6,H6={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top},P6=je({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:l,connectionEndHandle:o,connectionPosition:a,connectionLineType:s,connectionLineStyle:r,connectionLineOptions:u,connectionStatus:f,viewport:d,findNode:p}=et(),_=(e=Vn(ha))==null?void 0:e["connection-line"],w=We(()=>{var M;return p((M=l.value)==null?void 0:M.nodeId)}),C=We(()=>{var M;return p((M=o.value)==null?void 0:M.nodeId)??null}),m=We(()=>({x:(a.value.x-d.value.x)/d.value.zoom,y:(a.value.y-d.value.y)/d.value.zoom})),A=We(()=>u.value.markerStart?`url(#${ql(u.value.markerStart,t)})`:""),G=We(()=>u.value.markerEnd?`url(#${ql(u.value.markerEnd,t)})`:"");return()=>{var M,x,I,H;if(!w.value||!l.value)return null;const P=l.value.handleId,ee=l.value.type,ne=w.value.handleBounds;let ue=(ne==null?void 0:ne[ee])||[];if(n.value===Kn.Loose){const B=(ne==null?void 0:ne[ee==="source"?"target":"source"])||[];ue=[...ue,...B]}if(!ue)return null;const $=(P?ue.find(B=>B.id===P):ue[0])??null,J=($==null?void 0:$.position)||Ve.Top,{x:z,y:me}=ea(w.value,$,J);let D=null;C.value&&((M=o.value)!=null&&M.handleId)&&(n.value===Kn.Strict?D=((x=C.value.handleBounds[ee==="source"?"target":"source"])==null?void 0:x.find(B=>{var R;return B.id===((R=o.value)==null?void 0:R.handleId)}))||null:D=((I=[...C.value.handleBounds.source||[],...C.value.handleBounds.target||[]])==null?void 0:I.find(B=>{var R;return B.id===((R=o.value)==null?void 0:R.handleId)}))||null);const F=((H=o.value)==null?void 0:H.position)??(J?H6[J]:null);if(!J||!F)return null;const W=s.value??u.value.type??Yn.Bezier;let oe="";const re={sourceX:z,sourceY:me,sourcePosition:J,targetX:m.value.x,targetY:m.value.y,targetPosition:F};return W===Yn.Bezier?[oe]=eu(re):W===Yn.Step?[oe]=Zr({...re,borderRadius:0}):W===Yn.SmoothStep?[oe]=Zr(re):W===Yn.SimpleBezier?[oe]=h0(re):oe=`M${z},${me} ${m.value.x},${m.value.y}`,qe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},qe("g",{class:"vue-flow__connection"},_?qe(_,{sourceX:z,sourceY:me,sourcePosition:J,targetX:m.value.x,targetY:m.value.y,targetPosition:F,sourceNode:w.value,sourceHandle:$,targetNode:C.value,targetHandle:D,markerEnd:G.value,markerStart:A.value,connectionStatus:f.value}):qe("path",{d:oe,class:[u.value.class,f,"vue-flow__connection-path"],style:{...r.value,...u.value.style},"marker-end":G.value,"marker-start":A.value})))}}}),K6=P6,U6=["id","markerWidth","markerHeight","markerUnits","orient"],J6={name:"MarkerType",compatConfig:{MODE:3}},j6=je({...J6,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(V(),L("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===T(qo).ArrowClosed?(V(),L("polyline",{key:0,style:Le({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):ae("",!0),t.type===T(qo).Arrow?(V(),L("polyline",{key:1,style:Le({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):ae("",!0)],8,U6))}}),Q6={class:"vue-flow__marker vue-flow__container"},q6={name:"MarkerDefinitions",compatConfig:{MODE:3}},ey=je({...q6,setup(e){const{id:t,edges:n,connectionLineOptions:l,defaultMarkerColor:o}=et(),a=We(()=>{const s=new Set,r=[],u=f=>{if(f){const d=ql(f,t);s.has(d)||(typeof f=="object"?r.push({...f,id:d,color:f.color||o.value}):r.push({id:d,color:o.value,type:f}),s.add(d))}};for(const f of[l.value.markerEnd,l.value.markerStart])u(f);for(const f of n.value)for(const d of[f.markerStart,f.markerEnd])u(d);return r.sort((f,d)=>f.id.localeCompare(d.id))});return(s,r)=>(V(),L("svg",Q6,[i("defs",null,[(V(!0),L(Ye,null,lt(a.value,u=>(V(),ke(j6,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),ty={name:"Edges",compatConfig:{MODE:3}},ny=je({...ty,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:l}=et();return(o,a)=>(V(),L(Ye,null,[c(ey),(V(!0),L(Ye,null,lt(T(n),s=>(V(),L("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:Le({zIndex:T(k5)(s,T(t),T(l))})},[c(T(O6),{id:s.id},null,8,["id"])],4))),128)),c(T(K6))],64))}}),ly=je({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:l,nodesSelectionActive:o,multiSelectionActive:a,emits:s,removeSelectedNodes:r,addSelectedNodes:u,updateNodeDimensions:f,onUpdateNodeInternals:d,getNodeTypes:p,nodeExtent:_,elevateNodesOnSelect:w,disableKeyboardA11y:C,ariaLiveMessage:m,snapToGrid:A,snapGrid:G,nodeDragThreshold:M,nodesDraggable:x,elementsSelectable:I,nodesConnectable:H,nodesFocusable:P,hooks:ee}=et(),ne=v(null);Hn(a0,ne),Hn(qr,e.id);const ue=Vn(ha),$=no(),J=c0(),{node:z,parentNode:me}=u0(e.id),{emit:D,on:F}=F5(z,s),W=nt(()=>typeof z.draggable>"u"?x.value:z.draggable),oe=nt(()=>typeof z.selectable>"u"?I.value:z.selectable),re=nt(()=>typeof z.connectable>"u"?H.value:z.connectable),B=nt(()=>typeof z.focusable>"u"?P.value:z.focusable),R=nt(()=>oe.value||W.value||ee.value.nodeClick.hasListeners()||ee.value.nodeDoubleClick.hasListeners()||ee.value.nodeMouseEnter.hasListeners()||ee.value.nodeMouseMove.hasListeners()||ee.value.nodeMouseLeave.hasListeners()),ie=nt(()=>!!z.dimensions.width&&!!z.dimensions.height),j=We(()=>{const N=z.type||"default",E=ue==null?void 0:ue[`node-${N}`];if(E)return E;let X=z.template||p.value[N];if(typeof X=="string"&&$){const we=Object.keys($.appContext.components);we&&we.includes(N)&&(X=te(N,!1))}return X&&typeof X!="string"?X:(s.error(new Ct(yt.NODE_TYPE_MISSING,X)),!1)}),fe=s0({id:e.id,el:ne,disabled:()=>!W.value,selectable:oe,dragHandle:()=>z.dragHandle,onStart(N){D.dragStart(N)},onDrag(N){D.drag(N)},onStop(N){D.dragStop(N)},onClick(N){S(N)}}),se=We(()=>z.class instanceof Function?z.class(z):z.class),Se=We(()=>{const N=(z.style instanceof Function?z.style(z):z.style)||{},E=z.width instanceof Function?z.width(z):z.width,X=z.height instanceof Function?z.height(z):z.height;return!N.width&&E&&(N.width=typeof E=="string"?E:`${E}px`),!N.height&&X&&(N.height=typeof X=="string"?X:`${X}px`),N}),Ie=nt(()=>Number(z.zIndex??Se.value.zIndex??0));return d(N=>{(N.includes(e.id)||!N.length)&&he()}),$t(()=>{Ke(()=>z.hidden,(N=!1,E,X)=>{!N&&ne.value&&(e.resizeObserver.observe(ne.value),X(()=>{ne.value&&e.resizeObserver.unobserve(ne.value)}))},{immediate:!0,flush:"post"})}),Ke([()=>z.type,()=>z.sourcePosition,()=>z.targetPosition],()=>{Ft(()=>{f([{id:e.id,nodeElement:ne.value,forceUpdate:!0}])})}),Ke([()=>z.position.x,()=>z.position.y,()=>{var N;return(N=me.value)==null?void 0:N.computedPosition.x},()=>{var N;return(N=me.value)==null?void 0:N.computedPosition.y},()=>{var N;return(N=me.value)==null?void 0:N.computedPosition.z},Ie,()=>z.selected,()=>z.dimensions.height,()=>z.dimensions.width,()=>{var N;return(N=me.value)==null?void 0:N.dimensions.height},()=>{var N;return(N=me.value)==null?void 0:N.dimensions.width}],([N,E,X,we,xe,Me])=>{const Ge={x:N,y:E,z:Me+(w.value&&z.selected?1e3:0)};typeof X<"u"&&typeof we<"u"?z.computedPosition=w5({x:X,y:we,z:xe},Ge):z.computedPosition=Ge},{flush:"post",immediate:!0}),Ke([()=>z.extent,_],([N,E],[X,we])=>{(N!==X||E!==we)&&ye()}),z.extent==="parent"||typeof z.extent=="object"&&"range"in z.extent&&z.extent.range==="parent"?br(()=>ie).toBe(!0).then(ye):ye(),()=>z.hidden?null:qe("div",{ref:ne,"data-id":z.id,class:["vue-flow__node",`vue-flow__node-${j.value===!1?"default":z.type||"default"}`,{[n.value]:W.value,dragging:fe==null?void 0:fe.value,draggable:W.value,selected:z.selected,selectable:oe.value,parent:z.isParent},se.value],style:{visibility:ie.value?"visible":"hidden",zIndex:z.computedPosition.z??Ie.value,transform:`translate(${z.computedPosition.x}px,${z.computedPosition.y}px)`,pointerEvents:R.value?"all":"none",...Se.value},tabIndex:B.value?0:void 0,role:B.value?"button":void 0,"aria-describedby":C.value?void 0:`${Yd}-${t}`,"aria-label":z.ariaLabel,onMouseenter:De,onMousemove:Ce,onMouseleave:Y,onContextmenu:K,onClick:S,onDblclick:pe,onKeydown:k},[qe(j.value===!1?p.value.default:j.value,{id:z.id,type:z.type,data:z.data,events:{...z.events,...F},selected:z.selected,resizing:z.resizing,dragging:fe.value,connectable:re.value,position:z.computedPosition,dimensions:z.dimensions,isValidTargetPos:z.isValidTargetPos,isValidSourcePos:z.isValidSourcePos,parent:z.parentNode,parentNodeId:z.parentNode,zIndex:z.computedPosition.z??Ie.value,targetPosition:z.targetPosition,sourcePosition:z.sourcePosition,label:z.label,dragHandle:z.dragHandle,onUpdateNodeInternals:he})]);function ye(){const N=z.computedPosition,{computedPosition:E,position:X}=Jr(z,A.value?fa(N,G.value):N,s.error,_.value,me.value);(z.computedPosition.x!==E.x||z.computedPosition.y!==E.y)&&(z.computedPosition={...z.computedPosition,...E}),(z.position.x!==X.x||z.position.y!==X.y)&&(z.position=X)}function he(){ne.value&&f([{id:e.id,nodeElement:ne.value,forceUpdate:!0}])}function De(N){fe!=null&&fe.value||D.mouseEnter({event:N,node:z})}function Ce(N){fe!=null&&fe.value||D.mouseMove({event:N,node:z})}function Y(N){fe!=null&&fe.value||D.mouseLeave({event:N,node:z})}function K(N){return D.contextMenu({event:N,node:z})}function pe(N){return D.doubleClick({event:N,node:z})}function S(N){oe.value&&(!l.value||!W.value||M.value>0)&&Mr(z,a.value,u,r,o,!1,ne.value),D.click({event:N,node:z})}function k(N){if(!(Dr(N)||C.value))if(Td.includes(N.key)&&oe.value){const E=N.key==="Escape";Mr(z,a.value,u,r,o,E,ne.value)}else W.value&&z.selected&&fl[N.key]&&(N.preventDefault(),m.value=`Moved selected node ${N.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~z.position.x}, y: ${~~z.position.y}`,J({x:fl[N.key].x,y:fl[N.key].y},N.shiftKey))}}}),oy=ly,ay={height:"0",width:"0"},sy={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},iy=je({...sy,setup(e){const{viewportRef:t}=et(),n=nt(()=>{var l;return(l=t.value)==null?void 0:l.getElementsByClassName("vue-flow__edge-labels")[0]});return(l,o)=>(V(),L("svg",null,[(V(),L("foreignObject",ay,[(V(),ke(J2,{to:n.value,disabled:!n.value},[at(l.$slots,"default")],8,["to","disabled"]))]))]))}});function ry(e={includeHiddenNodes:!1}){const{nodes:t}=et();return We(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const uy={class:"vue-flow__nodes vue-flow__container"},cy={name:"Nodes",compatConfig:{MODE:3}},dy=je({...cy,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:l}=et(),o=ry(),a=v();return Ke(o,s=>{s&&Ft(()=>{l.nodesInitialized(t.value)})},{immediate:!0}),$t(()=>{a.value=new ResizeObserver(s=>{const r=s.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));Ft(()=>n(r))})}),oa(()=>{var s;return(s=a.value)==null?void 0:s.disconnect()}),(s,r)=>(V(),L("div",uy,[a.value?(V(!0),L(Ye,{key:0},lt(T(t),(u,f,d,p)=>{const _=[u.id];if(p&&p.key===u.id&&j2(p,_))return p;const w=(V(),ke(T(oy),{id:u.id,key:u.id,"resize-observer":a.value},null,8,["id","resize-observer"]));return w.memo=_,w},r,0),128)):ae("",!0)]))}});function fy(){const{emits:e}=et();$t(()=>{if(o0()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ct(yt.MISSING_STYLES))}})}const gy=i("div",{class:"vue-flow__edge-labels"},null,-1),hy={name:"VueFlow",compatConfig:{MODE:3}},py=je({...hy,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const l=e,o=P2(),a=us(l,"modelValue",n),s=us(l,"nodes",n),r=us(l,"edges",n),u=et(l),f=T5({modelValue:a,nodes:s,edges:r},l,u);return O5(n,u.hooks),Y6(),fy(),Hn(ha,o),sd(()=>{f()}),t(u),(d,p)=>(V(),L("div",{ref:T(u).vueFlowRef,class:"vue-flow"},[c(z6,null,{default:g(()=>[c(ny),gy,c(dy),at(d.$slots,"zoom-pane")]),_:3}),at(d.$slots,"default"),c(F6)],512))}}),my={name:"Panel",compatConfig:{MODE:3}},vy=je({...my,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=et(),l=We(()=>`${t.position}`.split("-"));return(o,a)=>(V(),L("div",{class:ot(["vue-flow__panel",l.value]),style:Le({pointerEvents:T(n)?"none":"all"})},[at(o.$slots,"default")],6))}}),_y={name:"ControlButton",compatConfig:{MODE:3}},yy=(e,t)=>{const n=e.__vccOpts||e;for(const[l,o]of t)n[l]=o;return n},wy={class:"vue-flow__controls-button"};function by(e,t,n,l,o,a){return V(),L("button",wy,[at(e.$slots,"default")])}const Tt=yy(_y,[["render",by]]),Cy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Iy=i("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),xy=[Iy];function Ay(e,t){return V(),L("svg",Cy,xy)}const ky={render:Ay},Sy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ny=i("path",{d:"M0 0h32v4.2H0z"},null,-1),Vy=[Ny];function Dy(e,t){return V(),L("svg",Sy,Vy)}const Ey={render:Dy},Gy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},My=i("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Zy=[My];function zy(e,t){return V(),L("svg",Gy,Zy)}const Ry={render:zy},Wy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ly=i("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),By=[Ly];function Fy(e,t){return V(),L("svg",Wy,By)}const Yy={render:Fy},$y={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ty=i("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Xy=[Ty];function Oy(e,t){return V(),L("svg",$y,Xy)}const Hy={render:Oy},Py={name:"Controls",compatConfig:{MODE:3}},Ky=je({...Py,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Fd.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:l,elementsSelectable:o,setInteractive:a,zoomIn:s,zoomOut:r,fitView:u,viewport:f,minZoom:d,maxZoom:p}=et(),_=nt(()=>n.value||l.value||o.value),w=nt(()=>f.value.zoom<=d.value),C=nt(()=>f.value.zoom>=p.value);function m(){s(),t("zoomIn")}function A(){r(),t("zoomOut")}function G(){u(e.fitViewParams),t("fitView")}function M(){a(!_.value),t("interactionChange",!_.value)}return(x,I)=>(V(),ke(T(vy),{class:"vue-flow__controls",position:x.position},{default:g(()=>[at(x.$slots,"top"),x.showZoom?(V(),L(Ye,{key:0},[at(x.$slots,"control-zoom-in",{},()=>[c(Tt,{class:"vue-flow__controls-zoomin",disabled:C.value,onClick:m},{default:g(()=>[at(x.$slots,"icon-zoom-in",{},()=>[(V(),ke(Fn(T(ky))))])]),_:3},8,["disabled"])]),at(x.$slots,"control-zoom-out",{},()=>[c(Tt,{class:"vue-flow__controls-zoomout",disabled:w.value,onClick:A},{default:g(()=>[at(x.$slots,"icon-zoom-out",{},()=>[(V(),ke(Fn(T(Ey))))])]),_:3},8,["disabled"])])],64)):ae("",!0),x.showFitView?at(x.$slots,"control-fit-view",{key:1},()=>[c(Tt,{class:"vue-flow__controls-fitview",onClick:G},{default:g(()=>[at(x.$slots,"icon-fit-view",{},()=>[(V(),ke(Fn(T(Ry))))])]),_:3})]):ae("",!0),x.showInteractive?at(x.$slots,"control-interactive",{key:2},()=>[x.showInteractive?(V(),ke(Tt,{key:0,class:"vue-flow__controls-interactive",onClick:M},{default:g(()=>[_.value?at(x.$slots,"icon-unlock",{key:0},()=>[(V(),ke(Fn(T(Hy))))]):ae("",!0),_.value?ae("",!0):at(x.$slots,"icon-lock",{key:1},()=>[(V(),ke(Fn(T(Yy))))])]),_:3})):ae("",!0)]):ae("",!0),at(x.$slots,"default")]),_:3},8,["position"]))}});var pn=(e=>(e.Lines="lines",e.Dots="dots",e))(pn||{});const m0=function({dimensions:e,size:t,color:n}){return qe("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},v0=function({radius:e,color:t}){return qe("circle",{cx:e,cy:e,r:e,fill:t})};pn.Lines+"",pn.Dots+"";const Uy={[pn.Dots]:"#81818a",[pn.Lines]:"#eee"},Jy=["id","x","y","width","height","patternTransform"],jy={key:2,height:"100",width:"100"},Qy=["fill"],qy=["x","y","fill"],ew={name:"Background",compatConfig:{MODE:3}},tw=je({...ew,props:{id:{},variant:{default:()=>pn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=et(),l=We(()=>{const s=n.value.zoom,[r,u]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],f=[r*s||1,u*s||1],d=e.size*s,[p,_]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],w=[p*s||1+f[0]/2,_*s||1+f[1]/2];return{scaledGap:f,offset:w,size:d}}),o=nt(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),a=nt(()=>e.color||e.patternColor||Uy[e.variant||pn.Dots]);return(s,r)=>(V(),L("svg",{class:"vue-flow__background vue-flow__container",style:Le({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[at(s.$slots,"pattern-container",{id:o.value},()=>[i("pattern",{id:o.value,x:T(n).x%l.value.scaledGap[0],y:T(n).y%l.value.scaledGap[1],width:l.value.scaledGap[0],height:l.value.scaledGap[1],patternTransform:`translate(-${l.value.offset[0]},-${l.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[at(s.$slots,"pattern",{},()=>[s.variant===T(pn).Lines?(V(),ke(T(m0),{key:0,size:s.lineWidth,color:a.value,dimensions:l.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===T(pn).Dots?(V(),ke(T(v0),{key:1,color:a.value,radius:l.value.size/2},null,8,["color","radius"])):ae("",!0),s.bgColor?(V(),L("svg",jy,[i("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,Qy)])):ae("",!0)])],8,Jy)]),i("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,qy),at(s.$slots,"default",{id:o.value})],4))}}),nw={class:"dropzone-background"},lw={class:"overlay"},ow=je({__name:"DragDropzoneBackground",setup(e){return(t,n)=>(V(),L("div",nw,[c(T(tw),{size:2,gap:20,"pattern-color":"#BDBDBD"}),i("div",lw,[at(t.$slots,"default")])]))}});var zr="http://www.w3.org/1999/xhtml";const qc={svg:"http://www.w3.org/2000/svg",xhtml:zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _0(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qc.hasOwnProperty(t)?{space:qc[t],local:e}:e}function aw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zr&&t.documentElement.namespaceURI===zr?t.createElement(e):t.createElementNS(n,e)}}function sw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function y0(e){var t=_0(e);return(t.local?sw:aw)(t)}function iw(){}function w0(e){return e==null?iw:function(){return this.querySelector(e)}}function rw(e){typeof e!="function"&&(e=w0(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var a=t[o],s=a.length,r=l[o]=new Array(s),u,f,d=0;d<s;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),r[d]=f);return new Xt(l,this._parents)}function uw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cw(){return[]}function dw(e){return e==null?cw:function(){return this.querySelectorAll(e)}}function fw(e){return function(){return uw(e.apply(this,arguments))}}function gw(e){typeof e=="function"?e=fw(e):e=dw(e);for(var t=this._groups,n=t.length,l=[],o=[],a=0;a<n;++a)for(var s=t[a],r=s.length,u,f=0;f<r;++f)(u=s[f])&&(l.push(e.call(u,u.__data__,f,s)),o.push(u));return new Xt(l,o)}function hw(e){return function(){return this.matches(e)}}function b0(e){return function(t){return t.matches(e)}}var pw=Array.prototype.find;function mw(e){return function(){return pw.call(this.children,e)}}function vw(){return this.firstElementChild}function _w(e){return this.select(e==null?vw:mw(typeof e=="function"?e:b0(e)))}var yw=Array.prototype.filter;function ww(){return Array.from(this.children)}function bw(e){return function(){return yw.call(this.children,e)}}function Cw(e){return this.selectAll(e==null?ww:bw(typeof e=="function"?e:b0(e)))}function Iw(e){typeof e!="function"&&(e=hw(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var a=t[o],s=a.length,r=l[o]=[],u,f=0;f<s;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&r.push(u);return new Xt(l,this._parents)}function C0(e){return new Array(e.length)}function xw(){return new Xt(this._enter||this._groups.map(C0),this._parents)}function na(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}na.prototype={constructor:na,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Aw(e){return function(){return e}}function kw(e,t,n,l,o,a){for(var s=0,r,u=t.length,f=a.length;s<f;++s)(r=t[s])?(r.__data__=a[s],l[s]=r):n[s]=new na(e,a[s]);for(;s<u;++s)(r=t[s])&&(o[s]=r)}function Sw(e,t,n,l,o,a,s){var r,u,f=new Map,d=t.length,p=a.length,_=new Array(d),w;for(r=0;r<d;++r)(u=t[r])&&(_[r]=w=s.call(u,u.__data__,r,t)+"",f.has(w)?o[r]=u:f.set(w,u));for(r=0;r<p;++r)w=s.call(e,a[r],r,a)+"",(u=f.get(w))?(l[r]=u,u.__data__=a[r],f.delete(w)):n[r]=new na(e,a[r]);for(r=0;r<d;++r)(u=t[r])&&f.get(_[r])===u&&(o[r]=u)}function Nw(e){return e.__data__}function Vw(e,t){if(!arguments.length)return Array.from(this,Nw);var n=t?Sw:kw,l=this._parents,o=this._groups;typeof e!="function"&&(e=Aw(e));for(var a=o.length,s=new Array(a),r=new Array(a),u=new Array(a),f=0;f<a;++f){var d=l[f],p=o[f],_=p.length,w=Dw(e.call(d,d&&d.__data__,f,l)),C=w.length,m=r[f]=new Array(C),A=s[f]=new Array(C),G=u[f]=new Array(_);n(d,p,m,A,G,w,t);for(var M=0,x=0,I,H;M<C;++M)if(I=m[M]){for(M>=x&&(x=M+1);!(H=A[x])&&++x<C;);I._next=H||null}}return s=new Xt(s,l),s._enter=r,s._exit=u,s}function Dw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ew(){return new Xt(this._exit||this._groups.map(C0),this._parents)}function Gw(e,t,n){var l=this.enter(),o=this,a=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),l&&o?l.merge(o).order():o}function Mw(e){for(var t=e.selection?e.selection():e,n=this._groups,l=t._groups,o=n.length,a=l.length,s=Math.min(o,a),r=new Array(o),u=0;u<s;++u)for(var f=n[u],d=l[u],p=f.length,_=r[u]=new Array(p),w,C=0;C<p;++C)(w=f[C]||d[C])&&(_[C]=w);for(;u<o;++u)r[u]=n[u];return new Xt(r,this._parents)}function Zw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var l=e[t],o=l.length-1,a=l[o],s;--o>=0;)(s=l[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function zw(e){e||(e=Rw);function t(p,_){return p&&_?e(p.__data__,_.__data__):!p-!_}for(var n=this._groups,l=n.length,o=new Array(l),a=0;a<l;++a){for(var s=n[a],r=s.length,u=o[a]=new Array(r),f,d=0;d<r;++d)(f=s[d])&&(u[d]=f);u.sort(t)}return new Xt(o,this._parents).order()}function Rw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ww(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lw(){return Array.from(this)}function Bw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,a=l.length;o<a;++o){var s=l[o];if(s)return s}return null}function Fw(){let e=0;for(const t of this)++e;return e}function Yw(){return!this.node()}function $w(e){for(var t=this._groups,n=0,l=t.length;n<l;++n)for(var o=t[n],a=0,s=o.length,r;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this}function Tw(e){return function(){this.removeAttribute(e)}}function Xw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ow(e,t){return function(){this.setAttribute(e,t)}}function Hw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Kw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Uw(e,t){var n=_0(e);if(arguments.length<2){var l=this.node();return n.local?l.getAttributeNS(n.space,n.local):l.getAttribute(n)}return this.each((t==null?n.local?Xw:Tw:typeof t=="function"?n.local?Kw:Pw:n.local?Hw:Ow)(n,t))}function I0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Jw(e){return function(){this.style.removeProperty(e)}}function jw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Qw(e,t,n){return function(){var l=t.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,n)}}function qw(e,t,n){return arguments.length>1?this.each((t==null?Jw:typeof t=="function"?Qw:jw)(e,t,n??"")):eb(this.node(),e)}function eb(e,t){return e.style.getPropertyValue(t)||I0(e).getComputedStyle(e,null).getPropertyValue(t)}function tb(e){return function(){delete this[e]}}function nb(e,t){return function(){this[e]=t}}function lb(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ob(e,t){return arguments.length>1?this.each((t==null?tb:typeof t=="function"?lb:nb)(e,t)):this.node()[e]}function x0(e){return e.trim().split(/^|\s+/)}function nu(e){return e.classList||new A0(e)}function A0(e){this._node=e,this._names=x0(e.getAttribute("class")||"")}A0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function k0(e,t){for(var n=nu(e),l=-1,o=t.length;++l<o;)n.add(t[l])}function S0(e,t){for(var n=nu(e),l=-1,o=t.length;++l<o;)n.remove(t[l])}function ab(e){return function(){k0(this,e)}}function sb(e){return function(){S0(this,e)}}function ib(e,t){return function(){(t.apply(this,arguments)?k0:S0)(this,e)}}function rb(e,t){var n=x0(e+"");if(arguments.length<2){for(var l=nu(this.node()),o=-1,a=n.length;++o<a;)if(!l.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?ib:t?ab:sb)(n,t))}function ub(){this.textContent=""}function cb(e){return function(){this.textContent=e}}function db(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fb(e){return arguments.length?this.each(e==null?ub:(typeof e=="function"?db:cb)(e)):this.node().textContent}function gb(){this.innerHTML=""}function hb(e){return function(){this.innerHTML=e}}function pb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function mb(e){return arguments.length?this.each(e==null?gb:(typeof e=="function"?pb:hb)(e)):this.node().innerHTML}function vb(){this.nextSibling&&this.parentNode.appendChild(this)}function _b(){return this.each(vb)}function yb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wb(){return this.each(yb)}function bb(e){var t=typeof e=="function"?e:y0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Cb(){return null}function Ib(e,t){var n=typeof e=="function"?e:y0(e),l=t==null?Cb:typeof t=="function"?t:w0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),l.apply(this,arguments)||null)})}function xb(){var e=this.parentNode;e&&e.removeChild(this)}function Ab(){return this.each(xb)}function kb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Nb(e){return this.select(e?Sb:kb)}function Vb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Db(e){return function(t){e.call(this,t,this.__data__)}}function Eb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",l=t.indexOf(".");return l>=0&&(n=t.slice(l+1),t=t.slice(0,l)),{type:t,name:n}})}function Gb(e){return function(){var t=this.__on;if(t){for(var n=0,l=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++l]=a;++l?t.length=l:delete this.__on}}}function Mb(e,t,n){return function(){var l=this.__on,o,a=Db(t);if(l){for(var s=0,r=l.length;s<r;++s)if((o=l[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},l?l.push(o):this.__on=[o]}}function Zb(e,t,n){var l=Eb(e+""),o,a=l.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var u=0,f=r.length,d;u<f;++u)for(o=0,d=r[u];o<a;++o)if((s=l[o]).type===d.type&&s.name===d.name)return d.value}return}for(r=t?Mb:Gb,o=0;o<a;++o)this.each(r(l[o],t,n));return this}function N0(e,t,n){var l=I0(e),o=l.CustomEvent;typeof o=="function"?o=new o(t,n):(o=l.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function zb(e,t){return function(){return N0(this,e,t)}}function Rb(e,t){return function(){return N0(this,e,t.apply(this,arguments))}}function Wb(e,t){return this.each((typeof t=="function"?Rb:zb)(e,t))}function*Lb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,a=l.length,s;o<a;++o)(s=l[o])&&(yield s)}var Bb=[null];function Xt(e,t){this._groups=e,this._parents=t}function Fb(){return this}Xt.prototype={constructor:Xt,select:rw,selectAll:gw,selectChild:_w,selectChildren:Cw,filter:Iw,data:Vw,enter:xw,exit:Ew,join:Gw,merge:Mw,selection:Fb,order:Zw,sort:zw,call:Ww,nodes:Lw,node:Bw,size:Fw,empty:Yw,each:$w,attr:Uw,style:qw,property:ob,classed:rb,text:fb,html:mb,raise:_b,lower:wb,append:bb,insert:Ib,remove:Ab,clone:Nb,datum:Vb,on:Zb,dispatch:Wb,[Symbol.iterator]:Lb};function eo(e){return typeof e=="string"?new Xt([[document.querySelector(e)]],[document.documentElement]):new Xt([[e]],Bb)}function Yb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ed(e,t){if(e=Yb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var l=n.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var $b={value:()=>{}};function V0(){for(var e=0,t=arguments.length,n={},l;e<t;++e){if(!(l=arguments[e]+"")||l in n||/[\s.]/.test(l))throw new Error("illegal type: "+l);n[l]=[]}return new Ho(n)}function Ho(e){this._=e}function Tb(e,t){return e.trim().split(/^|\s+/).map(function(n){var l="",o=n.indexOf(".");if(o>=0&&(l=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:l}})}Ho.prototype=V0.prototype={constructor:Ho,on:function(e,t){var n=this._,l=Tb(e+"",n),o,a=-1,s=l.length;if(arguments.length<2){for(;++a<s;)if((o=(e=l[a]).type)&&(o=Xb(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(o=(e=l[a]).type)n[o]=td(n[o],e.name,t);else if(t==null)for(o in n)n[o]=td(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ho(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),l=0,o,a;l<o;++l)n[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],l=0,o=a.length;l<o;++l)a[l].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],o=0,a=l.length;o<a;++o)l[o].value.apply(t,n)}};function Xb(e,t){for(var n=0,l=e.length,o;n<l;++n)if((o=e[n]).name===t)return o.value}function td(e,t,n){for(var l=0,o=e.length;l<o;++l)if(e[l].name===t){e[l]=$b,e=e.slice(0,l).concat(e.slice(l+1));break}return n!=null&&e.push({name:t,value:n}),e}const Ob={passive:!1},to={capture:!0,passive:!1};function bs(e){e.stopImmediatePropagation()}function gl(e){e.preventDefault(),e.stopImmediatePropagation()}function Hb(e){var t=e.document.documentElement,n=eo(e).on("dragstart.drag",gl,to);"onselectstart"in t?n.on("selectstart.drag",gl,to):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Pb(e,t){var n=e.document.documentElement,l=eo(e).on("dragstart.drag",null);t&&(l.on("click.drag",gl,to),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in n?l.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bo=e=>()=>e;function Rr(e,{sourceEvent:t,subject:n,target:l,identifier:o,active:a,x:s,y:r,dx:u,dy:f,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:d}})}Rr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Kb(e){return!e.ctrlKey&&!e.button}function Ub(){return this.parentNode}function Jb(e,t){return t??{x:e.x,y:e.y}}function jb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qb(){var e=Kb,t=Ub,n=Jb,l=jb,o={},a=V0("start","drag","end"),s=0,r,u,f,d,p=0;function _(I){I.on("mousedown.drag",w).filter(l).on("touchstart.drag",A).on("touchmove.drag",G,Ob).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(I,H){if(!(d||!e.call(this,I,H))){var P=x(this,t.call(this,I,H),I,H,"mouse");P&&(eo(I.view).on("mousemove.drag",C,to).on("mouseup.drag",m,to),Hb(I.view),bs(I),f=!1,r=I.clientX,u=I.clientY,P("start",I))}}function C(I){if(gl(I),!f){var H=I.clientX-r,P=I.clientY-u;f=H*H+P*P>p}o.mouse("drag",I)}function m(I){eo(I.view).on("mousemove.drag mouseup.drag",null),Pb(I.view,f),gl(I),o.mouse("end",I)}function A(I,H){if(e.call(this,I,H)){var P=I.changedTouches,ee=t.call(this,I,H),ne=P.length,ue,$;for(ue=0;ue<ne;++ue)($=x(this,ee,I,H,P[ue].identifier,P[ue]))&&(bs(I),$("start",I,P[ue]))}}function G(I){var H=I.changedTouches,P=H.length,ee,ne;for(ee=0;ee<P;++ee)(ne=o[H[ee].identifier])&&(gl(I),ne("drag",I,H[ee]))}function M(I){var H=I.changedTouches,P=H.length,ee,ne;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),ee=0;ee<P;++ee)(ne=o[H[ee].identifier])&&(bs(I),ne("end",I,H[ee]))}function x(I,H,P,ee,ne,ue){var $=a.copy(),J=ed(ue||P,H),z,me,D;if((D=n.call(I,new Rr("beforestart",{sourceEvent:P,target:_,identifier:ne,active:s,x:J[0],y:J[1],dx:0,dy:0,dispatch:$}),ee))!=null)return z=D.x-J[0]||0,me=D.y-J[1]||0,function F(W,oe,re){var B=J,R;switch(W){case"start":o[ne]=F,R=s++;break;case"end":delete o[ne],--s;case"drag":J=ed(re||oe,H),R=s;break}$.call(W,I,new Rr(W,{sourceEvent:oe,subject:D,target:_,identifier:ne,active:R,x:J[0]+z,y:J[1]+me,dx:J[0]-B[0],dy:J[1]-B[1],dispatch:$}),ee)}}return _.filter=function(I){return arguments.length?(e=typeof I=="function"?I:Bo(!!I),_):e},_.container=function(I){return arguments.length?(t=typeof I=="function"?I:Bo(I),_):t},_.subject=function(I){return arguments.length?(n=typeof I=="function"?I:Bo(I),_):n},_.touchable=function(I){return arguments.length?(l=typeof I=="function"?I:Bo(!!I),_):l},_.on=function(){var I=a.on.apply(a,arguments);return I===a?_:I},_.clickDistance=function(I){return arguments.length?(p=(I=+I)*I,_):Math.sqrt(p)},_}var vl=(e=>(e.Line="line",e.Handle="handle",e))(vl||{});function qb({width:e,prevWidth:t,height:n,prevHeight:l,invertX:o,invertY:a}){const s=e-t,r=n-l,u=[s>0?1:s<0?-1:0,r>0?1:r<0?-1:0];return s&&o&&(u[0]=u[0]*-1),r&&a&&(u[1]=u[1]*-1),u}const e8={[vl.Line]:"right",[vl.Handle]:"bottom-right"},t8={[vl.Line]:"borderColor",[vl.Handle]:"backgroundColor"},n8={name:"ResizeControl",compatConfig:{MODE:3}},nd=je({...n8,props:{nodeId:{},color:{},minWidth:{default:10},minHeight:{default:10},maxWidth:{default:Number.MAX_VALUE},maxHeight:{default:Number.MAX_VALUE},position:{},variant:{default:"handle"},shouldResize:{},keepAspectRatio:{type:[Boolean,Number],default:!1}},emits:["resizeStart","resize","resizeEnd"],setup(e,{emit:t}){const n=e,l={width:0,height:0,x:0,y:0},o={...l,pointerX:0,pointerY:0,aspectRatio:1},{findNode:a,emits:s}=et(),r=i0(),u=v();let f=o,d=l;const p=nt(()=>n.position??e8[n.variant]),_=nt(()=>p.value.split("-")),w=nt(()=>n.color?{[t8[n.variant]]:n.color}:{});return tf(C=>{if(!u.value||!n.nodeId)return;const m=eo(u.value),A=p.value.includes("right")||p.value.includes("left"),G=p.value.includes("bottom")||p.value.includes("top"),M=p.value.includes("left"),x=p.value.includes("top"),I=Qb().on("start",H=>{const P=a(n.nodeId),{xSnapped:ee,ySnapped:ne}=r(H);d={width:(P==null?void 0:P.dimensions.width)??0,height:(P==null?void 0:P.dimensions.height)??0,x:(P==null?void 0:P.position.x)??0,y:(P==null?void 0:P.position.y)??0},f={...d,pointerX:ee,pointerY:ne,aspectRatio:d.width/d.height},t("resizeStart",{event:H,params:d})}).on("drag",H=>{var P;const{xSnapped:ee,ySnapped:ne}=r(H),ue=a(n.nodeId);if(ue){const $=[],{pointerX:J,pointerY:z,width:me,height:D,x:F,y:W,aspectRatio:oe}=f,{x:re,y:B,width:R,height:ie}=d,j=Math.floor(A?ee-J:0),fe=Math.floor(G?ne-z:0);let se=_n(me+(M?-j:j),n.minWidth,n.maxWidth),Se=_n(D+(x?-fe:fe),n.minHeight,n.maxHeight);if(n.keepAspectRatio){const Y=se/Se;let K=oe;typeof n.keepAspectRatio=="number"&&Y!==n.keepAspectRatio&&(K=n.keepAspectRatio);const pe=A&&G,S=A&&!G,k=G&&!A;se=Y<=K&&pe||k?Se*K:se,Se=Y>K&&pe||S?se/K:Se,se>=n.maxWidth?(se=n.maxWidth,Se=n.maxWidth/K):se<=n.minWidth&&(se=n.minWidth,Se=n.minWidth/K),Se>=n.maxHeight?(Se=n.maxHeight,se=n.maxHeight*K):Se<=n.minHeight&&(Se=n.minHeight,se=n.minHeight*K)}const Ie=se!==R,ye=Se!==ie;if(M||x){const Y=M?F-(se-me):F,K=x?W-(Se-D):W,pe=Y!==re&&Ie,S=K!==B&&ye;if(pe||S){const k={id:ue.id,type:"position",from:ue.position,position:{x:pe?Y:re,y:S?K:B}};$.push(k),d.x=k.position.x,d.y=k.position.y}}if(n.nodeId&&(Ie||ye)){const Y={id:n.nodeId,type:"dimensions",updateStyle:!0,resizing:!0,dimensions:{width:se,height:Se}};$.push(Y),d.width=se,d.height=Se}if($.length===0)return;const he=qb({width:d.width,prevWidth:R,height:d.height,prevHeight:ie,invertX:M,invertY:x}),De={...d,direction:he};if(((P=n.shouldResize)==null?void 0:P.call(n,H,De))===!1)return;t("resize",{event:H,params:De}),s.nodesChange($)}}).on("end",H=>{if(n.nodeId){const P={id:n.nodeId,type:"dimensions",resizing:!1};t("resizeEnd",{event:H,params:d}),s.nodesChange([P])}});m.call(I),C(()=>{m.on(".drag",null)})}),(C,m)=>(V(),L("div",{ref_key:"resizeControlRef",ref:u,class:ot(["vue-flow__resize-control nodrag",[..._.value,C.variant]]),style:Le(w.value)},[at(C.$slots,"default")],6))}}),l8={name:"NodeResizer",compatConfig:{MODE:3},inheritAttrs:!1},o8=je({...l8,props:{nodeId:{},color:{},handleClassName:{},handleStyle:{},lineClassName:{},lineStyle:{},isVisible:{type:Boolean,default:!0},minWidth:{},minHeight:{},maxWidth:{},maxHeight:{},shouldResize:{},keepAspectRatio:{type:[Boolean,Number]}},emits:["resizeStart","resize","resizeEnd"],setup(e,{emit:t}){const n=e,{findNode:l,emits:o}=et(),a=["top-left","top-right","bottom-left","bottom-right"],s=["top","right","bottom","left"],r=Vn(qr,null),u=nt(()=>typeof n.nodeId=="string"?n.nodeId:r),f=We(()=>l(u.value));return Ke([()=>n.minWidth,()=>n.minHeight,()=>n.maxWidth,()=>n.maxHeight,()=>{var d;return!!((d=f.value)!=null&&d.dimensions.width)&&!!f.value.dimensions.height}],([d,p,_,w,C])=>{const m=f.value;if(m&&C){const A={id:m.id,type:"dimensions",updateStyle:!0,dimensions:{width:m.dimensions.width,height:m.dimensions.height}};d&&m.dimensions.width<d&&(A.dimensions.width=d),p&&m.dimensions.height<p&&(A.dimensions.height=p),_&&m.dimensions.width>_&&(A.dimensions.width=_),w&&m.dimensions.height>w&&(A.dimensions.height=w),(A.dimensions.width!==m.dimensions.width||A.dimensions.height!==m.dimensions.height)&&o.nodesChange([A])}},{flush:"post",immediate:!0}),(d,p)=>d.isVisible?(V(),L(Ye,{key:0},[(V(),L(Ye,null,lt(s,_=>c(nd,{key:_,class:ot(d.lineClassName),style:Le(d.lineStyle),"node-id":u.value,position:_,variant:T(vl).Line,"keep-aspect-ratio":d.keepAspectRatio,color:d.color,"min-width":d.minWidth,"min-height":d.minHeight,"max-width":d.maxWidth,"max-height":d.maxHeight,"should-resize":d.shouldResize,onResizeStart:p[0]||(p[0]=w=>t("resizeStart",w)),onResize:p[1]||(p[1]=w=>t("resize",w)),onResizeEnd:p[2]||(p[2]=w=>t("resizeEnd",w))},null,8,["class","style","node-id","position","variant","keep-aspect-ratio","color","min-width","min-height","max-width","max-height","should-resize"])),64)),(V(),L(Ye,null,lt(a,_=>c(nd,{key:_,class:ot(d.handleClassName),style:Le(d.handleStyle),"node-id":u.value,position:_,color:d.color,"min-width":d.minWidth,"min-height":d.minHeight,"max-width":d.maxWidth,"max-height":d.maxHeight,"should-resize":d.shouldResize,"keep-aspect-ratio":d.keepAspectRatio,onResizeStart:p[3]||(p[3]=w=>t("resizeStart",w)),onResize:p[4]||(p[4]=w=>t("resize",w)),onResizeEnd:p[5]||(p[5]=w=>t("resizeEnd",w))},null,8,["class","style","node-id","position","color","min-width","min-height","max-width","max-height","should-resize","keep-aspect-ratio"])),64))],64)):ae("",!0)}}),a8=e=>(Un("data-v-d0879857"),e=e(),Jn(),e),s8=a8(()=>i("i",{class:"fa-solid fa-xmark"},null,-1)),i8=[s8],r8={class:"node-content"},u8={style:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center",width:"100%"}},c8=["src"],d8={key:0,class:"node-label"},f8={style:{width:"100%","justify-content":"right","align-items":"center",display:"flex","margin-right":"8px",padding:"0"}},g8=["onClick"],h8=["src"],p8={__name:"ModelingCustomNode",props:["id","data","userRole"],emits:["showResults"],setup(e,{emit:t}){const{updateNodeData:n,removeNodes:l,findNode:o}=et(),a=e,s=["结果","特征选择结果","相关系数矩阵热力图","连续样本指标变换","不同类型样本占比","原始信号波形图","总结论","详情","准确率分析"],r=v(!1);v(a.data.label),v(null);const u=t,f=C=>{let m;switch(C){case"插值处理":m="interpolation-icon.svg";break;case"特征提取":m="extraction-icon.svg";break;case"无量纲化":m="normalization-icon.svg";break;case"特征选择":m="feature-selection-icon.svg";break;case"小波变换":m="wavelet-icon.svg";break;case"数据源":m="data-source-icon.svg";break;case"故障诊断":m="fault-diagnosis-icon.svg";break;case"故障预测":m="fault-prediction-icon.svg";break;case"自定义模块":m="custom-module-icon.svg";break;case"异常值检测":m="abnormal-detection-icon.svg";break;case"层次分析模糊综合评估":case"层次逻辑回归评估":case"层次朴素贝叶斯评估":case"健康评估":m="health-evaluation-icon.svg"}return new URL(Object.assign({"../../assets/abnormal-detection-icon.svg":Is,"../../assets/algorithm-introduction.png":xs,"../../assets/algorithms-icon.svg":As,"../../assets/algorithms-unfold.png":ks,"../../assets/analysis-result-icon.svg":Ss,"../../assets/analysisOfAccuracy.svg":Ns,"../../assets/browser-saved-models-1.png":Vs,"../../assets/browser-saved-models-2.png":Ds,"../../assets/check-model-tip.png":Es,"../../assets/custom-module-icon.svg":Gs,"../../assets/customize-model-1.png":Ms,"../../assets/customize-model-2.png":Zs,"../../assets/data-icon.svg":zs,"../../assets/data-source-icon.svg":Rs,"../../assets/details-icon.svg":Ws,"../../assets/exampleCode/My-FD-Algorithm-1.py":Ls,"../../assets/exampleCode/My-FaultPredict-Algorithm-1.py":Bs,"../../assets/exampleCode/My-HE-Algorithm-1.pkl":Fs,"../../assets/exampleCode/My-HE-Algorithm-1.py":Ys,"../../assets/exampleCode/My-Interpolation.py":$s,"../../assets/exampleCode/My-Nor-Algorithm-1.py":Ts,"../../assets/exampleCode/My-Wavelet-1.py":Xs,"../../assets/exampleCode/randomForestTrain.py":Os,"../../assets/exampleCode/svcTrain.py":Hs,"../../assets/exampleCode/train_fdmssw.py":Ps,"../../assets/exampleCode/train_gru.py":Ks,"../../assets/exampleCode/train_lstm.py":Us,"../../assets/exampleCode/train_simmodel.py":Js,"../../assets/exampleCode/train_ulcnn.py":js,"../../assets/extraction-icon.svg":Qs,"../../assets/fault-diagnosis-icon.svg":qs,"../../assets/fault-diagnosis-load-model-2.png":ei,"../../assets/fault-diagnosis-load-model.png":ti,"../../assets/fault-diagnosis-model-params.png":ni,"../../assets/fault-diagnosis-outline.png":li,"../../assets/fault-diagnosis-prediction-ml.png":oi,"../../assets/fault-diagnosis-prediction.png":ai,"../../assets/fault-prediction-icon.svg":si,"../../assets/fault-prediction-outline.png":ii,"../../assets/fault-prediction-output.png":ri,"../../assets/feature-selection-icon.svg":ui,"../../assets/features-selection-result-icon.svg":ci,"../../assets/folderOpen.svg":di,"../../assets/health-evaluation-icon.svg":fi,"../../assets/health-evaluation-load-model.png":gi,"../../assets/health-evaluation-outline-1.png":hi,"../../assets/health-evaluation-outline-2.png":pi,"../../assets/health-evaluation-outline-3.png":mi,"../../assets/health-evaluation-output.png":vi,"../../assets/health-evaluation-params-1.png":_i,"../../assets/health-evaluation-params-2.png":yi,"../../assets/health-evaluation-params.png":wi,"../../assets/health-evaluation-prediction.png":bi,"../../assets/heatmap-icon.svg":Ci,"../../assets/indicators-trend-icon.svg":Ii,"../../assets/interpolation-icon.svg":xi,"../../assets/interpolation-outline.png":Ai,"../../assets/interpolation-output.png":ki,"../../assets/interpolation-params.png":Si,"../../assets/line.gif":Ni,"../../assets/login-background-2.jpg":Vi,"../../assets/login-background.jpg":Di,"../../assets/logo.png":Ei,"../../assets/modeilng-finish.png":Gi,"../../assets/model-check.png":Mi,"../../assets/model-icon.svg":Zi,"../../assets/modeling-finish-1.png":zi,"../../assets/modeling-finish-2.png":Ri,"../../assets/modeling-processing.png":Wi,"../../assets/modeling.png":Li,"../../assets/models-icon.svg":Bi,"../../assets/noParams.png":Fi,"../../assets/normalization-icon.svg":Yi,"../../assets/normalization-input.png":$i,"../../assets/normalization-outline-1.png":Ti,"../../assets/normalization-outline-2.png":Xi,"../../assets/normalization-params.png":Oi,"../../assets/normalization-process-output.png":Hi,"../../assets/pie-chart-icon.svg":Pi,"../../assets/recommend-model-1.png":Ki,"../../assets/rectify-model-1.png":Ui,"../../assets/rectify-model-2.png":Ji,"../../assets/rectify-model-3.png":ji,"../../assets/results.png":Qi,"../../assets/save-model-1.png":qi,"../../assets/save-model-2.png":er,"../../assets/set-params.png":tr,"../../assets/step_1_drag.gif":nr,"../../assets/step_2_setting.gif":lr,"../../assets/step_3_modeling.gif":or,"../../assets/step_4_modelCheck.gif":ar,"../../assets/summary-icon.svg":sr,"../../assets/swjtu.jpg":ir,"../../assets/system-logo.png":rr,"../../assets/system-outline.png":ur,"../../assets/systemModels.svg":cr,"../../assets/upload-data-1.png":dr,"../../assets/upload-data-2.png":fr,"../../assets/upload-data-3.png":gr,"../../assets/userModels.svg":hr,"../../assets/waveform-icon.svg":pr,"../../assets/wavelet-icon.svg":mr,"../../assets/wavelet-transform-outline.png":vr,"../../assets/wavelet-transform-output.png":_r,"../../assets/wavelet-transform-params.png":yr})[`../../assets/${m}`],import.meta.url).href};function d(C){let m;if(C==="结果")m="analysis-result-icon.svg";else if(C==="特征选择结果")m="features-selection-result-icon.svg";else if(C==="相关系数矩阵热力图")m="heatmap-icon.svg";else if(C==="连续样本指标变换")m="indicators-trend-icon.svg";else if(C==="不同类型样本占比")m="pie-chart-icon.svg";else if(C==="原始信号波形图")m="waveform-icon.svg";else if(C==="准确率分析")m="analysisOfAccuracy.svg";else if(C==="总结论")m="summary-icon.svg";else if(C==="详情")m="details-icon.svg";else if(C)return"fa-solid fa-magnet";return new URL(Object.assign({"../../assets/abnormal-detection-icon.svg":Is,"../../assets/algorithm-introduction.png":xs,"../../assets/algorithms-icon.svg":As,"../../assets/algorithms-unfold.png":ks,"../../assets/analysis-result-icon.svg":Ss,"../../assets/analysisOfAccuracy.svg":Ns,"../../assets/browser-saved-models-1.png":Vs,"../../assets/browser-saved-models-2.png":Ds,"../../assets/check-model-tip.png":Es,"../../assets/custom-module-icon.svg":Gs,"../../assets/customize-model-1.png":Ms,"../../assets/customize-model-2.png":Zs,"../../assets/data-icon.svg":zs,"../../assets/data-source-icon.svg":Rs,"../../assets/details-icon.svg":Ws,"../../assets/exampleCode/My-FD-Algorithm-1.py":Ls,"../../assets/exampleCode/My-FaultPredict-Algorithm-1.py":Bs,"../../assets/exampleCode/My-HE-Algorithm-1.pkl":Fs,"../../assets/exampleCode/My-HE-Algorithm-1.py":Ys,"../../assets/exampleCode/My-Interpolation.py":$s,"../../assets/exampleCode/My-Nor-Algorithm-1.py":Ts,"../../assets/exampleCode/My-Wavelet-1.py":Xs,"../../assets/exampleCode/randomForestTrain.py":Os,"../../assets/exampleCode/svcTrain.py":Hs,"../../assets/exampleCode/train_fdmssw.py":Ps,"../../assets/exampleCode/train_gru.py":Ks,"../../assets/exampleCode/train_lstm.py":Us,"../../assets/exampleCode/train_simmodel.py":Js,"../../assets/exampleCode/train_ulcnn.py":js,"../../assets/extraction-icon.svg":Qs,"../../assets/fault-diagnosis-icon.svg":qs,"../../assets/fault-diagnosis-load-model-2.png":ei,"../../assets/fault-diagnosis-load-model.png":ti,"../../assets/fault-diagnosis-model-params.png":ni,"../../assets/fault-diagnosis-outline.png":li,"../../assets/fault-diagnosis-prediction-ml.png":oi,"../../assets/fault-diagnosis-prediction.png":ai,"../../assets/fault-prediction-icon.svg":si,"../../assets/fault-prediction-outline.png":ii,"../../assets/fault-prediction-output.png":ri,"../../assets/feature-selection-icon.svg":ui,"../../assets/features-selection-result-icon.svg":ci,"../../assets/folderOpen.svg":di,"../../assets/health-evaluation-icon.svg":fi,"../../assets/health-evaluation-load-model.png":gi,"../../assets/health-evaluation-outline-1.png":hi,"../../assets/health-evaluation-outline-2.png":pi,"../../assets/health-evaluation-outline-3.png":mi,"../../assets/health-evaluation-output.png":vi,"../../assets/health-evaluation-params-1.png":_i,"../../assets/health-evaluation-params-2.png":yi,"../../assets/health-evaluation-params.png":wi,"../../assets/health-evaluation-prediction.png":bi,"../../assets/heatmap-icon.svg":Ci,"../../assets/indicators-trend-icon.svg":Ii,"../../assets/interpolation-icon.svg":xi,"../../assets/interpolation-outline.png":Ai,"../../assets/interpolation-output.png":ki,"../../assets/interpolation-params.png":Si,"../../assets/line.gif":Ni,"../../assets/login-background-2.jpg":Vi,"../../assets/login-background.jpg":Di,"../../assets/logo.png":Ei,"../../assets/modeilng-finish.png":Gi,"../../assets/model-check.png":Mi,"../../assets/model-icon.svg":Zi,"../../assets/modeling-finish-1.png":zi,"../../assets/modeling-finish-2.png":Ri,"../../assets/modeling-processing.png":Wi,"../../assets/modeling.png":Li,"../../assets/models-icon.svg":Bi,"../../assets/noParams.png":Fi,"../../assets/normalization-icon.svg":Yi,"../../assets/normalization-input.png":$i,"../../assets/normalization-outline-1.png":Ti,"../../assets/normalization-outline-2.png":Xi,"../../assets/normalization-params.png":Oi,"../../assets/normalization-process-output.png":Hi,"../../assets/pie-chart-icon.svg":Pi,"../../assets/recommend-model-1.png":Ki,"../../assets/rectify-model-1.png":Ui,"../../assets/rectify-model-2.png":Ji,"../../assets/rectify-model-3.png":ji,"../../assets/results.png":Qi,"../../assets/save-model-1.png":qi,"../../assets/save-model-2.png":er,"../../assets/set-params.png":tr,"../../assets/step_1_drag.gif":nr,"../../assets/step_2_setting.gif":lr,"../../assets/step_3_modeling.gif":or,"../../assets/step_4_modelCheck.gif":ar,"../../assets/summary-icon.svg":sr,"../../assets/swjtu.jpg":ir,"../../assets/system-logo.png":rr,"../../assets/system-outline.png":ur,"../../assets/systemModels.svg":cr,"../../assets/upload-data-1.png":dr,"../../assets/upload-data-2.png":fr,"../../assets/upload-data-3.png":gr,"../../assets/userModels.svg":hr,"../../assets/waveform-icon.svg":pr,"../../assets/wavelet-icon.svg":mr,"../../assets/wavelet-transform-outline.png":vr,"../../assets/wavelet-transform-output.png":_r,"../../assets/wavelet-transform-params.png":yr})[`../../assets/${m}`],import.meta.url).href}function p(C,m){u("showResults",a,m)}function _(C,m){if(console.log("shouldShowIcon props.data: ",C.data),C.data.laglabel==="数据源")return!1;if(C.data.label=="z-score标准化")return!1;if(C.data.laglabel==="特征选择"&&m==="特征选择结果"|m==="相关系数矩阵热力图")return!0;if(C.data.laglabel==="特征选择"|C.data.laglabel==="层次分析模糊综合评估"|C.data.laglabel=="层次朴素贝叶斯评估"|C.data.laglabel=="层次逻辑回归评估"|C.data.laglabel==="故障诊断"&&m==="结果")return!1;if(C.data.laglabel!=="数据源"&&m==="结果")return!0;if((C.data.laglabel=="层次分析模糊综合评估"||C.data.laglabel=="层次朴素贝叶斯评估"||C.data.laglabel=="层次逻辑回归评估")&&m==="总结论"|m==="详情")return!0;if(C.data.laglabel=="故障诊断"&&m==="连续样本指标变换"|m==="不同类型样本占比"|m==="原始信号波形图"|m==="准确率分析")return!(C.id.includes("deeplearning")&&m==="连续样本指标变换")}function w(C){l(C)}return(C,m)=>{const A=te("el-tooltip");return V(),L(Ye,null,[c(T(o8),{"is-visible":!0,"min-width":"100","min-height":"30",color:"#ccd0d6","handle-style":{width:0,height:0,background:"#ccd0d6"}}),a.userRole=="superuser"?(V(),L("button",{key:0,class:"delete-button",onClick:m[0]||(m[0]=G=>w(e.id))},i8)):ae("",!0),i("div",r8,[i("div",u8,[i("img",{style:{height:"30px",width:"30px"},src:f(e.data.laglabel),alt:"none"},null,8,c8),r.value?ae("",!0):(V(),L("span",d8,Fe(e.data.label),1))]),i("div",f8,[(V(),L(Ye,null,lt(s,G=>i("div",{key:G},[c(A,{class:"box-item",effect:"dark",content:G,placement:"top-start"},{content:g(()=>[le(Fe(G),1)]),default:g(()=>[_(a,G)?(V(),L("button",{key:0,type:"button",class:ot({selected:G===e.data.action}),onClick:M=>p(a.id,G,a),style:{border:"0",padding:"0",background:"white",margin:"5px"}},[a.data.label!="z-score标准化"?(V(),L("img",{key:0,style:{height:"30px",width:"30px"},src:d(G),alt:"none"},null,8,h8)):ae("",!0)],10,g8)):ae("",!0)]),_:2},1032,["content"])])),64))])]),c(T(Sn),{id:"source-a",type:"source",position:T(Ve).Right,class:"custom-handle"},null,8,["position"]),c(T(Sn),{id:"source-b",type:"source",position:T(Ve).Bottom,class:"custom-handle"},null,8,["position"]),c(T(Sn),{id:"source-c",type:"source",position:T(Ve).Left,class:"custom-handle"},null,8,["position"]),c(T(Sn),{id:"source-d",type:"source",position:T(Ve).Top,class:"custom-handle"},null,8,["position"])],64)}}},m8=Ot(p8,[["__scopeId","data-v-d0879857"]]),v8=["disabled"],_8={inheritAttrs:!1},y8=Object.assign(_8,{__name:"ModelingCustomEdge",props:{id:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,required:!0},targetPosition:{type:String,required:!0},markerEnd:{type:String,required:!1},style:{type:Object,required:!1},removeBtnDisabled:{type:Boolean,required:!1}},setup(e){const t=e,{removeEdges:n}=et(),l=We(()=>eu(t)),o=We(()=>({stroke:"#738eac",strokeWidth:"3px",strokeDasharray:"5, 5",transition:"stroke 0.3s ease"}));return(a,s)=>(V(),L(Ye,null,[c(T(ao),{id:e.id,style:Le(o.value),path:l.value[0],"marker-end":e.markerEnd},null,8,["id","style","path","marker-end"]),c(T(iy),null,{default:g(()=>[i("div",{style:Le({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${l.value[1]}px,${l.value[2]}px)`}),class:"nodrag nopan"},[i("button",{disabled:e.removeBtnDisabled,class:"edgebutton",onClick:s[0]||(s[0]=r=>T(n)(e.id))},"×",8,v8)],4)]),_:1})],64))}}),w8=Ot(y8,[["__scopeId","data-v-bf15934a"]]);function b8({graph:e,cancelOnError:t=!0}){const{updateNodeData:n,getConnectedEdges:l}=et(),o=nt(()=>tt(e)),a=v(!1),s=new Set,r=new Map,u=new Set;async function f(m,A=!1){if(s.has(m.id))return;u.add(m.id);const G=l(m.id).filter(x=>x.target===m.id);if(await Promise.all(G.map(x=>C8(()=>!x.data.isAnimating))),u.clear(),!a.value)return;s.add(m.id),n(m.id,{isRunning:!0,isFinished:!1,hasError:!1,isCancelled:!1});const M=Math.floor(Math.random()*2e3)+1e3;return new Promise(x=>{const I=setTimeout(async()=>{const H=o.value.successors(m.id),P=Math.random()<.15;if(!A&&P&&(n(m.id,{isRunning:!1,hasError:!0}),tt(t))){await _(m.id),r.delete(m.id),x();return}n(m.id,{isRunning:!1,isFinished:!0}),r.delete(m.id),H.length>0&&await Promise.all(H.map(ee=>f({id:ee}))),x()},A?0:M);r.set(m.id,I)})}async function d(m){if(a.value)return;p(m),a.value=!0;const A=m.filter(G=>{var M;return((M=o.value.predecessors(G.id))==null?void 0:M.length)===0});await Promise.all(A.map(G=>f(G,!0))),C()}function p(m){C();for(const A of m)n(A.id,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!1})}async function _(m){const A=o.value.successors(m);for(const G of A)n(G,{isRunning:!1,isSkipped:!0}),await _(G)}async function w(){a.value=!1;for(const m of u)clearTimeout(r.get(m)),r.delete(m),n(m,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!0}),await _(m);for(const[m,A]of r)clearTimeout(A),r.delete(m),n(m,{isRunning:!1,isFinished:!1,hasError:!1,isSkipped:!1,isCancelled:!0}),await _(m);s.clear(),u.clear()}function C(){a.value=!1,s.clear(),r.clear()}return{run:d,stop:w,reset:p,isRunning:a}}async function C8(e){return new Promise(t=>{const n=setInterval(()=>{e()&&(clearInterval(n),t())},100)})}function I8(){const{findNode:e}=et(),t=v(new ls.graphlib.Graph),n=v("LR");function l(o,a,s){const r=new ls.graphlib.Graph;t.value=r,r.setDefaultEdgeLabel(()=>({}));const u=s==="LR";r.setGraph({rankdir:s}),n.value=s;for(const f of o){const d=e(f.id);r.setNode(f.id,{width:d.dimensions.width||150,height:d.dimensions.height||50})}for(const f of a)r.setEdge(f.source,f.target);return ls.layout(r),o.map(f=>{const d=r.node(f.id);return{...f,targetPosition:u?Ve.Left:Ve.Top,sourcePosition:u?Ve.Right:Ve.Bottom,position:{x:d.x,y:d.y}}})}return{graph:t,layout:l,previousDirection:n}}const ce=e=>(Un("data-v-a2472b94"),e=e(),Jn(),e),x8={style:{height:"100vh","overflow-x":"hidden","font-family":"'Microsoft YaHei'"}},A8=ce(()=>i("div",{class:"logo"},[i("img",{src:sf,alt:"Logo"})],-1)),k8=ce(()=>i("div",{class:"title"},[i("h1",null,"轨道车辆智能运维通用算法和工具软件")],-1)),S8={class:"user-actions"},N8={class:"welcome-message"},V8=ce(()=>i("i",{style:{margin:"5px"},class:"fa-solid fa-right-from-bracket action-icon"},null,-1)),D8=ce(()=>i("span",{class:"action-text",style:{"white-space":"nowrap",overflow:"hidden"}},"登出",-1)),E8=[V8,D8],G8={key:0,style:{margin:"5px"},class:"fa-solid fa-expand action-icon"},M8={key:1,style:{margin:"5px"},class:"fa-solid fa-compress action-icon"},Z8=ce(()=>i("span",{class:"action-text",style:{"white-space":"nowrap",overflow:"hidden"}},"全屏",-1)),z8={style:{"text-align":"left"}},R8=ce(()=>i("h1",null,"1、选择算法",-1)),W8=ce(()=>i("h3",null,"从算法选择区中将所选择算法模块拖拽至可视化建模区并调整位置",-1)),L8=ce(()=>i("img",{src:ff,alt:"",style:{width:"700px",height:"auto"}},null,-1)),B8=ce(()=>i("h1",null,"2、调整参数",-1)),F8=ce(()=>i("h3",null,"鼠标右击可视化建模区中的算法模块，在弹出的下拉框中更改算法的参数",-1)),Y8=ce(()=>i("img",{src:gf,alt:"",style:{width:"700px",height:"auto"}},null,-1)),$8=ce(()=>i("h1",null,"3、建立流程",-1)),T8=ce(()=>i("h3",null,"鼠标移至作为所建立流程的起点的算法模块上的红色附着点，点击并拖拽至所建立流程的目标算法模块",-1)),X8=ce(()=>i("img",{src:hf,alt:"",style:{width:"700px",height:"auto"}},null,-1)),O8=ce(()=>i("h1",null,"4、检查模型及修改模型",-1)),H8=ce(()=>i("h3",null,"在确保所有模块都已经建立流程后，点击完成建模，然后点击检查模型对所建立的模型进行检查，",-1)),P8=ce(()=>i("h3",null,"如果模型中存在错误，点击修改模型并根据提示对模型进行修改，然后依次点击完成建模和模型检查，",-1)),K8=ce(()=>i("h3",null,"通过模型检查后即可以保存模型，并进行后续操作。",-1)),U8=ce(()=>i("img",{src:pf,alt:"",style:{width:"750px",height:"auto"}},null,-1)),J8={style:{"text-align":"left"}},j8=ce(()=>i("h2",null,"常见问题",-1)),Q8=ce(()=>i("div",{id:"howToUseThisApp"},[i("h2",null,"1、如何使用本软件？"),i("h3",null,"本软件分为五个部分：①算法选择区、②数据加载区、③可视化建模区、④结果可视化区、⑤加载模型区。"),i("img",{src:mf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,[le("①"),i("span",{style:{color:"red"}},"数据加载区"),le("用于上传数据文件，查看用户的历史文件以及加载数据文件。 ")]),i("h3",null,[le("②"),i("span",{style:{color:"red"}},"算法选择区"),le("中包含本系统支持的算法模块，可以选择其中的算法模块并拖入到可视化建模区进行建模。 ")]),i("h3",null,[le("③"),i("span",{style:{color:"red"}},"可视化建模区"),le("是进行建模的区域，其中包含所有已经建立流程的算法模块，可以拖拽模块进行位置调整，也可以右击模块进行参数调整。 ")]),i("h3",null,[le("④"),i("span",{style:{color:"red"}},"结果可视化区"),le("用于查看模型运行结果，包括模型运行结果图、模型运行结果表格。 ")]),i("h3",null,[le("⑤"),i("span",{style:{color:"red"}},"加载模型区"),le("用于查看用户曾经保存的历史模型，和加载已保存的模型。")])],-1)),q8=ce(()=>i("div",null,[i("h2",null,"2、如何在算法选择区中选择对应算法？"),i("h3",null,"在算法选择区中，每个模块都有三级展开结构，"),i("img",{src:vf,alt:"",style:{width:"300px",height:"auto"}}),i("h3",null,"点击对应模块展开到最后一级，这时再点击对应算法会在结果可视化区中呈现该算法的介绍。"),i("img",{src:_f,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"通过拖动的方式可以将指定的算法模块拖入可视化建模区。并可以通过点击右键调整算法参数。"),i("img",{src:yf,alt:"",style:{width:"700px",height:"auto"}})],-1)),eC=ce(()=>i("div",null,[i("h2",null,"3、如何建立模型并保存？"),i("h3",null," 在算法选择区中选择对应算法拖入到可视化建模区后，通过点击可视化建模区中算法模块上右侧的红色附着点，可以拉取一条连线并可连接到另一个算法模块上，以此来表示模型的运行顺序。"),i("img",{src:wf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"在建立好模型后，点击完成建模，此时可以点击检查模型进行模型检查，具体操作步骤如下。"),i("h3",null,"第一步，点击完成建模"),i("img",{src:bf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"第二步，点击检查模型。如果模型中存在错误，会呈现错误提示。"),i("img",{src:Cf,alt:"",style:{width:"700px",height:"auto"}}),i("img",{src:If,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"第三步，如果模型中存在错误，点击修改模型并根据提示对模型进行修改，"),i("img",{src:xf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null," 点击修改模型，此时提示正在修改模型，标红的连线表示该处存在逻辑错误，可以点击模块右上方红色的删除按钮删除报错模块，"),i("img",{src:Af,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"删除报错模块后，正确建立模型流程，然后重复上述过程，直到通过模型检查，"),i("img",{src:kf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"第四步，完成上述流程后，点击保存模型进行模型的保存，"),i("img",{src:Sf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"输入模型名称，点击确定，"),i("img",{src:Nf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null,"其中建模时的模型检查遵循如下流程图中的规则，"),i("img",{src:Vf,alt:"",style:{width:"300px",height:"auto"}})],-1)),tC=ce(()=>i("div",null,[i("h2",null,"4、如何查看历史模型？"),i("h3",null,"在加载模型区中，点击用户历史模型，"),i("img",{src:Df,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null," 此时左侧弹窗中显示的就是用户保存过的历史模型，并且可以点击使用复现历史模型，点击删除历史模型，或是点击查看历史模型信息，"),i("img",{src:Ef,alt:"",style:{width:"700px",height:"auto"}})],-1)),nC=ce(()=>i("div",null,[i("h2",null,"5、如何上传文件到服务器？"),i("h3",null,"第一步，在数据加载区中，点击本地文件，"),i("img",{src:Gf,alt:"",style:{width:"700px",height:"auto"}}),i("h3",null," 点击选择文件，选择本地文件，使其加载到文件列表中，每次只可以上传一个文件，并且可以点击文件列表中的删除图标要上传的文件，"),i("img",{src:Mf,alt:"",style:{width:"300px",height:"auto"}}),i("h3",null,"第二步，点击上传至服务器，根据提示输入文件名与文件描述，点击确定进行上传"),i("img",{src:Zf,alt:"",style:{width:"700px",height:"auto"}})],-1)),lC={style:{width:"100%"}},oC={class:"aside-title",style:{"font-size":"25px",color:"#34374f",border:"rgb(204,208,214) 1px solid",width:"100%"}},aC=ce(()=>i("img",{src:zf,style:{width:"40px",height:"auto",color:"#34374f"}},null,-1)),sC={key:0},iC={key:1},rC=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{class:"menu-item-first"},"基础组件")],-1)),uC={style:{"align-items":"center","padding-right":"10px"}},cC={style:{width:"100%"}},dC=ce(()=>i("div",{style:{padding:"10px 0 10px 20px"}},[i("span",{style:{"font-family":"'Microsoft YaHei'","font-size":"18px"}},"数据源")],-1)),fC={style:{"align-items":"center","padding-right":"10px"}},gC={style:{width:"100%",display:"flex","flex-wrap":"wrap",gap:"0",padding:"0","background-color":"#ffffff","flex-direction":"column"}},hC=ce(()=>i("i",{class:"fa-solid fa-database"},null,-1)),pC={style:{padding:"10px 0 10px 20px"}},mC={style:{"font-size":"18px"}},vC={style:{"align-items":"center","padding-right":"10px"}},_C={style:{width:"100%",display:"flex","flex-wrap":"wrap",gap:"0",padding:"0","background-color":"#ffffff"}},yC={style:{padding:"10px 0 10px 30px",display:"flex","align-items":"center"}},wC=["src"],bC={class:"menu-item-second",style:{"margin-left":"8px"}},CC={style:{"align-items":"center","padding-right":"10px"}},IC={style:{width:"100%",display:"flex",gap:"0",padding:"0","background-color":"#ffffff","flex-direction":"column"}},xC=["onDragstart","onClick"],AC=ce(()=>i("i",{class:"fa-solid fa-puzzle-piece"},null,-1)),kC=ce(()=>i("div",{style:{padding:"10px 0 10px 20px"}},[i("span",{style:{"font-size":"18px"}},"新增组件")],-1)),SC={style:{"align-items":"center","padding-right":"10px"}},NC={style:{width:"100%",display:"flex","flex-wrap":"wrap",gap:"0",padding:"0","background-color":"#ffffff","flex-direction":"column"}},VC=["index","onDragstart"],DC=ce(()=>i("i",{class:"fa-solid fa-puzzle-piece"},null,-1)),EC=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{style:{"font-size":"20px"}},"新增组件管理")],-1)),GC={style:{"align-items":"center","padding-right":"10px"}},MC={style:{width:"100%"}},ZC={key:0,style:{width:"100%","flex-direction":"column",display:"flex"}},zC={style:{width:"100%",flex:"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","margin-right":"1px"}},RC={style:{width:"100%",flex:"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","margin-right":"1px"}},WC=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{style:{"font-size":"20px"}},"模型结构树")],-1)),LC={style:{"align-items":"center","padding-right":"10px"}},BC={class:"custom-tree-container",style:{width:"100%"}},FC={style:{width:"100%"}},YC=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{style:{"font-size":"20px",width:"100%"}},"组件源码")],-1)),$C=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{style:{"font-size":"20px"}},"历史模型")],-1)),TC={style:{"align-items":"center","padding-right":"10px"}},XC={style:{width:"100%"}},OC={key:0,style:{width:"100%","flex-direction":"column",display:"flex"}},HC={style:{width:"100%",flex:"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","margin-right":"1px"}},PC=ce(()=>i("div",{style:{width:"100%",flex:"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","margin-right":"1px"}},null,-1)),KC=ce(()=>i("div",{style:{padding:"10px"}},[i("span",{style:{"font-size":"20px"}},"模型结构树")],-1)),UC={style:{"align-items":"center","padding-right":"10px"}},JC={class:"custom-tree-container",style:{width:"100%"}},jC={class:"parent-containerOfElMain"},QC={class:"modeling-areaOfElMain"},qC=ce(()=>i("div",{id:"statusIndicator",class:"status-indicator"},"未建立模型",-1)),e9=ce(()=>i("i",{class:"fa-solid fa-plus",style:{"margin-right":"5px"}},null,-1)),t9=ce(()=>i("span",{class:"menu-item-second"},"放大",-1)),n9=[e9,t9],l9=ce(()=>i("i",{class:"fa-solid fa-minus",style:{"margin-right":"5px"}},null,-1)),o9=ce(()=>i("span",{class:"menu-item-second"},"缩小",-1)),a9=[l9,o9],s9=ce(()=>i("i",{class:"fa-solid fa-expand",style:{"margin-right":"5px"}},null,-1)),i9=ce(()=>i("span",{class:"menu-item-second"},"自动",-1)),r9=[s9,i9],u9=ce(()=>i("i",{class:"fa-solid fa-lock",style:{"margin-right":"5px"}},null,-1)),c9=ce(()=>i("span",{class:"menu-item-second"},"解锁",-1)),d9=[u9,c9],f9=ce(()=>i("i",{class:"fa-solid fa-lock-open",style:{"margin-right":"5px"}},null,-1)),g9=ce(()=>i("span",{class:"menu-item-second"},"锁定",-1)),h9=[f9,g9],p9=ce(()=>i("i",{class:"fa-solid fa-rotate-left",style:{"margin-right":"5px"}},null,-1)),m9=ce(()=>i("span",{class:"menu-item-second"},"重置",-1)),v9=[p9,m9],_9=ce(()=>i("i",{class:"fa-regular fa-sun",style:{"margin-right":"5px"}},null,-1)),y9=ce(()=>i("span",{class:"menu-item-second"},"明亮",-1)),w9=[_9,y9],b9=ce(()=>i("i",{class:"fa-regular fa-moon",style:{"margin-right":"5px"}},null,-1)),C9=ce(()=>i("span",{class:"menu-item-second"},"暗黑",-1)),I9=[b9,C9],x9=ce(()=>i("i",{class:"fa-solid fa-download",style:{"margin-right":"5px"}},null,-1)),A9=ce(()=>i("span",{class:"menu-item-second"},"报告",-1)),k9=[x9,A9],S9=ce(()=>i("i",{class:"fa-solid fa-broom",style:{"margin-right":"5px"}},null,-1)),N9=ce(()=>i("span",{class:"menu-item-second"},"清空",-1)),V9=[S9,N9],D9=ce(()=>i("i",{class:"fa-solid fa-magnifying-glass",style:{"margin-right":"5px"}},null,-1)),E9=ce(()=>i("span",{class:"menu-item-second"},"检查",-1)),G9=[D9,E9],M9=ce(()=>i("i",{class:"fa-solid fa-floppy-disk",style:{"margin-right":"5px"}},null,-1)),Z9=ce(()=>i("span",{class:"menu-item-second"},"保存",-1)),z9=[M9,Z9],R9=ce(()=>i("i",{class:"fa-solid fa-power-off",style:{"margin-right":"5px"}},null,-1)),W9=ce(()=>i("span",{class:"menu-item-second"},"运行",-1)),L9=[R9,W9],B9=ce(()=>i("i",{class:"fa-solid fa-gear",style:{"margin-right":"5px"}},null,-1)),F9=ce(()=>i("span",{class:"menu-item-second"},"配置",-1)),Y9=[B9,F9],$9=ce(()=>i("i",{class:"fa-solid fa-xmark"},null,-1)),T9=[$9],X9={class:"configAreaPanelOfModelNode"},O9=ce(()=>i("div",{style:{padding:"6px"}},[i("span",{class:"menu-item-second"},"数据源配置")],-1)),H9={style:{"align-items":"center","padding-right":"10px"}},P9={class:"",style:{width:"100%","background-color":"white"}},K9=ce(()=>i("div",{style:{"font-size":"18px"}},"加载数据集",-1)),U9=["title"],J9=ce(()=>i("div",null,[i("p",{style:{"font-weight":"bold","font-size":"20px"}},"数据加载")],-1)),j9={style:{display:"flex","flex-direction":"column"}},Q9=ce(()=>i("h2",{style:{"margin-bottom":"25px",color:"#253b45","text-align":"left","font-size":"25px"}},"用户数据文件",-1)),q9={style:{display:"flex","flex-direction":"row",width:"30%"}},eI=ce(()=>i("div",{style:{padding:"6px"}},[i("span",{clas:"menu-item-second"},"特征提取参数配置")],-1)),tI={style:{"align-items":"center","padding-right":"10px"}},nI={class:"",style:{width:"100%","background-color":"white"}},lI={style:{width:"100%",display:"flex","flex-direction":"column","font-family":"'Microsoft YaHei'"}},oI={style:{flex:"1",padding:"10px",width:"100%"}},aI={style:{"font-size":"12px"}},sI={style:{flex:"1",width:"100%","padding-bottom":"10px"}},iI=ce(()=>i("div",{style:{padding:"6px"}},[i("span",{class:"menu-item-second"},"特征选择参数配置")],-1)),rI={style:{"align-items":"center","padding-right":"10px"}},uI={class:"",style:{width:"100%"}},cI={style:{"background-color":"white",display:"flex","flex-direction":"column",padding:"20px"}},dI={key:0},fI=ce(()=>i("div",{style:{"margin-top":"5px","margin-bottom":"15px"}}," 设定阈值后，将选择重要性系数大于该阈值的特征 ",-1)),gI={key:1},hI=ce(()=>i("div",{style:{"margin-top":"5px","margin-bottom":"15px"}}," 设定阈值后，将根据特征的重要性，由高到低地选择特征，直到所选特征的重要性的总和占所有特征的重要性比例不小于该阈值，其中所有特征的重要性占比为1 ",-1)),pI=ce(()=>i("div",{style:{padding:"6px"}},[i("span",{style:{"font-size":"16px","font-family":"'Microsoft YaHei'"}},"无量纲化参数设置")],-1)),mI={style:{"align-items":"center","padding-right":"10px"}},vI={class:"",style:{width:"100%","background-color":"white","padding-top":"10px"}},_I=ce(()=>i("div",null,"是否使用模型训练时的标准化方法?",-1)),yI=ce(()=>i("div",{style:{padding:"6px"}},[i("span",{style:{"font-size":"16px","font-family":"'Microsoft YaHei'"}},"小波变换参数配置")],-1)),wI={style:{"align-items":"center","padding-right":"10px"}},bI={class:"",style:{width:"100%"}},CI={style:{"background-color":"white",display:"flex","flex-direction":"column","padding-top":"20px"}},II={style:{"margin-left":"10px","font-size":"15px"}},xI={key:5,style:{"background-color":"white","font-size":"17px","font-family":"'Microsoft YaHei'",display:"flex","flex-direction":"column","padding-top":"30px",height:"100%"}},AI={class:"buttonsOfElMain"},kI=["onKeydown"],SI=ce(()=>i("i",{class:"fa-solid fa-xmark"},null,-1)),NI=[SI],VI={class:"result-contentOfElMain"},DI={class:"resultsContainer",style:{"background-color":"white","padding-bottom":"5px",height:"100%",width:"100%","overflow-y":"auto"}},EI={key:0,style:{display:"flex","justify-content":"center","align-items":"center","padding-top":"120px"}},GI=ce(()=>i("span",{style:{"font-weight":"700","font-size":"22px"}},"程序正在运行中",-1)),MI={key:1,style:{width:"100%",height:"100%","background-color":"white"}},ZI={key:2,style:{"background-color":"white",height:"100%",width:"auto","font-family":"'Microsoft YaHei'"}},zI={key:0},RI={key:1},WI=ce(()=>i("div",{style:{"text-align":"left","padding-left":"40px"}},[i("h4",null,"1.机器学习的故障诊断流程推荐"),i("img",{src:Rf,width:"900px",alt:""}),i("br"),i("h4",null,"2.深度学习的故障诊断流程推荐"),i("img",{src:Wf,width:"600px",alt:""})],-1)),LI=[WI],BI={key:1},FI={key:2},YI={key:3,style:{"background-color":"white",height:"100%",width:"auto",position:"relative"}},$I={key:0},TI={style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"}},XI={id:"healthEvaluationStackedBarChart",style:{width:"700px",height:"500px"}},OI={style:{width:"700px",display:"flex","flex-direction":"column","align-items":"center"}},HI=ce(()=>i("div",{id:"healthEvaluationPieChart",style:{width:"600px",height:"500px"}},null,-1)),PI={style:{width:"100%","text-align":"center"}},KI={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",width:"100%",height:"100%"}},UI=ce(()=>i("br",null,null,-1)),JI={style:{width:"700px"}},jI={key:1,style:{"justify-content":"center",width:"100%",height:"100%"}},QI=["id"],qI=["id"],e7={key:2,style:{"justify-content":"center",width:"100%",height:"100%"}},t7=ce(()=>i("div",{id:"featureSelectionChart",style:{width:"1000px",height:"500px"}},null,-1)),n7={style:{width:"1000px"}},l7={style:{"font-weight":"bold","font-size":"16px"}},o7={key:3,class:"result-visualization-container"},a7={style:{width:"100%",position:"relative","z-index":"999"}},s7={style:{position:"absolute",right:"30px",top:"55px"}},i7={style:{"font-weight":"600","font-size":"14px","margin-bottom":"20px"}},r7=ce(()=>i("div",null,"问题描述",-1)),u7={key:0},c7=ce(()=>i("div",{id:"indicatorVaryingFigure",style:{width:"1200px",height:"500px","margin-bottom":"30px"}},null,-1)),d7=ce(()=>i("div",{id:"faultExampleRatioFigure",style:{width:"1200px",height:"500px"}},null,-1)),f7=[d7],g7={key:1},h7={style:{width:"1200px",height:"500px"}},p7={style:{width:"1200px",height:"500px"}},m7={style:{"margin-bottom":"10px",display:"flex","align-items":"center","justify-content":"center"}},v7=ce(()=>i("div",{style:{"font-size":"20px"}},"准确率分析：",-1)),_7={key:4,style:{"margin-top":"20px","font-size":"18px"}},y7={style:{width:"1000px","margin-left":"250px","font-weight":"bold",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},w7=["v-model"],b7=["v-model"],C7=ce(()=>i("br",null,null,-1)),I7={key:7,style:{"font-size":"18px"}},x7={key:0},A7=ce(()=>i("div",{style:{"font-size":"large"}},"原数据",-1)),k7=ce(()=>i("br",null,null,-1)),S7=ce(()=>i("div",{style:{"font-size":"large"}},"标准化后数据",-1)),N7={key:9,style:{padding:"20px",position:"relative"}},V7=ce(()=>i("p",{style:{"text-align":"left",color:"red","font-weight":"bolder","font-size":"18px"}}," 已上传数据文件内容浏览",-1)),D7={style:{"font-size":"18px"}},E7={class:"control-buttonsOfElMain"},G7=["onKeydown"],M7=ce(()=>i("i",{class:"fa-solid fa-angles-up"},null,-1)),Z7=[M7],z7=ce(()=>i("div",{style:{"text-align":"left","font-size":"20px"}},"模型输出报告",-1)),R7={style:{display:"flex","flex-direction":"column","justify-content":"left"}},W7=ce(()=>i("div",{style:{"font-size":"18px"}},"选择结果输出",-1)),L7={style:{display:"flex","flex-direction":"column","align-items":"center"}},B7=ce(()=>i("div",{style:{"font-size":"18px"}},[le("生成测试报告"),i("br")],-1)),F7={class:"dialog-footer"},ld=30,Y7=`### 如何自定义建模？ 
 #### 1. 点击左侧菜单栏中的“基础组件”，在基础组件菜单下，可以选择任意组件拖入建模区, 点击建模区中的配置可进行相关参数配置。 
#### 2. 通过建模区中算法节点的附着点可进行算法模块间的连接 
#### 3. 建立模型时，还需包括数据源组件，将左侧的数据源组件拖入建模区，连接至模型的开始处，并且右键点击数据源组件可以进行数据的上传和加载操作。 
### 推荐的模型流程 
`,$7=`### 如何使用预定义的模型？ 
 #### 1. 点击左侧菜单栏中顶部的“系统模型库”，进入模型加载区。 
#### 2. 点击菜单栏中的“打开模型库”按钮，打开系统模型库界面。 
#### 3. 在系统模型库中，包含所有系统用户开发并保存的模型，可以直接使用，同时可以对本系统用户创建的模型进行管理。 
`,T7=`### 如何使用预定义的模型？ 
 #### 1. 点击菜单栏中的“打开模型库”按钮，打开系统模型库界面。 
#### 2. 在系统模型库中，包含所有系统用户开发并保存的模型，作为普通用户可以直接使用。 
`,X7=6,O7=je({__name:"userPlatform",setup(e){const t=y=>{Zn.value==y&&(Zn.value="无",Cn=!1,el.value=!0,xa())};let n=v("");const l=y=>{console.log("接受子组件数据",y),console.log("store.modelInfo.model_info: ",y.value.modelInfo[0].model_info);let h=JSON.parse(y.value.modelInfo[0].model_info);I2(h),Ht(),xa(),Kt("当前模型已保存"),Cn=!0,ht.value=!0,el.value=!1,Zn.value=y.value.modelName,n.value=y.value.modelName,Ku=String(y.value.modelId),tl=y.value.modelId,console.log("handleLoadModel modelId: ",tl)},o=y=>{on(),wn.value=!0;let h=y.dataset_name;Pe.get("user/browse_datafile/?filename="+h).then(b=>{if(b.status===200){xo.value=!0;let de=b.data.figure_Base64;Ka.value="data:image/png;base64,"+de,Ou.value=h,console.log("访问成功：")}else q.error("访问文件失败")}).catch(b=>{console.log("访问文件失败：",b)})},a=v(!0);let s=[];const r=v(!1),u=()=>{r.value=!0},f=v(!1),d=v(""),p=()=>{Pe.get("user/fetch_datafiles/").then(h=>{let b=h.data;iu.value=!1,ll.value=[];for(let U of b)ll.value.push(U);f.value=!0})},_=v(["1"]),w=y=>{},C=v(!0),m=v(window.innerHeight/2),A=v(m.value);let G=window.innerHeight-60,M=0,x=0,I=!1;const H=()=>{m.value=A.value,C.value=!0},P=()=>{C.value&&(A.value=m.value,C.value=!1)},ee=y=>{y.preventDefault(),M=y.clientY,x=m.value,I=!0,window.addEventListener("mousemove",ue),window.addEventListener("mouseup",J)},ne=y=>{y.preventDefault(),y.touches.length===1&&(M=y.touches[0].clientY,x=m.value,I=!0,window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",J))},ue=rs(y=>{if(!I)return;const h=M-y.clientY,b=x+h;b>=ld&&b<=G&&(m.value=b)},16),$=rs(y=>{if(!I||y.touches.length!==1)return;y.preventDefault();const h=M-y.touches[0].clientY,b=x+h;b>=ld&&b<=G&&(m.value=b)},16),J=()=>{I=!1,window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",$),window.removeEventListener("touchend",J)},me=rs(()=>{G=window.innerHeight-60,m.value>G&&(m.value=G),A.value>G&&(A.value=G)},100);oa(()=>{window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",$),window.removeEventListener("touchend",J),window.removeEventListener("resize",me)});const{onInit:D,onNodeDragStop:F,onConnect:W,addEdges:oe,addNodes:re,setViewport:B,toObject:R,removeEdges:ie}=et(),{screenToFlowCoordinate:j,onNodesInitialized:fe,updateNode:se,getNodes:Se,getEdges:Ie,fromObject:ye}=et(),he=v([]),De=v([]),Ce=v(!1);D(y=>{y.fitView()}),F(({event:y,nodes:h,node:b})=>{}),W(y=>{console.log("Connection Connected",{connection:y}),y.type="button",y.animated=!0,y.markerEnd=qo.ArrowClosed,y.data={text:"custom edge"},y.style={},oe(y)});const Y=v(!1);function K(y){console.log("onInteractionChangeOfControls执行了..."),console.log(y),Y.value=y}function pe(){B({x:0,y:0,zoom:1})}function S(){Ce.value=!Ce.value}function k(y,h,b){return{id:h.id+"-"+b.use_algorithm,type:"menu",data:{label:b.label_display,toolbarPosition:Ve.Top,laglabel:b.label,use_algorithm:b.use_algorithm},nodeInfo:b,position:{x:0,y:0},class:"light",style:{background:"#fff",borderRadius:"0px"}}}let N={};const E={draggedType:v(null),isDragOver:v(!1),isDragging:v(!1)},{draggedType:X,isDragOver:we,isDragging:xe}=E;Ke(xe,y=>{document.body.style.userSelect=y?"none":""});const Me=v("");v("");let Ge=Et({});const Ue=v(null),O=v({});Et([]);function _e(y,h,b,U,de){let ze=h;if(Me.value=b.id,U=="handleDragend"){const Ee=y.clientX;y.clientY;let Be;Ee<300?Be=Ee+"px":Be=Ee-300+"px";let be="50px";const $e=b.id,He={label_display:Yo[ze],label:b.label,id:b.id,nodeId:$e,nodeContainerStyle:{left:Be,top:be},use_algorithm:ze,parameters:b.parameters,optional:b.optional};He.label_display.indexOf("时域和频域")>-1?nn.value=["均值","方差","标准差","峰度","偏度","四阶累积量","六阶累积量","最大值","最小值","中位数","峰峰值","整流平均值","均方根","方根幅值","波形因子","峰值因子","脉冲因子","裕度因子","重心频率","均方频率","均方根频率","频率方差","频率标准差","谱峭度的均值","谱峭度的峰度"]:He.label_display.indexOf("时域特征")>-1?nn.value=["均值","方差","标准差","峰度","偏度","四阶累积量","六阶累积量","最大值","最小值","中位数","峰峰值","整流平均值","均方根","方根幅值","波形因子","峰值因子","脉冲因子","裕度因子"]:He.label_display.indexOf("频域特征")>-1&&(nn.value=["重心频率","均方频率","均方根频率","频率方差","频率标准差","谱峭度的均值","谱峭度的峰度"]),N=k(ze,b,He),Ge=N.nodeInfo}else if(U=="handleDragendAdd"){const Ee=so.value.find(Re=>Re.alias===ze);let Be;if(b.label=="故障诊断"?(console.log("-----------故障诊断: ",b),Be=b.use_algorithm):Be=Object.keys(Ee.parameters)[0],Ee&&console.log("找到的算法文件",Be),b.label=="无量纲化"){let Re={algorithm:b.alias,useLog:!1};b.parameters[Be]=Re}else b.parameters[Be]=b.alias;console.log("onDragStart: ",b==null?void 0:b.machineLearning),console.log("add增值",b);const be=y.clientX;y.clientY;let $e;be<300?$e=be+"px":$e=be-300+"px";let He="50px";const ve=b.id,Ze={label_display:b.alias,label:b.label,id:b.id,nodeId:ve,nodeContainerStyle:{left:$e,top:He},use_algorithm:Be,parameters:b.parameters,optional:b.optional};console.log("add增值1111",Ze),N=k(ze,b,Ze),Ge=N.nodeInfo}y.dataTransfer&&(y.dataTransfer.setData("application/vueflow",de),y.dataTransfer.effectAllowed="move"),X.value=de,xe.value=!0,document.addEventListener("drop",At)}function Ne(y){console.log("onDragOver执行了..."),y.preventDefault(),X.value&&(we.value=!0,y.dataTransfer&&(y.dataTransfer.dropEffect="move"))}function Xe(){console.log("onDragLeave执行了..."),we.value=!1}function At(y){console.log("onDragEnd执行了..."),xe.value=!1,we.value=!1,X.value=null,document.removeEventListener("drop",At)}function wt(y){console.log("drop event",y);const h=j({x:y.clientX,y:y.clientY}),{off:b}=fe(()=>{se(N.id,U=>({position:{x:h.x-U.dimensions.width/2,y:h.y-U.dimensions.height/2}})),b()});if(he.value.length>0){for(let U=0;U<he.value.length;U++)if(he.value[U].nodeInfo.id==N.nodeInfo.id){q({message:"不允许出现同一类别的算法",type:"warning"});return}}console.log("dd_newNode.nodeInfo",N.nodeInfo),he.value.push(N),Ue.value=he.value.findIndex(U=>U.nodeInfo.id==N.nodeInfo.id),console.log("索引对应的节点",N.nodeInfo.use_algorithm),O[N.nodeInfo.use_algorithm]=Ue.value,console.log("索引字典",O)}function en(y,h){var U,de;ln.value=h,console.log("传入的标签",ln.value),console.log("传入的标签",(U=y.data)==null?void 0:U.laglabel),console.log("传入的值",y==null?void 0:y.id.match(/\d+\.\d+|\d+/g)[0]),console.log("传入的id: ",y==null?void 0:y.id),Me.value=y==null?void 0:y.id.match(/\d+\.\d+|\d+/g)[0];let b=(de=y.data)==null?void 0:de.laglabel;b2(b)}function tn(y){console.log("handleEdgeChange",y),y.length&&(dt.value=!1,ht.value=!1,Kt("请建立模型并点击检查模型")),console.log("missionComplete: ",dt.value),console.log("modelHasBeenChecked: ",ht.value)}const Gt=v({clearModelOfViewFlowBtn:!1,finishModelOfViewFlowBtn:!1,checkModelOfViewFlowBtn:!1,saveModelOfViewFlowBtn:!1,runModelOfViewFlowBtn:!1,stopRunningModelOfViewFlowBtn:!1,setModelConfigRunningModelOfViewFlowBtn:!1,configPanelOfModelNodeBtn:!1});v({clearModelOfViewFlowBtn:!1,finishModelOfViewFlowBtn:!1,checkModelOfViewFlowBtn:!1,saveModelOfViewFlowBtn:!1,runModelOfViewFlowBtn:!1,stopRunningModelOfViewFlowBtn:!1,setModelConfigRunningModelOfViewFlowBtn:!1});function Ht(){he.value=[],De.value=[],Me.value=null,Ge={},Rt.value=[],ge.value={},ht.value=!1,It.value=[],st.value=new Set,pu.value=!1,Aa(),Ia.value=!1,bt.head=null,bt.tail=null,dt.value=!1,uo.value=!1,Pt.value=!1,an.value=!1,Cn=!1,Uu.value=!1,O0.value=!0,ru.value=!0,uu.value=!0,ro.value=!1,el.value=!0,Zn.value="无",Kt("未建立模型"),on()}function Qn(){console.log("开始检查模型参数"),console.log("模型列表",he.value);for(let y=0;y<he.value.length;y++){let h=he.value[y];if(console.log("dict.use_algorithm: ",h.nodeInfo.use_algorithm),h.nodeInfo.use_algorithm)if(h.nodeInfo.id=="1.3"){console.log("检查到特征选择 ");let b=!1,U=h.nodeInfo.parameters[h.nodeInfo.use_algorithm].rule;if(console.log("rule: ",U),h.nodeInfo.parameters[h.nodeInfo.use_algorithm]["threshold"+U]&&(console.log("规则参数通过: "),b=!0),!b)return!1}else if(h.nodeInfo.id=="1.2"){if(!nn.value.length)return!1}else if(h.nodeInfo.id=="1.4")h.nodeInfo.parameters;else if(h.nodeInfo.id=="1.5")h.nodeInfo.parameters;else{!h.nodeInfo.use_algorithm.includes("private_")&&!h.nodeInfo.use_algorithm.includes("extra_")&&(h.nodeInfo.parameters[h.nodeInfo.use_algorithm]=h.nodeInfo.use_algorithm);let b=h.nodeInfo.parameters[h.nodeInfo.use_algorithm];if(console.log("parameters: ",b),b){for(let U in b)if(b[U]===""||b[U]===null)return console.log("parameters[key] is null: ",b[U]),!1}else return console.log("parameters is null"),!1}else return!1}return!0}function yl(){console.log("开始检查模型逻辑");let y=[],h=[],b,U;console.log("content的长度",it.schedule.length);const de=(be,$e)=>{const He=be.indexOf($e);return He===-1?!1:He+$e.length<be.length},ze=be=>be.match("层次分析模糊综合评估")?"层次分析模糊综合评估":be.match("层次朴素贝叶斯评估")?"层次朴素贝叶斯评估":be.match("层次逻辑回归评估")?"层次逻辑回归评估":be.match("健康评估")?"健康评估":"",Ee=(be,$e,He)=>{const ve=be.indexOf($e);if(ve!==-1){for(const Ze of He)if(be.indexOf(Ze,ve+$e.length)!==-1)return!0}return!1},Be=(be,$e)=>{const He=["插值处理","特征提取","小波变换","无量纲化"],ve=["GRU的故障诊断","LSTM的故障诊断","一维卷积深度学习模型的故障诊断","基于时频图的深度学习模型的故障诊断","深度学习故障诊断","信号级加权融合的故障诊断","信号时频表征自适应加权融合的故障诊断","特征级融合的深度学习故障诊断","决策级融合的深度学习故障诊断","基于单传感器的知识型 1D 时域深度学习故障诊断","基于单传感器的时域和频域协同注意学习故障诊断","基于单传感器的多域深度特征融合故障诊断"];let Ze=!1,Re=!1;return He.forEach(Te=>{be.includes(Te)&&(Ze=!0)}),ve.forEach(Te=>{$e.includes(Te)&&(Re=!0)}),Ze||Re};console.log("checkModelOrder contentJson.schedule: ",it.schedule);for(let be=0;be<it.schedule.length;be++){let $e=it.schedule[be];console.log("checkModelOrder module: ",$e);let He=he.value.find(ve=>ve.nodeInfo.label==$e);$e==="故障诊断"&&(He.nodeInfo.use_algorithm.match("_machine_learning")?y.push(He.nodeInfo.label_display+"%机器学习故障诊断%"):He.nodeInfo.use_algorithm.match("_deeplearning")&&y.push(He.nodeInfo.label_display+"%深度学习故障诊断%")),y.push(He.nodeInfo.label_display),console.log("checkModelOrder nodeFound: ",He),h.push($e)}if(b=Object.values(h).join(""),U=Object.values(y).join(""),he.value.length){if(b.match("数据源")){if(he.value.length==1)return q.error("模型中仅包含数据源，无法运行，请添加其他模块"),!1;if(b.indexOf("数据源")>0)return q.error("数据源模块必须位于模型中第一个位置"),!1}else return q.error("模型中未包含数据源，请添加数据源模块"),!1;if(b=b.replace("数据源",""),U=U.replace("数据源",""),console.log("moduleStr: ",b),console.log("algorithmStr: ",U),he.value.length==2)if(Be(b,U)||U.match("%深度学习故障诊断%")){let be=Qn(),$e=R().nodes.length-R().edges.length;if(be&&$e==1)q({showClose:!0,message:"模型正常，可以保存并运行",type:"success"}),Kt("模型建立并已通过模型检查");else return q({showClose:!0,message:"请确保所有具有参数的模块的参数设置正确",type:"warning"}),!1}else{let be;return b.match("故障诊断")&&U.match("%机器学习故障诊断%")?be="模型中包含机器学习故障诊断，建议在此之前进行特征提取和特征选择等操作":b.match("层次分析模糊综合评估")?be="模型中包含层次分析模糊综合评估，建议在此之前进行特征提取和特征选择等操作":b.match("特征选择")?be="模型中包含特征选择，建议在此之前进行特征提取等操作":b.match("故障预测")&&(be="模型中包含故障预测，建议在此之前进行故障诊断"),q({message:"该算法无法单独使用，请结合相应的算法,"+be,type:"warning",showClose:!0}),!1}else{if(bt.length()!=kl.value.length)return q({message:"请确保图中所有模块均已建立连接，且没有多余的模块",type:"warning"}),!1;{if(U.match("多传感器")&&U.match("单传感器"))return q({showClose:!0,message:"多传感器和单传感器的算法不能混合使用！",type:"warning"}),!1;if(b.match("故障诊断"))if(U.includes("%深度学习故障诊断%")){if(b.indexOf("故障诊断")>0){let ve=b.substring(0,b.indexOf("故障诊断"));if(ve.match("特征提取")||ve.match("特征选择")||ve.match("无量纲化")||ve.match("故障预测"))return q({message:"深度学习模型的故障诊断不需要人工提取特征，因此其之前不需要包含如特征提取、特征选择等不必要的模块！",type:"warning",showClose:!0}),!1}if(de(b,"故障诊断")){let ve=b.substring(b.indexOf("故障诊断"),b.length);if(ve.match("故障预测")||ve.match("层次分析模糊综合评估")||ve.match("层次朴素贝叶斯评估")||ve.match("层次逻辑回归评估")){let Ze;if(ve.match("故障预测")&&(ve.match("层次分析模糊综合评估")||ve.match("层次朴素贝叶斯评估")||ve.match("层次逻辑回归评估"))){let Te;if(ve.match("层次分析模糊综合评估")?Te=ve.indexOf("层次分析模糊综合评估"):ve.match("层次朴素贝叶斯评估")?Te=ve.indexOf("层次朴素贝叶斯评估"):Te=ve.indexOf("层次逻辑回归评估"),ve.indexOf("故障预测")>Te)return q({message:"注意故障预测应该在层次分析模糊综合评估之前运行",type:"warning",showClose:!0}),!1;Ze="故障预测"}if(ve.indexOf("故障预测")==-1){if(Ze=ze(b),!Ze)return ct.error("模型检查出错，请重新链接模型"),!1}else Ze="故障预测";let Re=ve.substring(0,ve.indexOf(Ze));if(!Re.match("特征提取特征选择")&&!Re.match("特征提取无量纲化特征选择")&&!Re.match("特征提取特征选择无量纲化"))return q({message:"建议在深度学习模型的故障诊断之后包含特征提取和特征选择模块",type:"warning",showClose:!0}),!1}}}else{let ve=b.substring(0,b.indexOf("故障诊断"));if(!ve.match("特征提取")&&!ve.match("特征选择")){q({message:"建议在故障诊断之前进行特征提取和特征选择",type:"warning",showClose:!0});let Ze=bt.searchPre("故障诊断"),Re=xt(Ze.value),Te=xt("故障诊断");return Lt.select({source:Re,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}else if(ve.match("特征提取")&&ve.match("特征选择")){if(ve.indexOf("特征提取")>ve.indexOf("特征选择"))return q({message:"建议在特征提取之后进行特征选择",type:"warning",showClose:!0}),!1}else if(ve.match("特征选择")){q({message:"建议在特征提取之后再进行特征选择",type:"warning",showClose:!0});let Ze=bt.searchPre("特征选择"),Re=xt(Ze.value),Te=xt("特征选择");return Lt.select({source:Re,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}else if(ve.match("特征提取")){q({message:"因模型中包含机器学习的故障诊断，建议在特征提取之后进行特征选择",type:"warning",showClose:!0});let Ze=bt.search("特征提取"),Re=Ze.next,Te=xt(Ze.value),ft=xt(Re.value);return Lt.select({source:Te,target:ft}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}}if(b.match("特征提取故障诊断"))return q({showClose:!0,message:"因模型中包含故障诊断，建议在特征提取之后包含特征选择",type:"warning"}),!1;if(b.indexOf("小波变换")>0&&b.substring(0,b.indexOf("小波变换")).match("特征提取")){q({showClose:!0,message:"模型中对原始信号进行了特征提取，而小波变换只能针对信号序列",type:"warning"});let Ze=bt.searchPre("小波变换"),Re=xt(Ze.value),Te=xt("小波变换"),ft=Lt.getConnections({source:Re,traget:Te});return console.log("connection: ",ft),Lt.select({source:Re,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}if(ze(b)){let ve=ze(b);if(!b.match("特征提取"))return q({showClose:!0,message:"因模型中包含层次分析模糊综合评估，建议在此之前包含特征提取",type:"warning"}),!1;if(de(b,ve)){let Ze=xt(ve),Te=bt.search(ve).next.value,ft=xt(Te);return Lt.select({source:Ze,target:ft}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),q({showClose:!0,message:"注意健康评估之后无法连接更多的模块",type:"warning"}),!1}}if(b.match("特征选择")&&!b.substring(0,b.indexOf("特征选择")).match("特征提取")){q({showClose:!0,message:"因模型中包含特征选择，建议在此之前包含特征提取",type:"warning"});let Ze=bt.searchPre("特征选择"),Re=xt(Ze),Te=xt("特征选择");return Lt.select({source:Re,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}if(U.includes("%深度学习故障诊断%")&&b.indexOf("故障诊断")!=0){let ve=b.substring(0,b.indexOf("故障诊断"));if(ve.match("特征提取")||ve.match("特征选择")||ve.match("无量纲化"))return q({showClose:!0,message:"使用深度学习模型的故障诊断不需要进行特征提取或是特征选择，请删除相关模块！",type:"warning"}),!1}if(U.match("多传感器")&&U.match("单传感器"))return q({showClose:!0,message:"针对单传感器的算法无法与针对多传感器的算法共用",type:"warning"}),!1;if(b.match("无量纲化")){let ve;for(let Re of he.value)if(Re.nodeInfo.label.match("无量纲化")){ve=Re.nodeInfo;break}let Ze=ve.parameters[ve.use_algorithm].useLog;if(b.indexOf("无量纲化")==0){if(Ze==!0)return gt.alert("如果要使用模型训练时使用的标准化方法进行无量纲化，请确保无量纲化模块之前对数据进行了特征提取，或者在参数设置中选择不使用模型训练时使用的标准化方法","提示",{confirmButtonText:"确定",draggable:!0,buttonSize:"medium"}),!1}else{let Re=b.substring(0,b.indexOf("无量纲化"));if(Re.match("特征提取")&&Ze==!1)return gt.alert("因为无量纲化模块之前已经进行了特征提取，请在无量纲化的参数设置中选择使用模型训练时使用的标准化方法进行无量纲化","提示",{confirmButtonText:"确定",draggable:!0,buttonSize:"medium"}),!1;!Re.match("特征提取")&&Ze==!0&&gt.alert("无量纲化模块之前未进行特征提取，因此无法使用模型训练时使用的标准化方法进行无量纲化，请在无量纲化的参数设置中选择不使用模型训练时使用的标准化方法进行无量纲化","提示",{confirmButtonText:"确定",draggable:!0,buttonSize:"medium"})}}const be=ve=>ve.match("LSTM的故障诊断")||ve.match("GRU的故障诊断")||ve.match("一维卷积深度学习模型的故障诊断")||ve.match("时频图深度学习模型的故障诊断");if(b.match("故障预测")){if(b.indexOf("故障预测")<=0)return q({showClose:!0,message:"故障预测之前需要进行故障预测",type:"warning"}),!1;if(!b.substring(0,b.indexOf("故障预测")).match("故障诊断")){q({showClose:!0,message:"故障预测之前需要进行故障诊断",type:"warning"});let Ze=bt.searchPre("故障预测"),Re=xt(Ze.value),Te=xt("故障预测");return Lt.select({source:Re,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}}if(b.match("故障诊断")){if(be(U),de(b,"故障诊断")&&U.includes("%机器学习故障诊断%")&&!Ee(b,"故障诊断",["层次分析模糊综合评估","故障预测","层次朴素贝叶斯评估","层次逻辑回归评估","健康评估"])){q({showClose:!0,message:"注意故障诊断之后仅能进行故障预测或是健康评估！",type:"warning"});let ve=xt("故障诊断"),Re=bt.search("故障诊断").next.value,Te=xt(Re);return Lt.select({source:ve,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}if(U.match("SVM的故障诊断")){if(!b.match("无量纲化")||!Ee(b,"无量纲化",["故障诊断"])){q({showClose:!0,message:"因模型中包含SVM的故障诊断，需要在此之前加入z-score标准化操作",type:"warning"});let ve=xt("特征选择"),Re=bt.search("特征选择").next.value,Te=xt(Re);return Lt.select({source:ve,target:Te}).setPaintStyle({stroke:"#E53935",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5}),!1}else if(!U.match("z-score标准化"))return q({showClose:!0,message:"因模型中包含SVM的故障诊断，需要在此之前加入z-score标准化操作",type:"warning"}),!1}}let $e=R().nodes.length-R().edges.length;if(Qn()&&$e==1)q({showClose:!0,message:"模型正常，可以保存并运行",type:"success"}),Kt("模型建立并已通过模型检查");else return q({showClose:!0,message:"请确保所有具有参数的模块的参数设置正确",type:"warning"}),!1}}}else return q({message:"请先建立模型",type:"warning"}),!1;return!0}const ht=v(!1);function wl(){let y=!1,h=!1;if(he.value.length>1)y=bl();else return q({message:"请先建立包含数据源与至少一个组件的模型",type:"warning"}),!1;console.log("检查模型时构建contentJson: ",it),h=yl(),y&&h&&(ht.value=!0)}const Rt=v([]),ge=v({});let It=v([]);const st=v(new Set);function yn(y){var U;It.value.length||(console.log("添加节点头",y),It.value.push(y));const h=(U=R().edges.find(de=>de.source==y))==null?void 0:U.target,b=R().edges.find(de=>de.source==y);console.log("增值组件的构建",b),h&&(It.value.push(h),console.log("添加节点1",h),yn(h))}function bl(){if(Rt.value=[],ge.value={},It.value=[],st.value=new Set,console.log("构建处理逻辑: "),R().nodes.length-R().edges.length!=1)return console.log("构建处理逻辑: ",R().edges),!0;{R().edges.forEach(U=>{console.log("edge: ",U);const{source:de,target:ze}=U;Rt.value.includes(de)||Rt.value.push(de),Rt.value.includes(ze)||Rt.value.push(ze),ge[ze]||(ge[ze]=1)}),console.log("邻接表: ",ge),console.log("邻接表节点: ",Rt);const h=Rt.value.filter(U=>!(U in ge));console.log("头节点：",h),yn(h[0]),console.log("构建的顺序：",It),Aa();for(let U=0;U<he.value.length;U++){let de=he.value[U];if(console.log("保存的dict.use_algorithm: ",de.nodeInfo.use_algorithm),!de.nodeInfo.use_algorithm)return q({message:"请设置每个算法的必选属性",type:"error"}),!1;if(it.algorithms[de.nodeInfo.label]=de.nodeInfo.use_algorithm,console.log("contentJson: ",it),!it.modules.includes(de.nodeInfo.label)&&de.nodeInfo.id!=="4"&&it.modules.push(de.nodeInfo.label),de.nodeInfo.id=="1.2"){let ze=de.nodeInfo.parameters[de.nodeInfo.use_algorithm];if(!nn.value.length)return q({message:"请设置每个算法的必选属性",type:"error"}),!1;console.log("features: ",nn.value);for(let Ee of Object.keys(ze))ze[Ee]=!1;nn.value.forEach(Ee=>{ze[Ee]==!1&&(console.log(" element设为真",Ee),ze[Ee]=!0)}),it.parameters[de.nodeInfo.use_algorithm]=ze;continue}it.parameters[de.nodeInfo.use_algorithm]=de.nodeInfo.parameters[de.nodeInfo.use_algorithm]}it.schedule.length=0,console.log("新模型顺序: ",It);const b=It.value.map(U=>U.replace(/[^a-zA-Z_\u4e00-\u9fa5]/g,"")).filter(U=>U.length>0);console.log("新模型顺序22222: ",b);for(let U=0;U<b.length;U++){let de=Object.keys(it.algorithms).find(ze=>it.algorithms[ze]===b[U]);it.schedule.push(de)}console.log("构建的contentJson",it)}return!0}const Cl=Et([]),lu=async()=>{Pe.get("user/get_component_trees").then(y=>{y.data.code===200?(Cl.length=0,y.data.trees.map(h=>Cl.push(h)),console.log("获取到树形结构: ",Cl)):q.error("获取树形结构失败，"+y.data.message)})};async function D0(){if(!ht.value){q.warning("请先点击检查按钮，完成模型检查");return}await lu(),console.log("saveModelOfViewFlow trees: ",Cl),Al.value=!0}function E0(){if(!ht.value){q.warning("请先点击检查按钮，完成模型检查");return}if(bl(),!Vt.value){q({message:"请先加载数据",type:"warning"});return}console.log("runModelOfViewFlow modelLoaded: ",Zn.value);const y=new FormData;if(y.append("file_name",Vt.value),y.append("params",JSON.stringify(it)),Vt.value=="无"){q({message:"当前加载的数据为空，请先加载数据文件",type:"error"});return}as.info({title:"Waiting",message:"正在运行，请等待..."}),wa.value=!1,Dn.value=0,ba=setInterval(()=>{Dn.value<50?Dn.value+=10:(clearInterval(ba),Ca=setInterval(()=>{Dn.value<90?Dn.value+=10:clearInterval(Ca)},3e3))},1e3),on(),dn.value=!0,an.value=!1,Pt.value=!1,Pe.post("user/run_with_datafile_on_cloud/",y,{headers:{"Content-Type":"multipart/form-data"},cancelToken:mu.token}).then(h=>{h.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:b=>{qn.push("/")}}),h.data.code===200?ro.value?ro.value=!1:(as.success({title:"Success",message:"程序运行完成"}),Wt=h.data.results,dt.value=!0,ko.value=Qa.success,H()):h.data.code==404?(ko.value=Qa.error,q({message:h.data.message,type:"warning"})):q({message:h.data.message,type:"warning"}),clearInterval(ba),clearInterval(Ca),setTimeout(function(){dn.value=!1},700),Dn.value=100,wa.value=!0,on(),an.value=!0,Pt.value=!1}).catch(h=>{var b;h.response?(console.log(h.response.status),console.log(h.response.statusText)):h.request?console.log(h.request):console.error("Error",h.message),as.error({title:"Error",message:"运行出错，"+((b=h.response.data)==null?void 0:b.message)}),vu.value=!1,dn.value=!1,wa.value=!0,ko.value=Qa.error,on(),an.value=!0,dt.value=!1})}const G0=v(!0),{graph:M0,layout:H7,previousDirection:P7}=I8();b8({graph:M0,cancelOnError:G0}),et();const Oe=v({特征提取:"",无量纲化:"",特征选择:"",小波变换:""}),Il=v(!1),Mt=v([]);Ke(he,(y,h)=>{const b=y.filter(U=>!h.includes(U));if(b.length){ht.value=!1,dt.value=!1,Kt("请建立模型并点击检查模型"),console.log("添加的元素:",b),console.log("添加元素后的modeling_nodeList: ",he),O.value={},console.log("监听器添加元素后parameter_dict: ",O.value),console.log("动态修改数据: ",Ge.use_algorithm),dt.value=!1,Ge.nodeId=="1.2"&&(console.log("进入1.2"),Oe.value.特征提取=Ge.use_algorithm),Ge.nodeId=="1.3"&&(Oe.value.特征选择=Ge.use_algorithm),Ge.nodeId=="1.4"&&(Oe.value.小波变换=Ge.use_algorithm),Ge.nodeId=="1.5"&&(Oe.value.无量纲化=Ge.use_algorithm),console.log("监听器添加元素后transfer: ",Oe.value),he.value.forEach((de,ze)=>{O.value[de.nodeInfo.use_algorithm]=ze});let U=!0;b.forEach(de=>{de.nodeInfo.id=="1.2"&&(console.log("进入1.2"),Oe.value.特征提取=de.nodeInfo.use_algorithm),de.nodeInfo.id=="1.3"&&(Oe.value.特征选择=de.nodeInfo.use_algorithm),de.nodeInfo.id=="1.4"&&(Oe.value.小波变换=de.nodeInfo.use_algorithm,(de.nodeInfo.use_algorithm.includes("private_")||de.nodeInfo.use_algorithm.includes("extra_"))&&(U=!1)),de.nodeInfo.id=="1.5"&&(Oe.value.无量纲化=de.nodeInfo.use_algorithm),U&&Mt.value.push(de.nodeInfo.id)})}else{const U=h.filter(de=>!y.includes(de));U.length&&(dt.value=!1,ht.value=!1,he.value.length>0?Kt("请建立模型并点击检查模型"):Kt("未建立模型"),console.log("删除的元素:",U),O.value={},console.log("parameter_dict.value: ",O.value),he.value.forEach((de,ze)=>{O.value[de.nodeInfo.use_algorithm]=ze}),console.log("监听器删除元素后parameter_dict: ",O),U.forEach(de=>{let ze=Mt.value.indexOf(de.nodeInfo.id);ze!=-1&&Mt.value.splice(ze,1)}))}console.log("containsMenuSettings: ",Mt)},{deep:!1});function Z0(){console.log("是否绑定: ",he.value),Il.value&&(Il.value=!1)}Ke(De,(y,h)=>{const b=y.filter(U=>!h.includes(U));if(console.log("监听器添加元素后newVal: ",y),b.length)ht.value=!1,dt.value=!1,console.log("添加的元素:",b),console.log("添加元素后的modeling_edgesList: ",De),O.value={},console.log("动态修改数据: ",Ge.use_algorithm),dt.value=!1;else{const U=h.filter(de=>!y.includes(de));U.length&&(dt.value=!1,ht.value=!1,console.log("删除的元素:",U),O.value={},console.log("parameter_dict.value: ",O.value),console.log("监听器删除元素后parameter_dict: ",O))}},{deep:!1});function z0(){Il.value||(Il.value=!0)}const ou=v([]);function R0(y){}const W0=()=>{_a()},L0=()=>{_a()};v(!1);const so=v([]),B0=v([{label:"插值处理",id:"1.1",use_algorithm:null,alias:null,machineLearning:"",parameters:{private_interpolation:""},tip_show:!1,tip:"使用专有插值处理方法",optional:!1},{label:"特征提取",id:"1.2",use_algorithm:null,alias:null,machineLearning:"",parameters:{private_feature_extraction:""}},{label:"无量纲化",id:"1.5",use_algorithm:null,alias:null,machineLearning:"",parameters:{private_scaler:{useLog:!1,algorithm:""}},tip_show:!1,tip:"使用专有无量纲化处理方法",optional:!0},{label:"特征选择",id:"1.3",use_algorithm:null,alias:null,machineLearning:"",parameters:{extra_feature_selection:{rule:1,threshold1:.1,threshold2:.1}},tip_show:!1,tip:"使用专有特征选择方法",optional:!0},{label:"小波变换",id:"1.4",use_algorithm:null,alias:null,machineLearning:"",parameters:{extra_wavelet_transform:""},tip_show:!1,tip:"对输入信号进行小波变换",optional:!0},{label:"故障诊断",id:"2.1",use_algorithm:null,alias:null,machineLearning:"",parameters:{private_fault_diagnosis_machine_learning:"",private_fault_diagnosis_deeplearning:""},tip_show:!1,tip:"使用专有故障诊断方法",optional:!1},{label:"故障预测",id:"2.2",use_algorithm:null,alias:null,machineLearning:"",parameters:{private_fault_prediction:{}},tip_show:!1,tip:"使用专有故障预测方法",optional:!1},{label:"专有健康评估",id:"3.4",use_algorithm:null,alias:null,machineLearning:"",parameters:{extra_health_evaluation:""},tip_show:!1,tip:"使用专有健康评估的评价方法",optional:!1}]);function F0(y){so.value=[];for(let h=0;h<y.length;h++){const b=y[h],U=B0.value.find(de=>de.label===b.algorithmType);if(U){const de={...U};de.label=b.algorithmType,de.alias=b.alias,de.machineLearning=b.machineLearning,console.log("updateOptionsWithBackendData item: ",b),b.algorithmType=="故障诊断"&&(b.machineLearning=="dl"?de.use_algorithm="private_fault_diagnosis_deeplearning":de.use_algorithm="private_fault_diagnosis_machine_learning"),console.log("updateOptionsWithBackendData newOption: ",de),so.value.push(de)}}}const _a=()=>{Pe.get("/user/user_fetch_extra_algorithm/").then(y=>{y.data.code==401&&gt.alert("登录状态失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{qn.push("/")}}),y.data.code==200&&(console.log("信息：",y.data.data),F0(y.data.data))})},Y0=y=>{let h;switch(y){case"插值处理":h="interpolation-icon.svg";break;case"特征提取":h="extraction-icon.svg";break;case"无量纲化":h="normalization-icon.svg";break;case"特征选择":h="feature-selection-icon.svg";break;case"小波变换":h="wavelet-icon.svg";break;case"数据源":h="data-source-icon.svg";break;case"故障诊断":h="fault-diagnosis-icon.svg";break;case"故障预测":h="fault-prediction-icon.svg";break;case"自定义模块":h="custom-module-icon.svg";break;case"异常值检测":h="abnormal-detection-icon.svg";break;case"层次分析模糊综合评估":case"层次逻辑回归评估":case"层次朴素贝叶斯评估":case"健康评估":h="health-evaluation-icon.svg"}return new URL(Object.assign({"../assets/abnormal-detection-icon.svg":Is,"../assets/algorithm-introduction.png":xs,"../assets/algorithms-icon.svg":As,"../assets/algorithms-unfold.png":ks,"../assets/analysis-result-icon.svg":Ss,"../assets/analysisOfAccuracy.svg":Ns,"../assets/browser-saved-models-1.png":Vs,"../assets/browser-saved-models-2.png":Ds,"../assets/check-model-tip.png":Es,"../assets/custom-module-icon.svg":Gs,"../assets/customize-model-1.png":Ms,"../assets/customize-model-2.png":Zs,"../assets/data-icon.svg":zs,"../assets/data-source-icon.svg":Rs,"../assets/details-icon.svg":Ws,"../assets/exampleCode/My-FD-Algorithm-1.py":Ls,"../assets/exampleCode/My-FaultPredict-Algorithm-1.py":Bs,"../assets/exampleCode/My-HE-Algorithm-1.pkl":Fs,"../assets/exampleCode/My-HE-Algorithm-1.py":Ys,"../assets/exampleCode/My-Interpolation.py":$s,"../assets/exampleCode/My-Nor-Algorithm-1.py":Ts,"../assets/exampleCode/My-Wavelet-1.py":Xs,"../assets/exampleCode/randomForestTrain.py":Os,"../assets/exampleCode/svcTrain.py":Hs,"../assets/exampleCode/train_fdmssw.py":Ps,"../assets/exampleCode/train_gru.py":Ks,"../assets/exampleCode/train_lstm.py":Us,"../assets/exampleCode/train_simmodel.py":Js,"../assets/exampleCode/train_ulcnn.py":js,"../assets/extraction-icon.svg":Qs,"../assets/fault-diagnosis-icon.svg":qs,"../assets/fault-diagnosis-load-model-2.png":ei,"../assets/fault-diagnosis-load-model.png":ti,"../assets/fault-diagnosis-model-params.png":ni,"../assets/fault-diagnosis-outline.png":li,"../assets/fault-diagnosis-prediction-ml.png":oi,"../assets/fault-diagnosis-prediction.png":ai,"../assets/fault-prediction-icon.svg":si,"../assets/fault-prediction-outline.png":ii,"../assets/fault-prediction-output.png":ri,"../assets/feature-selection-icon.svg":ui,"../assets/features-selection-result-icon.svg":ci,"../assets/folderOpen.svg":di,"../assets/health-evaluation-icon.svg":fi,"../assets/health-evaluation-load-model.png":gi,"../assets/health-evaluation-outline-1.png":hi,"../assets/health-evaluation-outline-2.png":pi,"../assets/health-evaluation-outline-3.png":mi,"../assets/health-evaluation-output.png":vi,"../assets/health-evaluation-params-1.png":_i,"../assets/health-evaluation-params-2.png":yi,"../assets/health-evaluation-params.png":wi,"../assets/health-evaluation-prediction.png":bi,"../assets/heatmap-icon.svg":Ci,"../assets/indicators-trend-icon.svg":Ii,"../assets/interpolation-icon.svg":xi,"../assets/interpolation-outline.png":Ai,"../assets/interpolation-output.png":ki,"../assets/interpolation-params.png":Si,"../assets/line.gif":Ni,"../assets/login-background-2.jpg":Vi,"../assets/login-background.jpg":Di,"../assets/logo.png":Ei,"../assets/modeilng-finish.png":Gi,"../assets/model-check.png":Mi,"../assets/model-icon.svg":Zi,"../assets/modeling-finish-1.png":zi,"../assets/modeling-finish-2.png":Ri,"../assets/modeling-processing.png":Wi,"../assets/modeling.png":Li,"../assets/models-icon.svg":Bi,"../assets/noParams.png":Fi,"../assets/normalization-icon.svg":Yi,"../assets/normalization-input.png":$i,"../assets/normalization-outline-1.png":Ti,"../assets/normalization-outline-2.png":Xi,"../assets/normalization-params.png":Oi,"../assets/normalization-process-output.png":Hi,"../assets/pie-chart-icon.svg":Pi,"../assets/recommend-model-1.png":Ki,"../assets/rectify-model-1.png":Ui,"../assets/rectify-model-2.png":Ji,"../assets/rectify-model-3.png":ji,"../assets/results.png":Qi,"../assets/save-model-1.png":qi,"../assets/save-model-2.png":er,"../assets/set-params.png":tr,"../assets/step_1_drag.gif":nr,"../assets/step_2_setting.gif":lr,"../assets/step_3_modeling.gif":or,"../assets/step_4_modelCheck.gif":ar,"../assets/summary-icon.svg":sr,"../assets/swjtu.jpg":ir,"../assets/system-logo.png":rr,"../assets/system-outline.png":ur,"../assets/systemModels.svg":cr,"../assets/upload-data-1.png":dr,"../assets/upload-data-2.png":fr,"../assets/upload-data-3.png":gr,"../assets/userModels.svg":hr,"../assets/waveform-icon.svg":pr,"../assets/wavelet-icon.svg":mr,"../assets/wavelet-transform-outline.png":vr,"../assets/wavelet-transform-output.png":_r,"../assets/wavelet-transform-params.png":yr})[`../assets/${h}`],import.meta.url).href};v(!1),v(!1),v({filename:"",description:"",multipleSensors:"single",isPublic:"private"}),v(),v([]),v(!1),v(1);const au=v(!1),su=v(!1),$0=v(null),ya=v("customModel");v([]),v({});const T0={name:[{required:!0,message:"请输入模型名",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,message:"请输入中英文/数字/下划线",trigger:"blur"},{validator:X0,trigger:"blur"}],description:[{required:!0,message:"请输入模型描述",trigger:"blur"},{min:1,max:300,message:"长度应在1到300个字符之间",trigger:"blur"}],classify:[{required:!0,message:"请选择分类",trigger:"blur"}]};function X0(y,h,b){h==="无"?b(new Error("模型名不能为“无”")):b()}const qn=_l();v(!1),v("first");const iu=v(!1);v(!1);const el=v(!0),O0=We(()=>!(kl.value.length>0&&!Cn)),ru=v(!0),uu=v(!0),wa=v(!0),H0=v([{label:"数据预处理",id:"1",options:[{label:"异常值检测",id:"1.6",use_algorithm:null,parameters:{nan_detection:{}}},{label:"插值处理",id:"1.1",use_algorithm:null,parameters:{neighboring_values_interpolation:{},bicubic_interpolation:{},lagrange_interpolation:{},newton_interpolation:{},linear_interpolation:{},deeplearning_interpolation:{}},tip_show:!1,tip:"对输入信号进行插值",optional:!1},{label:"特征提取",id:"1.2",use_algorithm:null,parameters:{time_domain_features:{均值:!1,方差:!1,标准差:!1,偏度:!1,峰度:!1,四阶累积量:!1,六阶累积量:!1,最大值:!1,最小值:!1,中位数:!1,峰峰值:!1,整流平均值:!1,均方根:!1,方根幅值:!1,波形因子:!1,峰值因子:!1,脉冲因子:!1,裕度因子:!1},frequency_domain_features:{重心频率:!1,均方频率:!1,均方根频率:!1,频率方差:!1,频率标准差:!1,谱峭度的均值:!1,谱峭度的峰度:!1},time_frequency_domain_features:{均值:!1,方差:!1,标准差:!1,峰度:!1,偏度:!1,四阶累积量:!1,六阶累积量:!1,最大值:!1,最小值:!1,中位数:!1,峰峰值:!1,整流平均值:!1,均方根:!1,方根幅值:!1,波形因子:!1,峰值因子:!1,脉冲因子:!1,裕度因子:!1,重心频率:!1,均方频率:!1,均方根频率:!1,频率方差:!1,频率标准差:!1,谱峭度的均值:!1,谱峭度的峰度:!1},time_domain_features_multiple:{均值:!1,方差:!1,标准差:!1,偏度:!1,峰度:!1,四阶累积量:!1,六阶累积量:!1,最大值:!1,最小值:!1,中位数:!1,峰峰值:!1,整流平均值:!1,均方根:!1,方根幅值:!1,波形因子:!1,峰值因子:!1,脉冲因子:!1,裕度因子:!1},frequency_domain_features_multiple:{重心频率:!1,均方频率:!1,均方根频率:!1,频率方差:!1,频率标准差:!1,谱峭度的均值:!1,谱峭度的峰度:!1},time_frequency_domain_features_multiple:{均值:!1,方差:!1,标准差:!1,峰度:!1,偏度:!1,四阶累积量:!1,六阶累积量:!1,最大值:!1,最小值:!1,中位数:!1,峰峰值:!1,整流平均值:!1,均方根:!1,方根幅值:!1,波形因子:!1,峰值因子:!1,脉冲因子:!1,裕度因子:!1,重心频率:!1,均方频率:!1,均方根频率:!1,频率方差:!1,频率标准差:!1,谱峭度的均值:!1,谱峭度的峰度:!1}},tip_show:!1,tip:"手工提取输入信号的特征",optional:!0},{label:"无量纲化",id:"1.5",use_algorithm:null,parameters:{max_min:{useLog:!1},z_score:{useLog:!1},robust_scaler:{useLog:!1},max_abs_scaler:{useLog:!1}},tip_show:!1,tip:"对输入数据进行无量纲化处理",optional:!0},{label:"特征选择",id:"1.3",use_algorithm:null,parameters:{feature_imp:{rule:1,threshold1:.1,threshold2:.1},mutual_information_importance:{rule:1,threshold1:.1,threshold2:.1},correlation_coefficient_importance:{rule:1,threshold1:.1,threshold2:.1},feature_imp_multiple:{rule:1,threshold1:.1,threshold2:.1},mutual_information_importance_multiple:{rule:1,threshold1:.1,threshold2:.1},correlation_coefficient_importance_multiple:{rule:1,threshold1:.1,threshold2:.1}},tip_show:!1,tip:"对提取到的特征进行特征选择",optional:!0},{label:"小波变换",id:"1.4",use_algorithm:null,parameters:{wavelet_trans_denoise:{wavelet:"db1",wavelet_level:"1"}},tip_show:!1,tip:"对输入信号进行小波变换",optional:!0}],tip_show:!1,tip:"包含添加噪声、插值以及特征提取等"},{label:"故障检测",id:"2",options:[{label:"故障诊断",id:"2.1",use_algorithm:null,parameters:{random_forest_machine_learning:{},svc_machine_learning:{},gru_deeplearning:{},lstm_deeplearning:{},random_forest_multiple_machine_learning:{},svc_multiple_machine_learning:{},gru_multiple_deeplearning:{},lstm_multiple_deeplearning:{},ulcnn_deeplearning:{},ulcnn_multiple_deeplearning:{},spectrumModel_deeplearning:{},spectrumModel_multiple_deeplearning:{},additional_model_one_multiple_deeplearning:{},additional_model_two_multiple_deeplearning:{},additional_model_three_multiple_deeplearning:{},additional_model_four_multiple_deeplearning:{},additional_model_five_deeplearning:{},additional_model_six_deeplearning:{},additional_model_seven_deeplearning:{}},tip_show:!1,tip:"根据提取特征对输入信号作故障诊断",optional:!1},{label:"故障预测",id:"2.2",use_algorithm:null,parameters:{linear_regression:{},linear_regression_multiple:{}},tip_show:!1,tip:"根据提取的信号特征对输入信号进行故障预测",optional:!1}]},{label:"健康评估",id:"3",options:[{label:"层次分析模糊综合评估",id:"3.1",use_algorithm:null,parameters:{FAHP:{},FAHP_multiple:{}},tip_show:!1,tip:"将模糊综合评价法和层次分析法相结合的评价方法",optional:!1},{label:"层次朴素贝叶斯评估",id:"3.2",use_algorithm:null,parameters:{BHM:{},BHM_multiple:{}},tip_show:!1,tip:"使用朴素贝叶斯方法的评价方法",optional:!1},{label:"层次逻辑回归评估",id:"3.3",use_algorithm:null,parameters:{AHP:{},AHP_multiple:{}},tip_show:!1,tip:"使用层次逻辑回归方法的评价方法",optional:!1}]}]),P0={wavelet:[{value:"db1",label:"db1"},{value:"db2",label:"db2"},{value:"sym2",label:"sym2"},{value:"coif1",label:"coif1"}],wavelet_level:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],threshold1:{feature_imp:[{value:.005,label:"0.005"},{value:.01,label:"0.01"},{value:.02,label:"0.02"},{value:.03,label:"0.03"},{value:.04,label:"0.04"},{value:.05,label:.05},{value:.1,label:.1}],mutual_information_importance:[{value:.1,label:"0.1"},{value:.2,label:"0.2"},{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"}],mutual_information_importance_multiple:[{value:.3,label:"0.3"},{value:.35,label:"0.35"},{value:.4,label:"0.4"},{value:.45,label:"0.45"},{value:.5,label:"0.5"}],feature_imp_multiple:[{value:.01,label:"0.01"},{value:.03,label:"0.03"},{value:.05,label:"0.05"},{value:.06,label:"0.06"}],correlation_coefficient_importance_multiple:[{value:.58,label:"0.58"},{value:.6,label:"0.6"},{value:.62,label:"0.62"},{value:.64,label:"0.64"}],correlation_coefficient_importance:[{value:.1,label:"0.1"},{value:.2,label:"0.2"},{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"}]},threshold2:{feature_imp:[{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}],mutual_information_importance:[{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}],feature_imp_multiple:[{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}],mutual_information_importance_multiple:[{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}],correlation_coefficient_importance_multiple:[{value:.2,label:"0.2"},{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}],correlation_coefficient_importance:[{value:.3,label:"0.3"},{value:.4,label:"0.4"},{value:.5,label:"0.5"},{value:.6,label:"0.6"},{value:.7,label:"0.7"},{value:.8,label:"0.8"},{value:1,label:1}]},scaleUseLogs:[{value:!0,label:"使用训练模型时对数据的标准化方法"},{value:!1,label:"不使用训练模型时对数据的标准化方法"}]},cu=v("# 你好世界"),Pt=v(!1),du=y=>{on(),an.value=!1,Pt.value=!0,cu.value=uf[y],H()};v({});const fu=v({}),xl=v(!1),gu=v(""),K0=y=>{fu.value[y.label]=!fu.value[y.label];let h=y.label;(h==="层次分析模糊综合评估"||h==="层次朴素贝叶斯评估"||h==="层次逻辑回归评估"||h==="健康评估")&&(h="层次分析健康评估"),gu.value=cf[h],on(),xl.value=!0},nn=v([]);class hu{constructor(h){this.value=h,this.next=null}}class U0{constructor(){this.head=null,this.tail=null}append(h){const b=new hu(h);this.head?(this.tail.next=b,this.tail=b):(this.head=b,this.tail=b)}insertAtHead(h){const b=new hu(h);this.head?(b.next=this.head,this.head=b):(this.head=b,this.tail=b)}print(){let h=this.head;for(;h;)console.log(h.value),h=h.next}get_all_nodes(){let h=this.head,b=[];for(;h;)b.push(h.value),h=h.next;return b}length(){if(this.head){let h=1,b=this.head.next;for(;b;)b=b.next,h+=1;return h}return 0}search(h){if(this.head==null)return!1;{let b=this.head;for(;b;){if(b.value==h)return b;b=b.next}return!1}}searchPre(h){if(this.head==null)return!1;{let b=this.head;for(;b&&b.next;){if(b.next.value==h)return b;b=b.next}return!1}}}const J0=()=>{qn.push("/")};function xt(y){let h=kl.value.slice(),b=0;return h.forEach(U=>{U.label==y&&(b=U.id)}),b}const ut=v(""),bt=new U0;$t(()=>{window.addEventListener("resize",me),io.value=window.sessionStorage.getItem("username")||"用户名未设置",ut.value=window.sessionStorage.getItem("role")||"无效的用户",console.log("userRole: ",ut.value),_a(),document.querySelector(".el-main").classList.add("has-background"),Lt=nf.jsPlumb.getInstance(),q0(),Lt.bind("connection",function(y){let h=y.connection.sourceId,b=y.connection.targetId,U={};kl.value.forEach(de=>{let ze=de.id,Ee=de.label;U[ze]=Ee}),bt.head==null?(bt.append(U[h]),bt.append(U[b])):bt.head.value==U[b]?bt.insertAtHead(U[h]):bt.append(U[b]),bt.get_all_nodes()})});const j0={jsplumbSetting:{Anchors:["Right","Left"],anchor:["Right","Left"],Container:"efContainer",Connector:["Flowchart",{stub:30,gap:1,alwaysRespectStubs:!1,midpoint:.5,cornerRadius:10}],ConnectionsDetachable:!1,DeleteEndpointsOnDetach:!1,Endpoint:["Dot",{radius:8,cssClass:"ef-dot",hoverClass:"ef-dot-hover"}],EndpointStyle:{fill:"#808080",outlineWidth:3},LogEnabled:!0,PaintStyle:{stroke:"#808080",strokeWidth:7,outlineStroke:"transparent",outlineWidth:5},DragOptions:{cursor:"pointer",zIndex:2e3},ConnectionOverlays:[["Custom",{create(){return document.createElement("div")},location:.7,id:"customOverlay"}]],Overlays:[["Arrow",{width:25,length:8,location:1,direction:1,foldback:.623}],["Label",{label:"",location:.1,cssClass:"aLabel"}]],RenderMode:"canvas",HoverPaintStyle:{stroke:"#808080",strokeWidth:10},EndpointHoverStyle:{fill:"#808080"},Scope:"jsPlumb_DefaultScope"},jsplumbConnectOptions:{isSource:!0,isTarget:!0,labelStyle:{cssClass:"flowLabel"}},jsplumbSourceOptions:{filter:".node-drag",filterExclude:!1,anchor:["Continuous",{faces:["right"]}],allowLoopback:!1,maxConnections:-1},jsplumbSourceOptions2:{filter:".node-drag",filterExclude:!1,allowLoopback:!0,connector:["Flowchart",{curviness:50}],connectorStyle:{stroke:"red",strokeWidth:1,outlineStroke:"transparent",outlineWidth:10},connectorHoverStyle:{stroke:"red",strokeWidth:2}},jsplumbTargetOptions:{filter:".node-drag",filterExclude:!1,anchor:["Continuous",{faces:["left"]}],allowLoopback:!1,dropOptions:{hoverClass:"ef-drop-hover"}}},pu=v(!1),Al=v(!1);let dn=v(!1),Dn=v(0),ba=null,Ca=null,Wt={};const io=v(""),mu=lf.CancelToken.source();mu.cancel;const ro=v(!1),Ia=v(!1);v(!1);const Q0=v();v([]);const kl=v([]),it=Et({modules:[],algorithms:{},parameters:{},schedule:[],multipleSensor:!1});let Lt,dt=v(!1),vu=v(!1),uo=v(!1);const xa=()=>{pu.value=!1,kl.value=[],Aa(),Ia.value=!1,dt.value=!1,uo.value=!1,Pt.value=!1,an.value=!1,Cn=!1,Uu.value=!1,ru.value=!0,uu.value=!0,ro.value=!1,el.value=!0,Zn.value="无",Kt("未建立模型"),on()},Aa=()=>{it.modules=[],it.algorithms={},it.parameters={},it.schedule=[]},q0=()=>{Lt.importDefaults(j0.jsplumbSetting)},e2={id:"4",label:"数据源",parameters:{dataSource:{}},optional:!0},t2=v(!1),kt=v({name:"",description:"",class:null}),n2=()=>!(kt.value.name===""|kt.value.class.length==0|kt.value.description==""),l2=We(()=>_u(Cl)),_u=y=>y.filter(h=>h.isModel?!1:(h.children&&(h.children=_u(h.children)),!0));let tl;const ka=v(),o2=async y=>{if(it.schedule.length==0){q({message:"请先建立并检查模型",type:"warning"});return}else if(n2()){console.log("saveModelConfirm modelInfoForm: ",kt.value);let h=new FormData;h.append("model_name",kt.value.name);let U={nodeList:R(),modelConfig:it};h.append("model_info",JSON.stringify(U)),h.append("description",kt.value.description);let de=kt.value.class.split(".")[0],ze=kt.value.class;console.log("saveModelConfirm treeName: ",de),console.log("saveModelConfirm parentNodeValue: ",ze),h.append("treeName",de),h.append("parentNode",ze),Pe.post("/user/save_model/",h,{headers:{"Content-Type":"multipart/form-data"}}).then(Ee=>{Ee.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:Be=>{qn.push("/")}}),Ee.data.code==200?(q({message:"保存模型成功",type:"success"}),ka.value.getComponentTrees(),ka.value.fetchModelInfoFromDatabase(),lu(),Cn=!0,tl=Ee.data.model_id,console.log("saveModelConfirm modelId: ",tl),iu.value=!0,t2.value=!1,Al.value=!1,el.value=!1,uo.value=!0,Zn.value=kt.value.name,Kt("当前模型已保存")):Ee.data.code==400?q({message:"已有同名模型，保存模型失败",type:"error"}):q({message:"保存模型失败，"+Ee.data.message,type:"error"})}).catch(Ee=>{q({message:"保存模型请求失败",type:"error"}),console.log("save model error: ",Ee)})}else{q({message:"请填写完整信息",type:"warning"});return}},ln=v(""),a2=v(!1),wn=v(!1);v("");const Bt=v(!1),En=v(!1),yu=v("first"),wu=v("样本1"),Sl=v({}),co=v({}),fo=v({}),go=v({}),Sa=v(""),bu=v([]),bn=y=>{let h=y.层级有效指标_Base64,b=y.二级指标权重柱状图_Base64,U=y.评估结果柱状图_Base64,de=y.评估建议;bu.value=y.样本状态隶属概率,Sl.value={},h.forEach((Ee,Be)=>{Sl.value[`样本${Be+1}`]="data:image/png;base64,"+Ee}),co.value={},b.forEach((Ee,Be)=>{co.value[`样本${Be+1}`]="data:image/png;base64,"+Ee}),fo.value={},U.forEach((Ee,Be)=>{fo.value[`样本${Be+1}`]="data:image/png;base64,"+Ee}),go.value={},de.forEach((Ee,Be)=>{go.value[`样本${Be+1}`]=Ee}),Sa.value=y.最终评估结果;let ze=y.各样本状态隶属度;Ft(()=>{let Ee=document.getElementById("healthEvaluationPieChart"),Be=il(Ee),be;if(Be)be=Be.getDataURL({type:"png",backgroundColor:"#fff",excludeComponents:["toolbox"]}),be=be.replace(/^data:image\/[a-z]+;base64,/,"");else{let $e=Bn(Ee),He,ve={正常:"#4CAF50",轻微退化:"#FFC107",严重退化:"#FF9800",失效:"#F44336"};He={animation:!1,title:{text:"评估结果中不同状态所属的样本数量比例",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"样本数量",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};for(let[Ze,Re]of Object.entries(ze))He.series[0].data.push({value:Re,name:Ze,itemStyle:{color:ve[Ze]||"#ccc"}});$e.setOption(He),be=$e.getDataURL({type:"png",backgroundColor:"#fff",excludeComponents:["toolbox"]}),be=be.replace(/^data:image\/[a-z]+;base64,/,"")}rt.healthEvaluation.imageBase64List.push(be),rt.healthEvaluation.texts.push(Sa.value)})},Nl=v(!1),Na=v(!1),s2=v(0),Vl=v([]),ho=v([]),Va=v("传感器 1"),Cu=y=>{let b=Object.assign({},y.features_with_name).features_name,U=Object.assign({},y.featuresToDrawLineChart);console.log("featuresToDrawLineChart: ",U);let de=y.num_examples,ze=[];for(let be=0;be<de;be++)ze.push("样本"+(be+1)+`(${be*2048}~${(be+1)*2048-1})`);let Ee=y.raw_data;s2.value=Ee.length,console.log("rawDataSeries: ",Ee);let Be=1;Vl.value.length=0;for(let be of Ee)Vl.value.push({sensor_no:"传感器 "+Be,data:be}),Be+=1;Be=1,ho.value.length=0;for(let be of Object.values(U))ho.value.push({sensor_no:"传感器 "+Be,data:be}),Be+=1;Va.value=Vl.value[0].sensor_no,Ft(()=>{Vl.value.forEach(be=>{let $e=document.getElementById(be.sensor_no);if(!il($e)){let ve=Bn($e),Ze=be.data,Re={animation:!1,title:{text:"原始信号"},xAxis:{type:"value",data:Array.from({length:Ze.length}),name:"采样点"},yAxis:{type:"value",name:"采样值"},series:[{name:"信号",type:"line",symbol:"circle",symbolSize:2,data:Ze.map((Te,ft)=>[ft,Te])}]};ve.setOption(Re)}}),ho.value.forEach(be=>{let $e=document.getElementById(be.sensor_no+"features"),He=il($e),ve;if(He)ve=He.getDataURL({type:"jpeg",backgroundColor:"#fff",excludeComponents:["toolbox"]});else{let ft=be.data;var Ze=Bn($e),Re;Re={animation:!1,title:{text:"连续信号样本提取特征"},tooltip:{trigger:"axis"},legend:{left:"center",top:"6%",data:b,padding:[8,5,10,5]},grid:{left:"5%",right:"5%",bottom:"auto",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:ze},yAxis:{type:"value"},series:[]};for(let Ut of b)Re.series.push({name:Ut,type:"line",stack:"Total",data:ft[Ut],itemStyle:{color:ku()}});Ze.setOption(Re),ve=Ze.getDataURL({type:"jpeg",backgroundColor:"#fff",excludeComponents:["toolbox"]})}let Te=ve.split(",")[1];rt.featureExtraction.imageBase64List.push(Te)}),rt.featureExtraction.texts.push("对输入的"+ho.value.length+"个传感器信号进行特征提取， 每段信号共提取出"+b.length+"个特征。")})},Dl=v(!1),Da=v(!1),i2=v(""),Ea=v(""),Iu=v(""),Ga=v("");v("first");const xu=y=>{let h=y.figure_Base64,b=y.heatmap_Base64;Ea.value=y.selected_features.join("、");let U=y.threshold,de=U.split("_")[0],ze=U.split("_")[1];console.log(" rule: ",de,"thresholdValue: ",ze),Iu.value=y.rule,i2.value="data:image/png;base64,"+h,Ga.value="data:image/png;base64,"+b,rt.featureSelection.texts.push("对输入信号提取到的特征进行特征选择后，最终选择的特征为"+Ea.value),Ft(()=>{const Ee=document.getElementById("featureSelectionChart");if(!Ee)return;let Be=il(Ee),be;if(Be)be=Be.getDataURL({type:"jpeg",backgroundColor:"#fff",excludeComponents:["toolbox"]});else{const He=Bn(Ee),ve=y.all_features,Ze=y.computed_values,Re=new Set(y.selected_features),Te=ve.map((Ut,zn)=>({name:Ut,value:Ze[zn],itemStyle:{color:Re.has(Ut)?"red":"blue"}})),ft={title:{text:"特征相关系数柱状图"},animation:!1,tooltip:{},xAxis:{data:ve,axisLabel:{interval:0,rotate:45,margin:10}},yAxis:{},series:[{name:"相关系数",type:"bar",data:Te,markLine:{symbol:["none","none"],label:{show:!1,position:"start",formatter:"{b}"},data:[{name:"阈值",yAxis:ze}],label:"阈值",lineStyle:{color:"#f00"}}}]};de=="rule2"&&(ft.series[0].markLine=null,ft.graphic=[{type:"text",left:"right",top:"top",style:{text:`特征系数总和占比达到阈值: ${ze}`,textAlign:"right",fill:"#f00",fontSize:17},offset:[-20,20]}]),He.setOption(ft),be=He.getDataURL({type:"jpeg",backgroundColor:"#fff",excludeComponents:["toolbox"]})}let $e=be.split(",")[1];rt.featureSelection.imageBase64List.push($e)})},Ma=v(!1),Au=v(),r2={module:[{required:!0,message:"请选择一个模块",trigger:"change"}],feedbackContent:[{required:!0,message:"请输入问题描述",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_]+$/,message:"只能包含中英文字符、数字和下划线",trigger:"blur"}]},Gn=Et({module:"",feedbackContent:""}),u2=()=>{Au.value.validate().then(()=>{const y=new FormData;y.append("username",io.value),y.append("datafile",Vt.value),y.append("modelName",n.value),y.append("module",Gn.module),y.append("question",Gn.feedbackContent),y.append("modelId",Ku),Pe.post("user/user_feedback/",y).then(h=>{h.data.code===200?ct.success("已收到您的反馈"):ct.error("反馈提交失败, ",h.data.message)}).catch(h=>{console.log("上传反馈失败",h),ct.error("上传反馈失败")})}).catch(y=>{console.error("反馈提交失败",y)})};function c2(y){let h=[];for(let b=0,U=0;b<y.length;b++,U++)b%X7==0&&h.push(`
`),h.push(y[b]);return h}const ku=()=>{let y="",h=Math.floor(Math.random()*256),b=Math.floor(Math.random()*256),U=Math.floor(Math.random()*256);return y=`rgb(${h},${b},${U})`,y},El=v(!1),po=v(!1),Su=v(""),Za=v("");let za=0;const Gl=v(""),d2=v(""),f2=v(""),Nu=v("");v("2");const Vu=v([]),Du=v({}),Eu=v(0),mo=v("当前运行数据集没有对应真实标签，无法进行模型准确率评估"),g2=v(!1),Gu=y=>{let h=y.figure_Base64,b=y.cm_figure_Base64,U=y.diagnosis_result,de=y.indicator,ze=y.x_axis,Ee=y.num_has_fault,Be=y.num_has_no_fault;if(y.accuracy!=0){console.log("faultDiagnosisDisplay resultsObject.accuracy != 0"),za=y.accuracy;let ve=y.f1_score,Ze=y.recall;mo.value=`该数据集下故障诊断精确度为:${za}%， f1分数为: ${ve}， 召回率为: ${Ze}`,Gl.value="data:image/png;base64,"+b,rt.faultDiagnosis.texts.push(mo.value),rt.faultDiagnosis.imageBase64List.push(b)}else mo.value="当前运行数据集没有对应真实标签，无法进行模型准确率评估",za=0,Gl.value="";Eu.value=y.enable_features_contrast;let be=y.mean_value_of_each_feature;Du.value=be,console.log("faultDiagnosisDisplay resultsObject mean_value_of_each_feature: ",be),de!="none"&&(g2.value=!0);let $e=Object.keys(de),He=c2($e);Ft(()=>{if(de!="none"){let sl=document.getElementById("indicatorVaryingFigure");if(!il(sl)){var ve=Bn(sl),Ze;Ze={animation:!1,title:{text:"连续样本指标变化曲线图"},tooltip:{trigger:"axis"},legend:{left:"center",top:"5%",bottom:"6%",data:He,selected:He.reduce((Dt,St,Jt)=>(Dt[St]=Jt===0,Dt),{})},grid:{left:"5%",right:"5%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:ze},yAxis:{type:"value"},series:[]};for(let Dt in de)Ze.series.push({name:Dt,type:"line",stack:"Total",data:de[Dt],itemStyle:{color:ku()}});ve.setOption(Ze),ve.on("legendselectchanged",function(Dt){console.log("legendselectchanged is called",Dt);for(let St in Objectparams.selected)console.log("feature: ",St)})}}var Re=document.getElementById("faultExampleRatioFigure");if(!Re){console.log("faultDiagnosis pieChartDom is null");return}let Te=il(Re),ft;if(Te)ft=Te.getDataURL({type:"png",backgroundColor:"#fff",excludeComponents:["toolbox"]});else{var Ut=Bn(Re),zn;zn={title:{text:"预测结果中不同类型样本数量比例",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"样本数量",type:"pie",radius:"50%",data:[{value:Ee,name:"预测为故障类型的样本"},{value:Be,name:"预测为非故障类型的样本"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],animation:!1},Ut.setOption(zn),ft=Ut.getDataURL({type:"png",backgroundColor:"#fff",excludeComponents:["toolbox"]})}let Rn=ft.split(",")[1];rt.faultDiagnosis.imageBase64List.push(Rn)}),Vu.value=y.statistics_of_features,console.log("featuresStatisticsTableData: ",Vu.value),d2.value="data:image/png;base64,"+y.complementary_Base64,f2.value=y.complementary_summary,Nu.value=y.resultText,U==0?(Su.value="无故障",rt.faultDiagnosis.texts.push("由输入的振动信号，共截取到"+(Ee+Be)+"个样本，根据故障诊断模型预测，其中"+Ee+"个样本存在故障，未达到样本总数的70%，由此判断该部件无故障")):(Su.value="存在故障",rt.faultDiagnosis.texts.push("由输入的振动信号，共截取到"+(Ee+Be)+"个样本，根据故障诊断模型预测，其中"+Ee+"个样本存在故障，已达到样本总数的70%，由此判断该部件存在故障")),Za.value="data:image/png;base64,"+h,console.log("resultsObject.accuracy: ",y.accuracy)},Ml=v(!1),Ra=v(!1),Wa=v(0),vo=v(""),La=v(""),Ba=v(""),Mu=y=>{let h,b=y.figure_Base64;Ba.value="data:image/png;base64,"+b,y.time_to_fault==0?(Wa.value=1,vo.value="已经出现故障",h="预测结果："+y.prediction_conclusion):(Wa.value=0,vo.value="还未出现故障",La.value=y.time_to_fault_str,h="预测结果："+y.prediction_conclusion,h+=", 经算法预测"+y.time_to_fault_str+"后该部件可能出现故障"),rt.faultPrediction.texts.push(h)},Zu=v("1"),Zl=v(!1),Fa=v(!1),_o=v([]),Ya=v([]),zu=y=>{let h=0;_o.value.length=0,Ya.value.length=0;for(const[b,U]of Object.entries(y))h+=1,_o.value.push("data:image/png;base64,"+U),rt.interpolation.imageBase64List.push(U),Ya.value.push({label:b.split("_")[0],name:h.toString()});rt.interpolation.texts.push(`对输入的${h}个传感器信号进行插值处理，处理结果如下`)},zl=v(!1),Ru=v("1"),h2=v(""),$a=v(!1),yo=v([]),Ta=v([]),Wu=y=>{let h=0;yo.value.length=0,Ta.value.length=0;for(const[b,U]of Object.entries(y)){if(b==="检测结果"){h2.value=U;continue}h+=1,yo.value.push("data:image/png;base64,"+U),rt.anamolyDetection.imageBase64List<1&&rt.anamolyDetection.imageBase64List.push(U),Ta.value.push({label:b.split("_")[0],name:h.toString()})}rt.anamolyDetection.texts.push(`对输入的${h}个传感器信号进行异常值检测，检测结果如下`)},Lu=v("1"),Rl=v(!1),Xa=v(!1),Bu=v([]),Fu=v([]),wo=v([]),bo=v([]),Oa=v([]),Yu=(y,h,b)=>{let U=y.features_name.slice(),de=Object.assign(y.features_extracted_group_by_sensor),ze=[];U.unshift("传感器");for(const Ee in de){let Be=de[Ee].slice();Be.unshift(Ee),ze.push(Be)}h.value.length=0,U.forEach(Ee=>{h.value.push({prop:Ee,label:Ee,width:180})}),b.value=ze.map((Ee,Be)=>{const be={};return h.value.forEach(($e,He)=>{be[$e.prop]=Ee[He]}),be})},Co=v("table"),$u=y=>{let h=Object.assign({},y.raw_data),b=Object.assign({},y.scaled_data);if(y.datatype=="table")Co.value="table",Yu(h,wo,Bu),Yu(b,wo,Fu);else{Co.value="figure";let U=0;bo.value.length=0,Oa.value.length=0;for(const[de,ze]of Object.entries(y))de!="datatype"&&(U+=1,bo.value.push("data:image/png;base64,"+ze),rt.normalization.imageBase64List<1&&resultsToGenerateCxonclusion.normalization.imageBase64List.push(ze),Oa.value.push({label:de.split("_")[0],name:U.toString()}));rt.normalization.texts.push(`对输入的${U}个传感器信号进行无量纲化结果，处理结果如下`)}},Tu=v("1"),Wl=v(!1),Ha=v(!1),Io=v([]),Pa=v([]),Xu=y=>{let h=0;Io.value.length=0,Pa.value.length=0;for(const[b,U]of Object.entries(y))h+=1,Io.value.push("data:image/png;base64,"+U),rt.wavelet.imageBase64List<1&&rt.wavelet.imageBase64List.push(U),Pa.value.push({label:b.split("_")[0],name:h.toString()});rt.wavelet.texts.push(`对输入的${h}个传感器信号进行小波变换去噪后所得结果如下`)},xo=v(!1),Ka=v(""),Ou=v(""),Hu=["healthEvaluation","featureExtraction","featureSelection","faultDiagnosis","faultPrediction","interpolation","anamolyDetection","normalization","wavelet"];let rt={includedModules:[],outline:"",...Hu.reduce((y,h)=>(y[h]={imageBase64List:[],texts:[]},y),{})};const p2=()=>{rt={includedModules:[],outline:"",...Hu.reduce((y,h)=>(y[h]={imageBase64List:[],texts:[]},y),{})}},nl=v(!1),Zt=v([]),Mn=We(()=>it.schedule.filter(y=>y!="异常值检测"&&y!="无量纲化"&&y!="数据源")),m2=()=>{nl.value?Zt.value=[...Mn.value]:Zt.value.length>0?Zt.value=[Mn.value[1]]:Zt.value=[],Zt.value=Zt.value.filter(y=>y!=="数据源")};Ke(Zt,y=>{y.length===Mn.value.length?nl.value=!0:nl.value=!1,y.length===0&&Mn.value.length>0&&(Zt.value=[Mn.value[0]])});const Ua=v(!1),v2=()=>{if(!dt.value){q({message:"无运行结果",type:"error"});return}Zt.value=[],Ua.value=!0,nl.value=!1};let _2={层次分析模糊综合评估:"healthEvaluation",层次朴素贝叶斯评估:"healthEvaluation",层次逻辑回归评估:"healthEvaluation",健康评估:"healthEvaluation",特征提取:"featureExtraction",特征选择:"featureSelection",故障诊断:"faultDiagnosis",故障预测:"faultPrediction",插值处理:"interpolation",无量纲化:"normalization",小波变换:"wavelet"};const Pu=async y=>{p2(),console.log("generateResult moduleNameArray: ",y),rt.includedModules=y.map(U=>_2[U]),on(),wn.value=!0,console.log("canShowResults: ",wn.value),y.forEach(U=>{if(dt.value)Ja(U,!1);else{q({message:"无运行结果",type:"warning"});return}});let h;n.value==null||n.value==""?h="未命名模型":h=n.value;let b="时间："+new Date().toLocaleString()+"<br/>数据集："+Vt.value+"<br/>模型名称："+h+"<br/>包含模块："+it.schedule.join(", ");rt.outline=b},Ao=v(!1),y2=async()=>{if(Ao.value=!0,Zt.value.length===0){q({message:"请选择生成报告中所包含的结果",type:"warning"});return}await Pu(Zt.value);let y=new FormData;Cn?y.append("modelId",tl):y.append("schedule",it.schedule),y.append("fileName",Vt.value),y.append("downLoad",1),console.log("generateConclusion resultsToGenerateConclusion: ",rt),setTimeout(()=>{y.append("resultsToGenerateOutput",JSON.stringify(rt)),Pe.post("user/generate_model_evaluation_report/",y,{responseType:"blob"}).then(h=>{Ao.value=!1,h.status===200?(q({message:"生成总结报告成功",type:"success"}),w2(h.data,"report.pdf")):q({message:"生成总结报告失败, "+h.data.message,type:"error"})}).catch(h=>{Ao.value=!1,console.log("生成总结报告失败：",h)})},500)},w2=(y,h)=>{const b=window.URL.createObjectURL(new Blob([y])),U=document.createElement("a");U.href=b,U.setAttribute("download",h),document.body.appendChild(U),U.click(),document.body.removeChild(U)},on=()=>{Pt.value=!1,an.value=!1,wn.value=!1,xl.value=!1,a2.value=!0,vu.value=!0,Ia.value=!1,Bt.value=!1,Nl.value=!1,Dl.value=!1,El.value=!1,Ml.value=!1,Zl.value=!1,zl.value=!1,Rl.value=!1,Wl.value=!1,xo.value=!1,Na.value=!1,En.value=!1,po.value=!1,Da.value=!1,Ha.value=!1,Xa.value=!1,Fa.value=!1,$a.value=!1,Ra.value=!1,Je=""};let Je="";const Ja=(y,h)=>{if(y=="层次分析模糊综合评估"){let b=Wt.层次分析模糊综合评估;Je!="层次分析模糊综合评估"&&h?(Je="层次分析模糊综合评估",Bt.value=h,bn(b)):(h&&Je=="层次分析模糊综合评估"&&(Bt.value=h),h||(En.value=!0,bn(b)))}else if(y=="特征提取"){let b=Wt.特征提取;Je!="特征提取"&&h?(Je="特征提取",Nl.value=h,setTimeout(()=>{Cu(b)},500)):(h&&Je=="特征提取"&&(Nl.value=h),h||(Na.value=!0,setTimeout(()=>{Cu(b)},500)))}else if(y=="特征选择"){let b=Wt.特征选择;Je!="特征选择"&&h?(Je="特征选择",Dl.value=h,xu(b)):(h&&Je=="特征选择"&&(Dl.value=h),h||(Da.value=!0,xu(b)))}else if(y=="故障诊断"){let b=Wt.故障诊断;Je!="故障诊断"&&h?(Je="故障诊断",El.value=h,Gu(b)):(h&&Je=="故障诊断"&&(El.value=h),h||(po.value=!0,console.log("generateFaultDiagnosisFigure: ",po.value),Gu(b)))}else if(y=="故障预测"){let b=Wt.故障预测;Je!="故障预测"&&h?(Je="故障预测",Ml.value=h,Mu(b)):(h&&Je=="故障预测"&&(Ml.value=h),h||(Ra.value=!0,Mu(b)))}else if(y=="插值处理"){let b=Wt.插值处理;Je!="插值处理"&&h?(Je="插值处理",Zl.value=h,zu(b)):(h&&Je=="插值处理"&&(Zl.value=h),h||(Fa.value=!0,zu(b)))}else if(y=="无量纲化"){let b=Wt.无量纲化;Je!="无量纲化"&&h?(Je="无量纲化",Rl.value=h,$u(b)):(h&&Je=="无量纲化"&&(Rl.value=h),h||(Xa.value=!0,$u(b)))}else if(y=="小波变换"){let b=Wt.小波变换;Je!="小波变换"&&h?(Je="小波变换",Wl.value=h,Xu(b)):(h&&Je=="小波变换"&&(Wl.value=h),h||(Ha.value=!0,Xu(b)))}else if(y=="层次朴素贝叶斯评估"){let b=Wt.层次朴素贝叶斯评估;Je!="层次朴素贝叶斯评估"&&h?(Je="层次朴素贝叶斯评估",Bt.value=h,bn(b)):(h&&Je=="层次朴素贝叶斯评估"&&(Bt.value=h),h||(En.value=!0,bn(b)))}else if(y=="层次逻辑回归评估"){let b=Wt.层次逻辑回归评估;Je!="层次逻辑回归评估"&&h?(Je="层次逻辑回归评估",Bt.value=h,bn(b)):(h&&Je=="层次逻辑回归评估"&&(Bt.value=h),h||(En.value=!0,bn(b)))}else if(y=="健康评估"){let b=Wt.健康评估;Je!="健康评估"&&h?(Je="健康评估",Bt.value=h,bn(b)):(h&&Je=="健康评估"&&(Bt.value=h),h||(En.value=!0,bn(b)))}else if(y=="异常值检测"){let b=Wt.异常值检测;Je!="异常值检测"&&h?(Je="异常值检测",zl.value=h,Wu(b)):(h&&Je=="异常值检测"&&(zl.value=h),h||($a.value=!0,Wu(b)))}else y=="数据源"?q.warning("数据源无运行结果"):q({message:"无效的算法模块",type:"error"})},b2=y=>{dt.value?(on(),wn.value=!0,Ja(y,!0),setTimeout(function(){console.log("继续执行代码"),Ja(y,!1)},3e3),console.log("moduleResultToGenerateList: ",Zt.value)):q.warning("无运行结果")};v([]);const ja=v(!1),C2=()=>{document.fullscreenElement?(document.exitFullscreen(),ja.value=!1):(document.documentElement.requestFullscreen(),ja.value=!0)};let Cn=!1;const Zn=v("无");let Ku="";async function I2(y){y.nodeList&&await ye(y.nodeList),console.log("传递的数组",he.value),xa(),Kt("当前模型已保存"),Cn=!0,ht.value=!0,el.value=!1,console.log("使用的模型信息，并根据此再次构建contentjson",y),console.log("边的信息:",he.value),Object.assign(it,y.modelConfig),console.log("restoreCanvas contentJson:",it),he.value.forEach(h=>{if(h.nodeInfo.id==="1.2"){var b=h.nodeInfo.parameters[h.nodeInfo.use_algorithm];console.log("features: ",b),Object.keys(b).forEach(U=>{b[U]==!0&&nn.value.push(U)})}}),uo.value=!0}v(!1),v(""),v([]),v([]);const an=v(!1),ko=v(""),Qa={success:"## 程序已经运行完毕，请点击相应的算法模块查看对应结果！",shutdown:"## 程序运行终止，点击清空模型重新建立模型",error:"## 程序运行出错，请检查模型是否正确，或者检查加载的数据是否规范",error412:"## 程序运行出错，所选特征无法满足模型预测需要，建议提取所有时域以及频域的特征，或者重新选择特征！"},Uu=v(!1);function Kt(y){var h=document.getElementById("statusIndicator");switch(h.textContent=y,h.classList.remove("error","success","saved","rectify"),y){case"未建立模型":break;case"请建立模型并点击检查模型":h.classList.add("error");break;case"模型建立并已通过模型检查":h.classList.add("success");break;case"当前模型已保存":h.classList.add("saved");case"正在修改模型":h.classList.add("rectify");break}}const ll=v([]),Vt=v("无"),x2=v(!1);let A2=null;const k2=(y,h)=>{Pe.get("/user/delete_datafile/?filename="+h.dataset_name).then(b=>{b.data.code==200?(ll.value.splice(y,1),x2.value=!1,q({message:"文件删除成功",type:"success"}),A2.dataset_name==Vt.value&&(Vt.value="无")):b.data.code==400?q({message:"删除失败: "+b.data.message,type:"error"}):b.data.code==401&&gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:U=>{qn.push("/")}})}).catch(b=>{})},ol=v(null),S2=(y,h)=>{ol.value=h,setTimeout(()=>{Vt.value=y.dataset_name,ol.value=null,q({message:"数据加载成功",type:"success"})},1e3)},N2=()=>{Pe.get("user/search_dataset/?keywords="+d.value).then(y=>{if(y.data.code==401)gt.alert("登录状态已失效，请重新登陆","提示",{confirmButtonText:"确定",callback:()=>{qn.push("/")}});else if(y.data.code==200){ll.value.length=0;for(let h of y.data.data)ll.value.push(h)}}).catch(()=>{q({message:"搜索失败，请重试",type:"error"})})},V2=y=>y=="无"?"red":"green",al=v(!0),D2=()=>{al.value=!al.value},qa=v(!1),es=v(!1),ts=v(!1),So=()=>{al.value?qa.value=es.value||ts.value:qa.value=!0},ns=v(!1),E2=async()=>{ns.value=!0,await Pu(Mn.value);let y=new FormData;console.log("generateModelTestReport resultsToGenerateConclusion: ",rt),y.append("modelId",tl),y.append("fileName",Vt.value),y.append("downLoad",0),console.log("generateModelTestReport formData:",y.get("resultsToGenerateOutput")),setTimeout(()=>{y.append("resultsToGenerateOutput",JSON.stringify(rt)),Pe.post("/user/generate_model_evaluation_report/",y).then(h=>{h.data.code==200?q({message:"生成成功",type:"success"}):h.data.code==400&&q({message:"生成失败: "+h.data.message}),ns.value=!1})},500)};return(y,h)=>{const b=te("el-scrollbar"),U=te("el-header"),de=te("a-modal"),ze=te("el-aside"),Ee=te("a-button"),Be=te("el-table-column"),be=te("el-col"),$e=te("el-row"),He=te("el-popconfirm"),ve=te("el-table"),Ze=te("el-text"),Re=te("a-select-option"),Te=te("a-select"),ft=te("el-radio"),Ut=te("el-radio-group"),zn=te("el-input-number"),Rn=te("el-form-item"),sl=te("el-form"),Ju=te("el-progress"),Dt=te("v-md-preview"),St=te("el-image"),Jt=te("el-tab-pane"),Wn=te("el-tabs"),ju=te("a-form-item"),G2=te("a-input"),M2=te("a-form"),Qu=te("el-checkbox"),Z2=te("el-checkbox-group"),z2=te("el-divider"),R2=te("el-main"),qu=te("el-container"),W2=te("a-tree-select");return V(),L("div",x8,[c(qu,{class:"fullscreen_container"},{default:g(()=>[c(U,{class:"header",style:{"z-index":"2"}},{default:g(()=>[A8,k8,i("div",S8,[i("span",N8,Fe(io.value==="用户名未设置"?"用户名未设置":"欢迎"+io.value+"！"),1),i("div",{onClick:J0,class:"clickable action-item"},E8),i("div",{onClick:h[0]||(h[0]=Z=>C2()),class:"clickable action-item",style:{"margin-right":"0"}},[ja.value?(V(),L("i",M8)):(V(),L("i",G8)),Z8])]),c(T(No),{modelValue:au.value,"onUpdate:modelValue":h[1]||(h[1]=Z=>au.value=Z),title:"操作指南",width:"810",draggable:"","close-on-click-modal":!1,center:!1},{default:g(()=>[i("div",z8,[c(b,{height:"500px"},{default:g(()=>[R8,W8,L8,B8,F8,Y8,$8,T8,X8,O8,H8,P8,K8,U8]),_:1})])]),_:1},8,["modelValue"]),c(T(No),{modelValue:su.value,"onUpdate:modelValue":h[2]||(h[2]=Z=>su.value=Z),title:"使用教程",width:"810",draggable:"","close-on-click-modal":!1,center:!1},{default:g(()=>[i("div",J8,[c(b,{height:"500px",ref_key:"userHelpDialogScrollbar",ref:$0},{default:g(()=>[j8,Q8,q8,eC,tC,nC]),_:1},512)])]),_:1},8,["modelValue"])]),_:1}),c(qu,{style:{"flex-grow":"1","overflow-y":"hidden"}},{default:g(()=>[c(ze,{class:"el-aside-demo",onMouseenter:h[9]||(h[9]=Z=>{es.value=!0,So()}),onMouseleave:h[10]||(h[10]=Z=>{es.value=!1,So()}),style:Le({width:al.value?"300px":"0"})},{default:g(()=>[i("div",lC,[i("div",oC,[aC,ut.value==="superuser"?(V(),L("span",sC,"模型构建")):ae("",!0),ut.value==="user"?(V(),L("span",iC,"历史模型")):ae("",!0)]),c(Do,{modelValue:_.value,"onUpdate:modelValue":h[8]||(h[8]=Z=>_.value=Z),accordion:!1,theme:"light",onItemClick:w},{default:g(()=>[ut.value==="superuser"?(V(),ke(Nt,{key:0,name:"1",data:{name:"1"},"item-background":"#ebeef4",style:{"border-bottom-width":"2px"}},{title:g(()=>[rC]),arrow:g(({isActive:Z})=>[i("div",uC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",cC,[c(Do,{modelValue:_.value,"onUpdate:modelValue":h[6]||(h[6]=Z=>_.value=Z),accordion:!0,theme:"light",onItemClick:w},{default:g(()=>[c(Nt,{name:"1-0",data:{name:"1-0"}},{title:g(()=>[dC]),arrow:g(({isActive:Z})=>[i("div",fC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",gC,[i("div",{draggable:!0,style:{width:"100%"},class:"menu-item-second",onDragstart:h[3]||(h[3]=Z=>_e(Z,"dataSource",e2,"handleDragend","default")),onClick:h[4]||(h[4]=Z=>du("dataSource".replace(/_multiple/g,"")))},[c(ss,{text:"数据源组件",tooltip_text:"拖拽数据源组件至可视化建模区","custom-styles":{backgroundColor:"#ffffff",width:"100%",height:"40px"},"content-style":{backgroundColor:"#ffffff",paddingLeft:"50px",paddingRight:"10px",fontSize:"18px"}},{icon:g(()=>[hC]),_:1})],32)])]),_:1}),(V(!0),L(Ye,null,lt(H0.value,(Z,Qe)=>(V(),ke(Nt,{name:"1-"+(Qe+1),data:{name:"1-"+(Qe+1)}},{title:g(()=>[i("div",pC,[i("span",mC,Fe(Z.label),1)])]),arrow:g(({isActive:pt})=>[i("div",vC,[i("i",{class:ot(["fa",pt?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",_C,[c(Do,{modelValue:_.value,"onUpdate:modelValue":h[5]||(h[5]=pt=>_.value=pt),accordion:!0,theme:"light",onItemClick:w},{default:g(()=>[(V(!0),L(Ye,null,lt(Z.options,(pt,ec)=>(V(),ke(Nt,{name:"1-"+(Qe+1)+"-"+ec,data:{name:"1-"+(Qe+1)+"-"+ec},onClick:Ln=>K0(pt)},{title:g(()=>[i("div",yC,[i("img",{style:{height:"20px",width:"20px"},src:Y0(pt.label),alt:"none"},null,8,wC),i("span",bC,Fe(pt.label),1)])]),arrow:g(({isActive:Ln})=>[i("div",CC,[i("i",{class:ot(["fa",Ln?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",IC,[(V(!0),L(Ye,null,lt(Object.keys(pt.parameters),Ln=>(V(),L("div",{draggable:!0,style:{width:"100%"},onDragstart:tc=>_e(tc,Ln,pt,"handleDragend","default"),onClick:tc=>du(Ln.replace(/_multiple/g,""))},[c(ss,{text:T(Yo)[Ln],tooltip_text:T(Yo)[Ln],"custom-styles":{backgroundColor:"#ffffff",width:"100%",height:"40px"},"content-style":{backgroundColor:"#ffffff",paddingLeft:"40px",paddingRight:"10px"}},{icon:g(()=>[AC]),_:2},1032,["text","tooltip_text"])],40,xC))),256))])]),_:2},1032,["name","data","onClick"]))),256))]),_:2},1032,["modelValue"])])]),_:2},1032,["name","data"]))),256)),c(Nt,{name:"1-0-0",data:{name:"1-0-0"}},{title:g(()=>[kC]),arrow:g(({isActive:Z})=>[i("div",SC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",NC,[(V(!0),L(Ye,null,lt(so.value,(Z,Qe)=>(V(),L("div",{draggable:!0,style:{width:"100%"},index:Qe,onDragstart:pt=>_e(pt,Z.alias,Z,"handleDragendAdd","default")},[c(ss,{text:Z.alias,tooltip_text:Z.alias,"custom-styles":{backgroundColor:"#ffffff",width:"100%",height:"40px"},"content-style":{backgroundColor:"#ffffff",paddingLeft:"40px",paddingRight:"10px"}},{icon:g(()=>[DC]),_:2},1032,["text","tooltip_text"])],40,VC))),256))])]),_:1})]),_:1},8,["modelValue"])])]),_:1})):ae("",!0),ut.value==="superuser"?(V(),ke(Nt,{key:1,name:"2",data:{name:"2"},"item-background":"#ebeef4",style:{"border-bottom-width":"2px"}},{title:g(()=>[EC]),arrow:g(({isActive:Z})=>[i("div",GC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",MC,[ut.value==="superuser"?(V(),L("div",ZC,[i("div",zC,[c(qp,{style:{width:"100%",height:"100%"},onAddExtraModule:L0})]),i("div",RC,[c(o1,{style:{width:"100%",height:"100%"},onDeleteExtraModule:W0})])])):ae("",!0)])]),_:1})):ae("",!0),ut.value==="user"?(V(),ke(Nt,{key:2,name:"4",data:{name:"4"},"item-background":"#ebeef4"},{title:g(()=>[WC]),arrow:g(({isActive:Z})=>[i("div",LC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",BC,[c(rc,{userRole:ut.value,onLoadModel:l},null,8,["userRole"])])]),_:1})):ae("",!0),c(Nt,{name:"5",data:{name:"5"},"item-background":"#ebeef4"},{title:g(()=>[i("div",FC,[c(xm,{userRole:ut.value},null,8,["userRole"])])]),_:1}),ut.value==="superuser"?(V(),ke(Nt,{key:3,onClick:u,name:"6",data:{name:"6"},"item-background":"#ebeef4"},{title:g(()=>[YC,i("div",null,[c(de,{open:r.value,"onUpdate:open":h[7]||(h[7]=Z=>r.value=Z),title:"组件源码在线编辑",footer:null,style:{width:"60%"}},{default:g(()=>[c(Mm,{moduleWithCode:T(s),canOpenCodeEditor:a.value},null,8,["moduleWithCode","canOpenCodeEditor"])]),_:1},8,["open"])])]),_:1})):ae("",!0),ut.value==="superuser"?(V(),ke(Nt,{key:4,name:"7",data:{name:"7"},"item-background":"#ebeef4"},{title:g(()=>[$C]),arrow:g(({isActive:Z})=>[i("div",TC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",XC,[ut.value==="superuser"?(V(),L("div",OC,[i("div",HC,[c(S1,{style:{width:"100%",height:"100%"},userRole:ut.value,onResetModel:t,onLoadModel:l},null,8,["userRole"])]),PC])):ae("",!0)])]),_:1})):ae("",!0),ut.value==="superuser"?(V(),ke(Nt,{key:5,name:"8",data:{name:"8"},"item-background":"#ebeef4"},{title:g(()=>[KC]),arrow:g(({isActive:Z})=>[i("div",UC,[i("i",{class:ot(["fa",Z?"fa-caret-down":"fa-caret-right"])},null,2)])]),default:g(()=>[i("div",JC,[c(rc,{userRole:ut.value,ref_key:"superComponentTree",ref:ka,onResetModel:t,onLoadModel:l},null,8,["userRole"])])]),_:1})):ae("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["style"]),mt(i("div",{onMouseenter:h[11]||(h[11]=Z=>{ts.value=!0,So()}),onMouseleave:h[12]||(h[12]=Z=>{ts.value=!1,So()}),class:"sidebar-toggle",onClick:D2,style:Le({left:al.value?"300px":"0"})},[i("i",{class:ot(["fa-solid",al.value?"fa-angle-left":"fa-angle-right"])},null,2)],36),[[vt,qa.value]]),c(R2,{onDragover:h[40]||(h[40]=Ll(()=>{},["prevent"])),ref_key:"efContainerRef",ref:Q0,id:"efContainer",style:{padding:"0",height:"100%",background:"white"}},{default:g(()=>[i("div",jC,[i("div",QC,[i("div",{style:{width:"100%",height:"100%"},onDrop:wt},[c(T(py),{nodes:he.value,"onUpdate:nodes":h[13]||(h[13]=Z=>he.value=Z),edges:De.value,class:ot([{dark:Ce.value},"basic-flow"]),"default-viewport":{zoom:1},"min-zoom":.5,"max-zoom":4,onDragover:Ne,onDragleave:Xe,onEdgesChange:h[14]||(h[14]=Z=>tn(Z))},{"node-menu":g(Z=>[c(m8,{id:Z.id,userRole:ut.value,data:Z.data,onShowResults:en},null,8,["id","userRole","data"])]),"edge-button":g(Z=>[c(w8,{id:Z.id,"source-x":Z.sourceX,"source-y":Z.sourceY,"target-x":Z.targetX,"target-y":Z.targetY,"source-position":Z.sourcePosition,"target-position":Z.targetPosition,"marker-end":Z.markerEnd,style:Le(Z.style),"remove-btn-disabled":ut.value==="user"},null,8,["id","source-x","source-y","target-x","target-y","source-position","target-position","marker-end","style","remove-btn-disabled"])]),default:g(()=>[qC,c(ow,{style:Le({backgroundColor:T(we)?"#e7f3ff":"transparent",transition:"background-color 0.2s ease"})},null,8,["style"]),c(T(Ky),{style:{height:"40px"},onInteractionChange:K,position:"top-left"},{"icon-zoom-in":g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"放大地图"},n9,4)]),"icon-zoom-out":g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"缩小地图"},a9,4)]),"icon-fit-view":g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"自适应模型"},r9,4)]),"icon-lock":g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"解锁地图"},d9,4)]),"icon-unlock":g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"锁定地图"},h9,4)]),default:g(()=>[c(T(Tt),{title:"重置",onClick:pe},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"恢复地图初始位置"},v9,4)]),_:1}),c(T(Tt),{title:"背景",onClick:S},{default:g(()=>[Ce.value?(V(),L("div",{key:0,style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"明亮主题"},w9,4)):(V(),L("div",{key:1,style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"暗黑主题"},I9,4))]),_:1}),c(T(Tt),{onClick:v2,class:"control-operator-btn-default-css",disabled:Gt.value.clearModelOfViewFlowBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"生成报告"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"生成报告"},k9,4)]),_:1},8,["disabled","style"]),c(T(Tt),{onClick:Ht,class:"control-operator-btn-default-css",disabled:Gt.value.clearModelOfViewFlowBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"清空模型"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"清空模型"},V9,4)]),_:1},8,["disabled","style"]),ut.value==="superuser"?(V(),ke(T(Tt),{key:0,onClick:wl,class:"control-operator-btn-default-css",disabled:Gt.value.checkModelOfViewFlowBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"检查模型"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"检查模型"},G9,4)]),_:1},8,["disabled","style"])):ae("",!0),ut.value==="superuser"?(V(),ke(T(Tt),{key:1,onClick:D0,class:"control-operator-btn-default-css",disabled:Gt.value.saveModelOfViewFlowBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"保存模型"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"保存模型"},z9,4)]),_:1},8,["disabled","style"])):ae("",!0),c(T(Tt),{onClick:E0,class:"control-operator-btn-default-css",disabled:Gt.value.runModelOfViewFlowBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"运行模型"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"运行模型"},L9,4)]),_:1},8,["disabled","style"]),c(T(Tt),{onClick:Z0,class:"control-operator-btn-default-css",disabled:Gt.value.configPanelOfModelNodeBtn,style:Le({color:Ce.value?"#ffffff":"#000000"}),title:"模型配置"},{default:g(()=>[i("div",{style:Le([{height:"100%",width:"100%"},{color:Ce.value?"#ffffff":"#000000"}]),class:"control-operator-btn-default-css",title:"模型配置"},Y9,4)]),_:1},8,["disabled","style"])]),_:1})]),_:1},8,["nodes","edges","class"])],32)]),i("div",{class:ot(["configPanelOfModelNode",{hidden:Il.value}])},[i("div",{class:"closeConfigPanelBtnOfModelNode"},[i("button",{class:"icon-buttonOfElMain",onClick:z0},T9)]),i("div",X9,[c(Do,{modelValue:ou.value,"onUpdate:modelValue":h[22]||(h[22]=Z=>ou.value=Z),theme:"light",style:{"background-color":"#3c93f8"},onItemClick:R0},{default:g(()=>[Mt.value.includes("4")?(V(),ke(Nt,{key:0,name:"4-",data:{name:"4-"},"item-background":"#ebeef4","aria-expanded":!0},{title:g(()=>[O9]),arrow:g(({isActive:Z})=>[i("div",H9,[i("i",{class:ot(["fa-solid",Z?"fa-angle-down":"fa-angle-right"])},null,2)])]),default:g(()=>[i("div",P9,[K9,c(Ee,{type:"default",style:{"margin-top":"25px","margin-left":"0px",width:"160px","font-size":"16px","background-color":"#2082F9",color:"white"},onClick:p,icon:qe(T(of))},{default:g(()=>[le(" 从数据库加载 ")]),_:1},8,["icon"]),i("div",{class:"highlight",style:Le({color:V2(Vt.value),position:"relative","margin-top":"30px","max-width":"300px","word-wrap":"break-word"}),title:Vt.value},Fe(Vt.value!="无"?"已加载数据："+Vt.value:"当前未加载数据"),13,U9)]),c(T(No),{modelValue:f.value,"onUpdate:modelValue":h[16]||(h[16]=Z=>f.value=Z),width:"1000px"},{header:g(()=>[J9]),default:g(()=>[i("div",j9,[Q9,i("div",q9,[c(T(os),{modelValue:d.value,"onUpdate:modelValue":h[15]||(h[15]=Z=>d.value=Z),placeholder:"输入文件名",style:{width:"50%"}},null,8,["modelValue"]),c(T(sn),{type:"primary",style:{width:"20%","margin-left":"10px"},onClick:N2},{default:g(()=>[le("搜索")]),_:1})]),c(ve,{data:ll.value,height:"500",stripe:"",width:"100%"},{default:g(()=>[c(Be,{property:"owner",label:"文件上传者","show-overflow-tooltip":""}),c(Be,{property:"dataset_name",label:"文件名称","show-overflow-tooltip":""}),c(Be,{property:"description",label:"文件描述","show-overflow-tooltip":""}),c(Be,{label:"操作"},{default:g(Z=>[c(T(sn),{size:"small",type:"primary",style:{width:"50px"},onClick:Qe=>S2(Z.row,Z.$index),loading:ol.value===Z.$index,disabled:ol.value!==null&&ol.value!==Z.$index},{default:g(()=>[le(Fe(ol.value===Z.$index?"加载中":"加载"),1)]),_:2},1032,["onClick","loading","disabled"]),c(He,{title:"你确定要删除该数据文件吗",onConfirm:Qe=>k2(Z.$index,Z.row)},{reference:g(()=>[]),actions:g(({confirm:Qe,cancel:pt})=>[c($e,null,{default:g(()=>[c(be,{span:12},{default:g(()=>[c(T(sn),{size:"small",onClick:pt},{default:g(()=>[le("取消")]),_:2},1032,["onClick"])]),_:2},1024),c(be,{span:12},{default:g(()=>[c(T(sn),{type:"primary",size:"small",onClick:Qe},{default:g(()=>[le(" 确定 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onConfirm"]),c(T(sn),{size:"small",type:"success",style:{width:"50px"},onClick:Qe=>o(Z.row)},{default:g(()=>[le(" 查看 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1},8,["modelValue"])]),_:1})):ae("",!0),Mt.value.includes("1.2")?(V(),ke(Nt,{key:1,name:"1.2-",data:{name:"1.2-"},"item-background":"#ebeef4","aria-expanded":!0},{title:g(()=>[eI]),arrow:g(({isActive:Z})=>[i("div",tI,[i("i",{class:ot(["fa-solid",Z?"fa-angle-down":"fa-angle-right"])},null,2)])]),default:g(()=>[i("div",nI,[i("div",lI,[i("div",oI,[c(Ze,{style:{"font-size":"15px"}},{default:g(()=>[le("选择特征"),i("span",aI,"(共"+Fe(Object.keys(he.value[O.value[Oe.value.特征提取]].nodeInfo.parameters[Oe.value.特征提取]).length)+"个可选特征)",1)]),_:1})]),i("div",sI,[c(Te,{value:nn.value,"onUpdate:value":h[17]||(h[17]=Z=>nn.value=Z),mode:"multiple","max-tag-count":5,placeholder:"选择需要提取的特征",style:{width:"90%"}},{default:g(()=>[(V(!0),L(Ye,null,lt(he.value[O.value[Oe.value.特征提取]].nodeInfo.parameters[Oe.value.特征提取],(Z,Qe)=>(V(),ke(Re,{key:Qe,value:Qe,style:{width:"200px","background-color":"white"}},{default:g(()=>[le(Fe(Qe),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])])]),_:1})):ae("",!0),Mt.value.includes("1.3")&&T(Ge).use_algorithm!=="extra_feature_selection"?(V(),ke(Nt,{key:2,name:"1.3",data:{name:"1.3"},"aria-expanded":!0,"item-background":"#ebeef4"},{title:g(()=>[iI]),arrow:g(({isActive:Z})=>[i("div",rI,[i("i",{class:ot(["fa-solid",Z?"fa-angle-down":"fa-angle-right"])},null,2)])]),default:g(()=>[i("div",uI,[i("div",cI,[c(Ut,{modelValue:he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].rule,"onUpdate:modelValue":h[18]||(h[18]=Z=>he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].rule=Z)},{default:g(()=>[c(ft,{value:1,size:"large"},{default:g(()=>[le("规则一")]),_:1}),c(ft,{value:2,size:"large"},{default:g(()=>[le("规则二")]),_:1})]),_:1},8,["modelValue"]),he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].rule==1?(V(),L("div",dI,[fI,c(sl,null,{default:g(()=>[c(Rn,{label:"阈值"},{default:g(()=>[c(zn,{modelValue:he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].threshold1,"onUpdate:modelValue":h[19]||(h[19]=Z=>he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].threshold1=Z),precision:2,step:.05,max:1,min:0},null,8,["modelValue"])]),_:1})]),_:1})])):ae("",!0),he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].rule==2?(V(),L("div",gI,[hI,c(sl,null,{default:g(()=>[c(Rn,{label:"阈值"},{default:g(()=>[c(zn,{modelValue:he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].threshold2,"onUpdate:modelValue":h[20]||(h[20]=Z=>he.value[O.value[Oe.value.特征选择]].nodeInfo.parameters[Oe.value.特征选择].threshold2=Z),precision:2,step:.05,max:1,min:0},null,8,["modelValue"])]),_:1})]),_:1})])):ae("",!0)])])]),_:1})):ae("",!0),Mt.value.includes("1.5")?(V(),ke(Nt,{key:3,name:"1.5-",data:{name:"1.5-"},"item-background":"#ebeef4","aria-expanded":!0},{title:g(()=>[pI]),arrow:g(({isActive:Z})=>[i("div",mI,[i("i",{class:ot(["fa-solid",Z?"fa-angle-down":"fa-angle-right"])},null,2)])]),default:g(()=>[i("div",vI,[_I,c(Ut,{modelValue:he.value[O.value[Oe.value.无量纲化]].nodeInfo.parameters[Oe.value.无量纲化].useLog,"onUpdate:modelValue":h[21]||(h[21]=Z=>he.value[O.value[Oe.value.无量纲化]].nodeInfo.parameters[Oe.value.无量纲化].useLog=Z)},{default:g(()=>[c(ft,{value:!0,size:"large"},{default:g(()=>[le("是")]),_:1}),c(ft,{value:!1,size:"large"},{default:g(()=>[le("否")]),_:1})]),_:1},8,["modelValue"])])]),_:1})):ae("",!0),Mt.value.includes("1.4")?(V(),ke(Nt,{key:4,name:"1.4-",data:{name:"1.4-"},"item-background":"#ebeef4","aria-expanded":!0},{title:g(()=>[yI]),arrow:g(({isActive:Z})=>[i("div",wI,[i("i",{class:ot(["fa-solid",Z?"fa-angle-down":"fa-angle-right"])},null,2)])]),default:g(()=>[i("div",bI,[i("div",CI,[(V(!0),L(Ye,null,lt(he.value[O.value[Oe.value.小波变换]].nodeInfo.parameters[Oe.value.小波变换],(Z,Qe)=>(V(),ke($e,{key:Qe,style:{"margin-bottom":"20px"}},{default:g(()=>[c(be,{span:10,style:{"align-content":"center"}},{default:g(()=>[i("span",II,Fe(T(rf)[Qe])+"：",1)]),_:2},1024),c(be,{span:12},{default:g(()=>[c(Te,{value:he.value[O.value[Oe.value.小波变换]].nodeInfo.parameters[Oe.value.小波变换][Qe],"onUpdate:value":pt=>he.value[O.value[Oe.value.小波变换]].nodeInfo.parameters[Oe.value.小波变换][Qe]=pt,placeholder:"请选择参数",style:{width:"90%"}},{default:g(()=>[(V(!0),L(Ye,null,lt(P0[Qe],pt=>(V(),ke(Re,{key:pt.value,value:pt.value,style:{"background-color":"white"}},{default:g(()=>[le(Fe(pt.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})):ae("",!0),!Mt.value.includes("4")&&!Mt.value.includes("1.2")&&!Mt.value.includes("1.3")&&!Mt.value.includes("1.4")&&!Mt.value.includes("1.5")?(V(),L("div",xI," 暂无可调参数 ")):ae("",!0)]),_:1},8,["modelValue"])])],2),c(od,{name:"slide"},{default:g(()=>[C.value?mt((V(),L("div",{key:0,class:"result-areaOfElMain",style:Le({height:m.value+"px"})},[i("div",{class:"result-headerOfElMain",onMousedown:ee,onTouchstart:ne},[i("div",AI,[i("button",{class:"icon-buttonOfElMain",onClick:P,"aria-label":"隐藏结果",onKeydown:[Vo(Ll(P,["prevent"]),["enter"]),Vo(Ll(P,["prevent"]),["space"])]},NI,40,kI)])],32),i("div",VI,[i("div",DI,[T(dn)?(V(),L("div",EI,[GI,c(Ju,{percentage:T(Dn),indeterminate:!0},null,8,["percentage"])])):ae("",!0),(Pt.value||an.value)&&!T(dn)?(V(),L("div",MI,[c(b,{height:"480px",style:{"background-color":"white"}},{default:g(()=>[Pt.value?(V(),ke(Ee,{key:0,type:"text",style:{position:"absolute",top:"5px",right:"5px"},onClick:h[23]||(h[23]=Z=>Pt.value=!1)},{default:g(()=>[le("关闭 ")]),_:1})):ae("",!0),Pt.value?(V(),ke(Dt,{key:1,text:cu.value,style:{"text-align":"left"}},null,8,["text"])):ae("",!0),an.value?(V(),ke(Dt,{key:2,text:ko.value,style:{"text-align":"center","padding-top":"80px"}},null,8,["text"])):ae("",!0)]),_:1})])):ae("",!0),!Pt.value&&!an.value&&!wn.value&&!xl.value&&!T(dn)?(V(),L("div",ZI,[c(b,{height:"100%"},{default:g(()=>[(ut.value==="superuser"||ut.value==="user")&&ya.value==="customModel"?(V(),L("div",zI,[ut.value==="superuser"?(V(),ke(Dt,{key:0,text:Y7,style:{"text-align":"left"}})):ae("",!0),ut.value==="superuser"?(V(),L("div",RI,LI)):ae("",!0)])):ae("",!0),ut.value==="superuser"&&ya.value==="templateModel"?(V(),L("div",BI,[c(Dt,{text:$7,style:{"text-align":"left"}})])):ae("",!0),ut.value==="user"&&ya.value==="templateModel"?(V(),L("div",FI,[c(Dt,{text:T7,style:{"text-align":"left"}})])):ae("",!0)]),_:1})])):ae("",!0),xl.value&&!T(dn)?(V(),L("div",YI,[c(b,{height:"570px",style:{"background-color":"white"}},{default:g(()=>[c(Ee,{type:"text",style:{position:"absolute",top:"5px",right:"5px"},onClick:h[24]||(h[24]=Z=>xl.value=!1)},{default:g(()=>[le(" 关闭 ")]),_:1}),c(Dt,{text:gu.value,style:{"text-align":"left"}},null,8,["text"])]),_:1})])):ae("",!0),wn.value&&!T(dn)?mt((V(),ke(b,{key:4,height:"100%",style:{"background-color":"white"}},{default:g(()=>[Bt.value||En.value?mt((V(),L("div",$I,[mt(i("div",null,[i("div",TI,[i("div",XI,[c(df,{data:bu.value},null,8,["data"])]),i("div",OI,[HI,i("div",PI,[c(Ze,{style:{"font-weight":"bold","font-size":"18px"}},{default:g(()=>[le(Fe(Sa.value),1)]),_:1})])])])],512),[[vt,ln.value==="总结论"]]),mt(i("div",null,[Bt.value||En.value?mt((V(),ke(Wn,{key:0,type:"border-card","tab-position":"top",modelValue:wu.value,"onUpdate:modelValue":h[26]||(h[26]=Z=>wu.value=Z)},{default:g(()=>[(V(!0),L(Ye,null,lt(Sl.value,(Z,Qe)=>(V(),ke(Jt,{key:Qe,label:Qe,name:Qe},{default:g(()=>[c(Wn,{type:"border-card","tab-position":"left",modelValue:yu.value,"onUpdate:modelValue":h[25]||(h[25]=pt=>yu.value=pt)},{default:g(()=>[c(Jt,{label:"层级有效指标",name:"first"},{default:g(()=>[c(St,{style:{width:"auto",height:"450px"},src:Sl.value[Qe],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Sl.value[Qe]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1024),c(Jt,{label:"指标权重",name:"second"},{default:g(()=>[c(St,{style:{width:"auto",height:"450px"},src:co.value[Qe],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[co.value[Qe]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1024),c(Jt,{label:"评估结果",name:"third"},{default:g(()=>[i("div",KI,[c(St,{style:{width:"800px",height:"auto"},src:fo.value[Qe],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[fo.value[Qe]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"]),UI,i("div",JI,[c(Ze,{"v-model":go.value[Qe],style:{"font-weight":"bold","font-size":"18px"}},{default:g(()=>[le(Fe(go.value[Qe]),1)]),_:2},1032,["v-model"])])])]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])),[[vt,Bt.value]]):ae("",!0)],512),[[vt,ln.value==="详情"]])],512)),[[vt,Bt.value]]):ae("",!0),Nl.value||Na.value?mt((V(),L("div",jI,[c(Wn,{"tab-position":"left",type:"border-card",modelValue:Va.value,"onUpdate:modelValue":h[27]||(h[27]=Z=>Va.value=Z)},{default:g(()=>[(V(!0),L(Ye,null,lt(Vl.value,Z=>(V(),ke(Jt,{key:Z.snesor_no,label:Z.sensor_no,name:Z.sensor_no},{default:g(()=>[i("div",{id:Z.sensor_no,style:{width:"1300px",height:"400px"}},null,8,QI),i("div",{id:Z.sensor_no+"features",style:{width:"1300px",height:"400px"}},null,8,qI)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])],512)),[[vt,Nl.value&&T(dt)]]):ae("",!0),Dl.value||Da.value?mt((V(),L("div",e7,[mt(i("div",null,[c(b,{height:"100%",style:{display:"flex","flex-direction":"column","justify-content":"center",width:"100%",height:"100%","align-items":"center"}},{default:g(()=>[t7,i("div",n7,[i("span",l7,"根据规则："+Fe(Iu.value)+"，选取特征结果为： "+Fe(Ea.value),1)])]),_:1})],512),[[vt,ln.value==="特征选择结果"]]),mt(i("div",null,[c(b,{height:"100%"},{default:g(()=>[c(St,{style:{width:"auto",height:"500px"},src:Ga.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Ga.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:1})],512),[[vt,ln.value==="相关系数矩阵热力图"]])],512)),[[vt,Dl.value&&T(dt)]]):ae("",!0),El.value||po.value?mt((V(),L("div",o7,[c(Dt,{style:{padding:"0px",margin:"0px"},text:Nu.value},null,8,["text"]),i("div",a7,[i("span",s7,[c(Ee,{circle:"",icon:qe(T(af)),onClick:h[28]||(h[28]=Z=>Ma.value=!0)},null,8,["icon"]),le(" 反馈 ")]),c(de,{open:Ma.value,"onUpdate:open":h[31]||(h[31]=Z=>Ma.value=Z),title:"用户反馈",cancelText:"取消",okText:"提交",onOk:u2},{default:g(()=>[i("div",i7,[i("p",null,"当前使用的模型："+Fe(T(n)),1),i("p",null,"当前使用的数据："+Fe(Vt.value),1)]),c(M2,{model:Gn,rules:r2,ref_key:"feedBackFormRef",ref:Au},{default:g(()=>[c(ju,{label:"当前模型中存在疑问的模块",name:"module"},{default:g(()=>[c(Te,{style:{width:"70%"},placeholder:"请选择组件",value:Gn.module,"onUpdate:value":h[29]||(h[29]=Z=>Gn.module=Z)},{default:g(()=>[(V(!0),L(Ye,null,lt(it.modules,Z=>(V(),ke(Re,{value:Z},{default:g(()=>[le(Fe(Z),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1}),c(ju,{name:"feedbackContent"},{default:g(()=>[r7,c(G2,{style:{width:"80%"},value:Gn.feedbackContent,"onUpdate:value":h[30]||(h[30]=Z=>Gn.feedbackContent=Z)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])]),Eu.value===1?mt((V(),L("div",u7,[c7,c(zm,{data:Du.value},null,8,["data"])],512)),[[vt,ln.value==="连续样本指标变换"]]):ae("",!0),mt(i("div",null,f7,512),[[vt,ln.value==="不同类型样本占比"]]),ln.value==="原始信号波形图"?(V(),L("div",g7,[i("div",h7,[c(St,{style:{width:"auto",height:"450px"},src:Za.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Za.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])])):ae("",!0),mt(i("div",null,[i("div",p7,[i("div",m7,[v7,i("div",null,Fe(mo.value),1)]),Gl.value!=""?(V(),ke(St,{key:0,style:{width:"auto",height:"450px"},src:Gl.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Gl.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])):ae("",!0)])],512),[[vt,ln.value==="准确率分析"]])],512)),[[vt,El.value&&T(dt)]]):ae("",!0),Ml.value||Ra.value?mt((V(),L("div",_7,[i("div",y7,[le(" 经故障诊断算法，目前该部件"),i("span",{"v-model":vo.value,style:{"font-weight":"bold",color:"red"}},Fe(vo.value),9,w7),Wa.value?ae("",!0):(V(),L("span",{key:0,"v-model":La.value,style:{"font-weight":"bold"}},"根据故障预测算法预测，该部件"+Fe(La.value)+"后会出现故障",9,b7))]),C7,c(St,{style:{width:"auto",height:"450px"},src:Ba.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Ba.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])],512)),[[vt,Ml.value&&T(dt)]]):ae("",!0),Zl.value||Fa.value?mt((V(),ke(Wn,{key:5,modelValue:Zu.value,"onUpdate:modelValue":h[32]||(h[32]=Z=>Zu.value=Z),type:"border-card"},{default:g(()=>[(V(!0),L(Ye,null,lt(Ya.value,Z=>(V(),ke(Jt,{key:Z.name,label:Z.label,name:Z.name},{default:g(()=>[c(St,{style:{width:"auto",height:"450px"},src:_o.value[Z.name-1],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[_o.value[Z.name-1]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])),[[vt,Zl.value&&T(dt)]]):ae("",!0),zl.value||$a.value?mt((V(),ke(Wn,{key:6,modelValue:Ru.value,"onUpdate:modelValue":h[33]||(h[33]=Z=>Ru.value=Z),type:"border-card"},{default:g(()=>[(V(!0),L(Ye,null,lt(Ta.value,Z=>(V(),ke(Jt,{key:Z.name,label:Z.label,name:Z.name},{default:g(()=>[c(St,{style:{width:"auto",height:"450px"},src:yo.value[Z.name-1],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[yo.value[Z.name-1]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])),[[vt,zl.value&&T(dt)]]):ae("",!0),Rl.value||Xa.value?mt((V(),L("div",I7,[Co.value=="table"?(V(),L("div",x7,[A7,c(ve,{data:Bu.value,style:{width:"96%","margin-top":"20px"}},{default:g(()=>[(V(!0),L(Ye,null,lt(wo.value,Z=>(V(),ke(Be,{key:Z.prop,prop:Z.prop,label:Z.label,width:Z.width},null,8,["prop","label","width"]))),128))]),_:1},8,["data"]),k7,S7,c(ve,{data:Fu.value,style:{width:"96%","margin-top":"20px"}},{default:g(()=>[(V(!0),L(Ye,null,lt(wo.value,Z=>(V(),ke(Be,{key:Z.prop,prop:Z.prop,label:Z.label,width:Z.width},null,8,["prop","label","width"]))),128))]),_:1},8,["data"])])):ae("",!0),Co.value=="figure"?(V(),ke(Wn,{key:1,modelValue:Lu.value,"onUpdate:modelValue":h[34]||(h[34]=Z=>Lu.value=Z),type:"border-card"},{default:g(()=>[(V(!0),L(Ye,null,lt(Oa.value,Z=>(V(),ke(Jt,{key:Z.name,label:Z.label,name:Z.name},{default:g(()=>[c(St,{style:{width:"900",height:"450px"},src:bo.value[Z.name-1],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[bo.value[Z.name-1]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])):ae("",!0)],512)),[[vt,Rl.value&&T(dt)]]):ae("",!0),Wl.value||Ha.value?mt((V(),ke(Wn,{key:8,modelValue:Tu.value,"onUpdate:modelValue":h[35]||(h[35]=Z=>Tu.value=Z),type:"border-card"},{default:g(()=>[(V(!0),L(Ye,null,lt(Pa.value,Z=>(V(),ke(Jt,{key:Z.name,label:Z.label,name:Z.name},{default:g(()=>[c(St,{style:{width:"auto",height:"450px"},src:Io.value[Z.name-1],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Io.value[Z.name-1]],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])),[[vt,Wl.value&&T(dt)]]):ae("",!0),xo.value?(V(),L("div",N7,[c(T(sn),{text:"",style:{color:"green",position:"absolute",right:"10px",top:"10px",width:"90px",height:"50px"},onClick:h[36]||(h[36]=Z=>xo.value=!1)},{default:g(()=>[le("关闭 ")]),_:1}),V7,i("p",D7,"文件名："+Fe(Ou.value),1),c(St,{style:{width:"auto",height:"450px"},src:Ka.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[Ka.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])):ae("",!0)]),_:1},512)),[[vt,wn.value&&!T(dn)]]):ae("",!0)])])],4)),[[vt,C.value]]):ae("",!0)]),_:1}),i("div",E7,[C.value?ae("",!0):(V(),L("button",{key:0,class:"icon-buttonOfElMain",style:Le(Ce.value?"color: #ffffff;":"color: #000000;"),onClick:H,"aria-label":"显示结果",onKeydown:[Vo(Ll(H,["prevent"]),["enter"]),Vo(Ll(H,["prevent"]),["space"])]},Z7,44,G7))]),c(T(No),{modelValue:Ua.value,"onUpdate:modelValue":h[39]||(h[39]=Z=>Ua.value=Z),title:"模型输出报告",style:{width:"40%","min-height":"30%"}},{title:g(()=>[z7]),default:g(()=>[i("div",R7,[i("div",null,[c($e,{gutter:20},{default:g(()=>[c(be,{span:24,style:{display:"flex","justify-content":"center","margin-bottom":"10px"}},{default:g(()=>[W7]),_:1}),c(be,{span:24,style:{display:"flex","justify-content":"center"}},{default:g(()=>[i("div",L7,[c($e,null,{default:g(()=>[c(be,{span:24,style:{display:"flex","justify-content":"center"}},{default:g(()=>[c(Qu,{modelValue:nl.value,"onUpdate:modelValue":h[37]||(h[37]=Z=>nl.value=Z),onChange:m2},{default:g(()=>[le(" 全选 ")]),_:1},8,["modelValue"])]),_:1}),c(be,{span:24,style:{display:"flex","justify-content":"center"}},{default:g(()=>[c(Z2,{modelValue:Zt.value,"onUpdate:modelValue":h[38]||(h[38]=Z=>Zt.value=Z),min:1},{default:g(()=>[(V(!0),L(Ye,null,lt(Mn.value,Z=>(V(),ke(Qu,{size:"large",key:Z,label:Z,value:Z},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(T(sn),{style:{width:"180px","font-size":"16px","margin-top":"20px"},type:"primary",loading:Ao.value,onClick:y2},{default:g(()=>[le(" 输出报告并下载 ")]),_:1},8,["loading"])])]),_:1})]),_:1}),c($e,{style:{"margin-top":"20px","margin-bottom":"20px"}},{default:g(()=>[c(be,{span:24},{default:g(()=>[c(z2)]),_:1})]),_:1}),c($e,{gutter:20},{default:g(()=>[c(be,{span:24,style:{display:"flex","justify-content":"center","margin-bottom":"10px"}},{default:g(()=>[B7]),_:1}),c(be,{span:24,style:{display:"flex","justify-content":"center"}},{default:g(()=>[c(T(sn),{type:"success",style:{width:"180px","font-size":"16px"},onClick:E2,loading:ns.value},{default:g(()=>[le(" 点击生成 ")]),_:1},8,["loading"])]),_:1})]),_:1})])])]),_:1},8,["modelValue"])])]),_:1},512)]),_:1})]),_:1}),c(de,{open:Al.value,"onUpdate:open":h[46]||(h[46]=Z=>Al.value=Z),title:"保存模型",width:"30%",footer:""},{default:g(()=>[c(sl,{model:kt.value,rules:T0,ref:"modelInfoFormRef"},{default:g(()=>[c(Rn,{label:"模型名称","label-width":140,prop:"name"},{default:g(()=>[c(T(os),{style:{width:"200px"},modelValue:kt.value.name,"onUpdate:modelValue":h[41]||(h[41]=Z=>kt.value.name=Z),autocomplete:"off"},null,8,["modelValue"])]),_:1}),c(Rn,{label:"模型描述","label-width":140,prop:"description"},{default:g(()=>[c(T(os),{style:{width:"200px"},modelValue:kt.value.description,"onUpdate:modelValue":h[42]||(h[42]=Z=>kt.value.description=Z)},null,8,["modelValue"])]),_:1}),c(Rn,{label:"适配部件","label-width":140,prop:"classify"},{default:g(()=>[c(W2,{value:kt.value.class,"onUpdate:value":h[43]||(h[43]=Z=>kt.value.class=Z),"show-search":"",style:{width:"200px"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"请选择适配部位分类","allow-clear":"","tree-data":l2.value,"tree-node-filter-prop":"label"},{title:g(({value:Z,label:Qe})=>[i("span",null,Fe(Qe),1)]),_:1},8,["value","tree-data"])]),_:1})]),_:1},8,["model"]),i("span",F7,[c(T(sn),{style:{"margin-left":"85px",width:"150px"},onClick:h[44]||(h[44]=Z=>Al.value=!1)},{default:g(()=>[le("取消")]),_:1}),c(T(sn),{style:{width:"150px"},type:"primary",onClick:h[45]||(h[45]=Z=>o2(y.modelInfoFormRef))},{default:g(()=>[le("确定")]),_:1})])]),_:1},8,["open"])])}}}),Q7=Ot(O7,[["__scopeId","data-v-a2472b94"]]);export{Q7 as default};
